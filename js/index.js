(()=>{var t={455:function(t){t.exports=function(){"use strict";function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t(e)}function e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(o=r.key,i=void 0,"symbol"==typeof(i=function(t,e){if("object"!=typeof t||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"))?i:String(i)),r)}var o,i}function r(t,e,r){return e&&n(t.prototype,e),r&&n(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function o(t){return o=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},o(t)}function i(t,e){return i=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},i(t,e)}function a(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function s(t,e,n){return s=a()?Reflect.construct.bind():function(t,e,n){var r=[null];r.push.apply(r,e);var o=new(Function.bind.apply(t,r));return n&&i(o,n.prototype),o},s.apply(null,arguments)}function l(t,e){if(e&&("object"==typeof e||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function u(){return u="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=o(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(arguments.length<3?t:n):i.value}},u.apply(this,arguments)}function c(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i,a,s=[],l=!0,u=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(t){u=!0,o=t}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw o}}return s}}(t,e)||f(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(t){return function(t){if(Array.isArray(t))return p(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||f(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(t,e){if(t){if("string"==typeof t)return p(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?p(t,e):void 0}}function p(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function d(t,e){return function(t,e){return e.get?e.get.call(t):e.value}(t,w(t,e,"get"))}function g(t,e,n){return function(t,e,n){if(e.set)e.set.call(t,n);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=n}}(t,w(t,e,"set"),n),n}function w(t,e,n){if(!e.has(t))throw new TypeError("attempted to "+n+" private field on non-instance");return e.get(t)}function m(t,e,n){(function(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")})(t,e),e.set(t,n)}var v={},b=function(t){return new Promise((function(e){if(!t)return e();var n=window.scrollX,r=window.scrollY;v.restoreFocusTimeout=setTimeout((function(){v.previousActiveElement instanceof HTMLElement?(v.previousActiveElement.focus(),v.previousActiveElement=null):document.body&&document.body.focus(),e()}),100),window.scrollTo(n,r)}))},y="swal2-",k=["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","default-outline","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error"].reduce((function(t,e){return t[e]=y+e,t}),{}),x=["success","warning","info","question","error"].reduce((function(t,e){return t[e]=y+e,t}),{}),S="SweetAlert2:",E=function(t){return t.charAt(0).toUpperCase()+t.slice(1)},C=function(e){console.warn("".concat(S," ").concat("object"===t(e)?e.join(" "):e))},N=function(t){console.error("".concat(S," ").concat(t))},O=[],A=function(t,e){var n;n='"'.concat(t,'" is deprecated and will be removed in the next major release. Please use "').concat(e,'" instead.'),O.includes(n)||(O.push(n),C(n))},T=function(t){return"function"==typeof t?t():t},P=function(t){return t&&"function"==typeof t.toPromise},I=function(t){return P(t)?t.toPromise():Promise.resolve(t)},q=function(t){return t&&Promise.resolve(t)===t},j=function(){return document.body.querySelector(".".concat(k.container))},B=function(t){var e=j();return e?e.querySelector(t):null},D=function(t){return B(".".concat(t))},R=function(){return D(k.popup)},L=function(){return D(k.icon)},M=function(){return D(k.title)},F=function(){return D(k["html-container"])},_=function(){return D(k.image)},U=function(){return D(k["progress-steps"])},H=function(){return D(k["validation-message"])},K=function(){return B(".".concat(k.actions," .").concat(k.confirm))},z=function(){return B(".".concat(k.actions," .").concat(k.cancel))},V=function(){return B(".".concat(k.actions," .").concat(k.deny))},W=function(){return B(".".concat(k.loader))},$=function(){return D(k.actions)},Y=function(){return D(k.footer)},G=function(){return D(k["timer-progress-bar"])},J=function(){return D(k.close)},X=function(){var t=R();if(!t)return[];var e=t.querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])'),n=Array.from(e).sort((function(t,e){var n=parseInt(t.getAttribute("tabindex")||"0"),r=parseInt(e.getAttribute("tabindex")||"0");return n>r?1:n<r?-1:0})),r=t.querySelectorAll('\n  a[href],\n  area[href],\n  input:not([disabled]),\n  select:not([disabled]),\n  textarea:not([disabled]),\n  button:not([disabled]),\n  iframe,\n  object,\n  embed,\n  [tabindex="0"],\n  [contenteditable],\n  audio[controls],\n  video[controls],\n  summary\n'),o=Array.from(r).filter((function(t){return"-1"!==t.getAttribute("tabindex")}));return h(new Set(n.concat(o))).filter((function(t){return gt(t)}))},Z=function(){return et(document.body,k.shown)&&!et(document.body,k["toast-shown"])&&!et(document.body,k["no-backdrop"])},Q=function(){var t=R();return!!t&&et(t,k.toast)},tt=function(t,e){if(t.textContent="",e){var n=(new DOMParser).parseFromString(e,"text/html"),r=n.querySelector("head");r&&Array.from(r.childNodes).forEach((function(e){t.appendChild(e)}));var o=n.querySelector("body");o&&Array.from(o.childNodes).forEach((function(e){e instanceof HTMLVideoElement||e instanceof HTMLAudioElement?t.appendChild(e.cloneNode(!0)):t.appendChild(e)}))}},et=function(t,e){if(!e)return!1;for(var n=e.split(/\s+/),r=0;r<n.length;r++)if(!t.classList.contains(n[r]))return!1;return!0},nt=function(e,n,r){if(function(t,e){Array.from(t.classList).forEach((function(n){Object.values(k).includes(n)||Object.values(x).includes(n)||Object.values(e.showClass||{}).includes(n)||t.classList.remove(n)}))}(e,n),n.customClass&&n.customClass[r]){if("string"!=typeof n.customClass[r]&&!n.customClass[r].forEach)return void C("Invalid type of customClass.".concat(r,'! Expected string or iterable object, got "').concat(t(n.customClass[r]),'"'));at(e,n.customClass[r])}},rt=function(t,e){if(!e)return null;switch(e){case"select":case"textarea":case"file":return t.querySelector(".".concat(k.popup," > .").concat(k[e]));case"checkbox":return t.querySelector(".".concat(k.popup," > .").concat(k.checkbox," input"));case"radio":return t.querySelector(".".concat(k.popup," > .").concat(k.radio," input:checked"))||t.querySelector(".".concat(k.popup," > .").concat(k.radio," input:first-child"));case"range":return t.querySelector(".".concat(k.popup," > .").concat(k.range," input"));default:return t.querySelector(".".concat(k.popup," > .").concat(k.input))}},ot=function(t){if(t.focus(),"file"!==t.type){var e=t.value;t.value="",t.value=e}},it=function(t,e,n){t&&e&&("string"==typeof e&&(e=e.split(/\s+/).filter(Boolean)),e.forEach((function(e){Array.isArray(t)?t.forEach((function(t){n?t.classList.add(e):t.classList.remove(e)})):n?t.classList.add(e):t.classList.remove(e)})))},at=function(t,e){it(t,e,!0)},st=function(t,e){it(t,e,!1)},lt=function(t,e){for(var n=Array.from(t.children),r=0;r<n.length;r++){var o=n[r];if(o instanceof HTMLElement&&et(o,e))return o}},ut=function(t,e,n){n==="".concat(parseInt(n))&&(n=parseInt(n)),n||0===parseInt(n)?t.style[e]="number"==typeof n?"".concat(n,"px"):n:t.style.removeProperty(e)},ct=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"flex";t&&(t.style.display=e)},ht=function(t){t&&(t.style.display="none")},ft=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"block";t&&new MutationObserver((function(){dt(t,t.innerHTML,e)})).observe(t,{childList:!0,subtree:!0})},pt=function(t,e,n,r){var o=t.querySelector(e);o&&(o.style[n]=r)},dt=function(t,e){e?ct(t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:"flex"):ht(t)},gt=function(t){return!(!t||!(t.offsetWidth||t.offsetHeight||t.getClientRects().length))},wt=function(t){return!!(t.scrollHeight>t.clientHeight)},mt=function(t){var e=window.getComputedStyle(t),n=parseFloat(e.getPropertyValue("animation-duration")||"0"),r=parseFloat(e.getPropertyValue("transition-duration")||"0");return n>0||r>0},vt=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=G();n&&gt(n)&&(e&&(n.style.transition="none",n.style.width="100%"),setTimeout((function(){n.style.transition="width ".concat(t/1e3,"s linear"),n.style.width="0%"}),10))},bt=function(){return"undefined"==typeof window||"undefined"==typeof document},yt='\n <div aria-labelledby="'.concat(k.title,'" aria-describedby="').concat(k["html-container"],'" class="').concat(k.popup,'" tabindex="-1">\n   <button type="button" class="').concat(k.close,'"></button>\n   <ul class="').concat(k["progress-steps"],'"></ul>\n   <div class="').concat(k.icon,'"></div>\n   <img class="').concat(k.image,'" />\n   <h2 class="').concat(k.title,'" id="').concat(k.title,'"></h2>\n   <div class="').concat(k["html-container"],'" id="').concat(k["html-container"],'"></div>\n   <input class="').concat(k.input,'" id="').concat(k.input,'" />\n   <input type="file" class="').concat(k.file,'" />\n   <div class="').concat(k.range,'">\n     <input type="range" />\n     <output></output>\n   </div>\n   <select class="').concat(k.select,'" id="').concat(k.select,'"></select>\n   <div class="').concat(k.radio,'"></div>\n   <label class="').concat(k.checkbox,'">\n     <input type="checkbox" id="').concat(k.checkbox,'" />\n     <span class="').concat(k.label,'"></span>\n   </label>\n   <textarea class="').concat(k.textarea,'" id="').concat(k.textarea,'"></textarea>\n   <div class="').concat(k["validation-message"],'" id="').concat(k["validation-message"],'"></div>\n   <div class="').concat(k.actions,'">\n     <div class="').concat(k.loader,'"></div>\n     <button type="button" class="').concat(k.confirm,'"></button>\n     <button type="button" class="').concat(k.deny,'"></button>\n     <button type="button" class="').concat(k.cancel,'"></button>\n   </div>\n   <div class="').concat(k.footer,'"></div>\n   <div class="').concat(k["timer-progress-bar-container"],'">\n     <div class="').concat(k["timer-progress-bar"],'"></div>\n   </div>\n </div>\n').replace(/(^|\n)\s*/g,""),kt=function(){v.currentInstance.resetValidationMessage()},xt=function(t){var e,n,r,o,i,a,s,l,u,c,h=!!(e=j())&&(e.remove(),st([document.documentElement,document.body],[k["no-backdrop"],k["toast-shown"],k["has-column"]]),!0);if(bt())N("SweetAlert2 requires document to initialize");else{var f=document.createElement("div");f.className=k.container,h&&at(f,k["no-transition"]),tt(f,yt);var p="string"==typeof(c=t.target)?document.querySelector(c):c;p.appendChild(f),function(t){var e=R();e.setAttribute("role",t.toast?"alert":"dialog"),e.setAttribute("aria-live",t.toast?"polite":"assertive"),t.toast||e.setAttribute("aria-modal","true")}(t),function(t){"rtl"===window.getComputedStyle(t).direction&&at(j(),k.rtl)}(p),n=R(),r=lt(n,k.input),o=lt(n,k.file),i=n.querySelector(".".concat(k.range," input")),a=n.querySelector(".".concat(k.range," output")),s=lt(n,k.select),l=n.querySelector(".".concat(k.checkbox," input")),u=lt(n,k.textarea),r.oninput=kt,o.onchange=kt,s.onchange=kt,l.onchange=kt,u.oninput=kt,i.oninput=function(){kt(),a.value=i.value},i.onchange=function(){kt(),a.value=i.value}}},St=function(e,n){e instanceof HTMLElement?n.appendChild(e):"object"===t(e)?Et(e,n):e&&tt(n,e)},Et=function(t,e){t.jquery?Ct(e,t):tt(e,t.toString())},Ct=function(t,e){if(t.textContent="",0 in e)for(var n=0;n in e;n++)t.appendChild(e[n].cloneNode(!0));else t.appendChild(e.cloneNode(!0))},Nt=function(){if(bt())return!1;var t=document.createElement("div");return void 0!==t.style.webkitAnimation?"webkitAnimationEnd":void 0!==t.style.animation&&"animationend"}(),Ot=function(t,e){var n=$(),r=W();n&&r&&(e.showConfirmButton||e.showDenyButton||e.showCancelButton?ct(n):ht(n),nt(n,e,"actions"),function(t,e,n){var r=K(),o=V(),i=z();r&&o&&i&&(At(r,"confirm",n),At(o,"deny",n),At(i,"cancel",n),function(t,e,n,r){r.buttonsStyling?(at([t,e,n],k.styled),r.confirmButtonColor&&(t.style.backgroundColor=r.confirmButtonColor,at(t,k["default-outline"])),r.denyButtonColor&&(e.style.backgroundColor=r.denyButtonColor,at(e,k["default-outline"])),r.cancelButtonColor&&(n.style.backgroundColor=r.cancelButtonColor,at(n,k["default-outline"]))):st([t,e,n],k.styled)}(r,o,i,n),n.reverseButtons&&(n.toast?(t.insertBefore(i,r),t.insertBefore(o,r)):(t.insertBefore(i,e),t.insertBefore(o,e),t.insertBefore(r,e))))}(n,r,e),tt(r,e.loaderHtml||""),nt(r,e,"loader"))};function At(t,e,n){var r=E(e);dt(t,n["show".concat(r,"Button")],"inline-block"),tt(t,n["".concat(e,"ButtonText")]||""),t.setAttribute("aria-label",n["".concat(e,"ButtonAriaLabel")]||""),t.className=k[e],nt(t,n,"".concat(e,"Button"))}var Tt=function(t,e){var n=j();n&&(function(t,e){"string"==typeof e?t.style.background=e:e||at([document.documentElement,document.body],k["no-backdrop"])}(n,e.backdrop),function(t,e){e&&(e in k?at(t,k[e]):(C('The "position" parameter is not valid, defaulting to "center"'),at(t,k.center)))}(n,e.position),function(t,e){e&&at(t,k["grow-".concat(e)])}(n,e.grow),nt(n,e,"container"))};var Pt={innerParams:new WeakMap,domCache:new WeakMap},It=["input","file","range","select","radio","checkbox","textarea"],qt=function(t){if(t.input)if(Ft[t.input]){var e=Lt(t.input),n=Ft[t.input](e,t);ct(e),t.inputAutoFocus&&setTimeout((function(){ot(n)}))}else N("Unexpected type of input! Expected ".concat(Object.keys(Ft).join(" | "),', got "').concat(t.input,'"'))},jt=function(t,e){var n=rt(R(),t);if(n)for(var r in function(t){for(var e=0;e<t.attributes.length;e++){var n=t.attributes[e].name;["id","type","value","style"].includes(n)||t.removeAttribute(n)}}(n),e)n.setAttribute(r,e[r])},Bt=function(e){var n=Lt(e.input);"object"===t(e.customClass)&&at(n,e.customClass.input)},Dt=function(t,e){t.placeholder&&!e.inputPlaceholder||(t.placeholder=e.inputPlaceholder)},Rt=function(e,n,r){if(r.inputLabel){var o=document.createElement("label"),i=k["input-label"];o.setAttribute("for",e.id),o.className=i,"object"===t(r.customClass)&&at(o,r.customClass.inputLabel),o.innerText=r.inputLabel,n.insertAdjacentElement("beforebegin",o)}},Lt=function(t){return lt(R(),k[t]||k.input)},Mt=function(e,n){["string","number"].includes(t(n))?e.value="".concat(n):q(n)||C('Unexpected type of inputValue! Expected "string", "number" or "Promise", got "'.concat(t(n),'"'))},Ft={};Ft.text=Ft.email=Ft.password=Ft.number=Ft.tel=Ft.url=Ft.search=Ft.date=Ft["datetime-local"]=Ft.time=Ft.week=Ft.month=function(t,e){return Mt(t,e.inputValue),Rt(t,t,e),Dt(t,e),t.type=e.input,t},Ft.file=function(t,e){return Rt(t,t,e),Dt(t,e),t},Ft.range=function(t,e){var n=t.querySelector("input"),r=t.querySelector("output");return Mt(n,e.inputValue),n.type=e.input,Mt(r,e.inputValue),Rt(n,t,e),t},Ft.select=function(t,e){if(t.textContent="",e.inputPlaceholder){var n=document.createElement("option");tt(n,e.inputPlaceholder),n.value="",n.disabled=!0,n.selected=!0,t.appendChild(n)}return Rt(t,t,e),t},Ft.radio=function(t){return t.textContent="",t},Ft.checkbox=function(t,e){var n=rt(R(),"checkbox");n.value="1",n.checked=Boolean(e.inputValue);var r=t.querySelector("span");return tt(r,e.inputPlaceholder),n},Ft.textarea=function(t,e){Mt(t,e.inputValue),Dt(t,e),Rt(t,t,e);return setTimeout((function(){if("MutationObserver"in window){var n=parseInt(window.getComputedStyle(R()).width);new MutationObserver((function(){if(document.body.contains(t)){var r=t.offsetWidth+(o=t,parseInt(window.getComputedStyle(o).marginLeft)+parseInt(window.getComputedStyle(o).marginRight));r>n?R().style.width="".concat(r,"px"):ut(R(),"width",e.width)}var o})).observe(t,{attributes:!0,attributeFilter:["style"]})}})),t};var _t=function(t,e){var n=F();n&&(ft(n),nt(n,e,"htmlContainer"),e.html?(St(e.html,n),ct(n,"block")):e.text?(n.textContent=e.text,ct(n,"block")):ht(n),function(t,e){var n=R();if(n){var r=Pt.innerParams.get(t),o=!r||e.input!==r.input;It.forEach((function(t){var r=lt(n,k[t]);r&&(jt(t,e.inputAttributes),r.className=k[t],o&&ht(r))})),e.input&&(o&&qt(e),Bt(e))}}(t,e))},Ut=function(t,e){for(var n=0,r=Object.entries(x);n<r.length;n++){var o=c(r[n],2),i=o[0],a=o[1];e.icon!==i&&st(t,a)}at(t,e.icon&&x[e.icon]),zt(t,e),Ht(),nt(t,e,"icon")},Ht=function(){var t=R();if(t)for(var e=window.getComputedStyle(t).getPropertyValue("background-color"),n=t.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix"),r=0;r<n.length;r++)n[r].style.backgroundColor=e},Kt=function(t,e){if(e.icon||e.iconHtml){var n=t.innerHTML,r="";e.iconHtml?r=Vt(e.iconHtml):"success"===e.icon?(r='\n  <div class="swal2-success-circular-line-left"></div>\n  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>\n  <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>\n  <div class="swal2-success-circular-line-right"></div>\n',n=n.replace(/ style=".*?"/g,"")):"error"===e.icon?r='\n  <span class="swal2-x-mark">\n    <span class="swal2-x-mark-line-left"></span>\n    <span class="swal2-x-mark-line-right"></span>\n  </span>\n':e.icon&&(r=Vt({question:"?",warning:"!",info:"i"}[e.icon])),n.trim()!==r.trim()&&tt(t,r)}},zt=function(t,e){if(e.iconColor){t.style.color=e.iconColor,t.style.borderColor=e.iconColor;for(var n=0,r=[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"];n<r.length;n++){pt(t,r[n],"backgroundColor",e.iconColor)}pt(t,".swal2-success-ring","borderColor",e.iconColor)}},Vt=function(t){return'<div class="'.concat(k["icon-content"],'">').concat(t,"</div>")},Wt=function(t,e){var n=e.showClass||{};t.className="".concat(k.popup," ").concat(gt(t)?n.popup:""),e.toast?(at([document.documentElement,document.body],k["toast-shown"]),at(t,k.toast)):at(t,k.modal),nt(t,e,"popup"),"string"==typeof e.customClass&&at(t,e.customClass),e.icon&&at(t,k["icon-".concat(e.icon)])},$t=function(t){var e=document.createElement("li");return at(e,k["progress-step"]),tt(e,t),e},Yt=function(t){var e=document.createElement("li");return at(e,k["progress-step-line"]),t.progressStepsDistance&&ut(e,"width",t.progressStepsDistance),e},Gt=function(t,e){(function(t,e){var n=j(),r=R();if(n&&r){if(e.toast){ut(n,"width",e.width),r.style.width="100%";var o=W();o&&r.insertBefore(o,L())}else ut(r,"width",e.width);ut(r,"padding",e.padding),e.color&&(r.style.color=e.color),e.background&&(r.style.background=e.background),ht(H()),Wt(r,e)}})(0,e),Tt(0,e),function(t,e){var n=U();if(n){var r=e.progressSteps,o=e.currentProgressStep;r&&0!==r.length&&void 0!==o?(ct(n),n.textContent="",o>=r.length&&C("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),r.forEach((function(t,i){var a=$t(t);if(n.appendChild(a),i===o&&at(a,k["active-progress-step"]),i!==r.length-1){var s=Yt(e);n.appendChild(s)}}))):ht(n)}}(0,e),function(t,e){var n=Pt.innerParams.get(t),r=L();if(r){if(n&&e.icon===n.icon)return Kt(r,e),void Ut(r,e);if(e.icon||e.iconHtml){if(e.icon&&-1===Object.keys(x).indexOf(e.icon))return N('Unknown icon! Expected "success", "error", "warning", "info" or "question", got "'.concat(e.icon,'"')),void ht(r);ct(r),Kt(r,e),Ut(r,e),at(r,e.showClass&&e.showClass.icon)}else ht(r)}}(t,e),function(t,e){var n=_();n&&(e.imageUrl?(ct(n,""),n.setAttribute("src",e.imageUrl),n.setAttribute("alt",e.imageAlt||""),ut(n,"width",e.imageWidth),ut(n,"height",e.imageHeight),n.className=k.image,nt(n,e,"image")):ht(n))}(0,e),function(t,e){var n=M();n&&(ft(n),dt(n,e.title||e.titleText,"block"),e.title&&St(e.title,n),e.titleText&&(n.innerText=e.titleText),nt(n,e,"title"))}(0,e),function(t,e){var n=J();n&&(tt(n,e.closeButtonHtml||""),nt(n,e,"closeButton"),dt(n,e.showCloseButton),n.setAttribute("aria-label",e.closeButtonAriaLabel||""))}(0,e),_t(t,e),Ot(0,e),function(t,e){var n=Y();n&&(ft(n),dt(n,e.footer,"block"),e.footer&&St(e.footer,n),nt(n,e,"footer"))}(0,e);var n=R();"function"==typeof e.didRender&&n&&e.didRender(n)},Jt=function(){var t;return null===(t=K())||void 0===t?void 0:t.click()},Xt=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),Zt=function(t){t.keydownTarget&&t.keydownHandlerAdded&&(t.keydownTarget.removeEventListener("keydown",t.keydownHandler,{capture:t.keydownListenerCapture}),t.keydownHandlerAdded=!1)},Qt=function(t,e){var n,r=X();if(r.length)return(t+=e)===r.length?t=0:-1===t&&(t=r.length-1),void r[t].focus();null===(n=R())||void 0===n||n.focus()},te=["ArrowRight","ArrowDown"],ee=["ArrowLeft","ArrowUp"],ne=function(t,e,n){t&&(e.isComposing||229===e.keyCode||(t.stopKeydownPropagation&&e.stopPropagation(),"Enter"===e.key?re(e,t):"Tab"===e.key?oe(e):[].concat(te,ee).includes(e.key)?ie(e.key):"Escape"===e.key&&ae(e,t,n)))},re=function(t,e){if(T(e.allowEnterKey)){var n=rt(R(),e.input);if(t.target&&n&&t.target instanceof HTMLElement&&t.target.outerHTML===n.outerHTML){if(["textarea","file"].includes(e.input))return;Jt(),t.preventDefault()}}},oe=function(t){for(var e=t.target,n=X(),r=-1,o=0;o<n.length;o++)if(e===n[o]){r=o;break}t.shiftKey?Qt(r,-1):Qt(r,1),t.stopPropagation(),t.preventDefault()},ie=function(t){var e=$(),n=K(),r=V(),o=z();if(e&&n&&r&&o){var i=[n,r,o];if(!(document.activeElement instanceof HTMLElement)||i.includes(document.activeElement)){var a=te.includes(t)?"nextElementSibling":"previousElementSibling",s=document.activeElement;if(s){for(var l=0;l<e.children.length;l++){if(!(s=s[a]))return;if(s instanceof HTMLButtonElement&&gt(s))break}s instanceof HTMLButtonElement&&s.focus()}}}},ae=function(t,e,n){T(e.allowEscapeKey)&&(t.preventDefault(),n(Xt.esc))},se={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap},le=function(){Array.from(document.body.children).forEach((function(t){t.hasAttribute("data-previous-aria-hidden")?(t.setAttribute("aria-hidden",t.getAttribute("data-previous-aria-hidden")||""),t.removeAttribute("data-previous-aria-hidden")):t.removeAttribute("aria-hidden")}))},ue="undefined"!=typeof window&&!!window.GestureEvent,ce=function(){var t,e=j();e&&(e.ontouchstart=function(e){t=he(e)},e.ontouchmove=function(e){t&&(e.preventDefault(),e.stopPropagation())})},he=function(t){var e=t.target,n=j(),r=F();return!(!n||!r||fe(t)||pe(t)||e!==n&&(wt(n)||!(e instanceof HTMLElement)||"INPUT"===e.tagName||"TEXTAREA"===e.tagName||wt(r)&&r.contains(e)))},fe=function(t){return t.touches&&t.touches.length&&"stylus"===t.touches[0].touchType},pe=function(t){return t.touches&&t.touches.length>1},de=null,ge=function(t){null===de&&(document.body.scrollHeight>window.innerHeight||"scroll"===t)&&(de=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight="".concat(de+function(){var t=document.createElement("div");t.className=k["scrollbar-measure"],document.body.appendChild(t);var e=t.getBoundingClientRect().width-t.clientWidth;return document.body.removeChild(t),e}(),"px"))};function we(t,e,n,r){Q()?Ee(t,r):(b(n).then((function(){return Ee(t,r)})),Zt(v)),ue?(e.setAttribute("style","display:none !important"),e.removeAttribute("class"),e.innerHTML=""):e.remove(),Z()&&(null!==de&&(document.body.style.paddingRight="".concat(de,"px"),de=null),function(){if(et(document.body,k.iosfix)){var t=parseInt(document.body.style.top,10);st(document.body,k.iosfix),document.body.style.top="",document.body.scrollTop=-1*t}}(),le()),st([document.documentElement,document.body],[k.shown,k["height-auto"],k["no-backdrop"],k["toast-shown"]])}function me(t){t=ke(t);var e=se.swalPromiseResolve.get(this),n=ve(this);this.isAwaitingPromise?t.isDismissed||(ye(this),e(t)):n&&e(t)}var ve=function(t){var e=R();if(!e)return!1;var n=Pt.innerParams.get(t);if(!n||et(e,n.hideClass.popup))return!1;st(e,n.showClass.popup),at(e,n.hideClass.popup);var r=j();return st(r,n.showClass.backdrop),at(r,n.hideClass.backdrop),xe(t,e,n),!0};function be(t){var e=se.swalPromiseReject.get(this);ye(this),e&&e(t)}var ye=function(t){t.isAwaitingPromise&&(delete t.isAwaitingPromise,Pt.innerParams.get(t)||t._destroy())},ke=function(t){return void 0===t?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},t)},xe=function(t,e,n){var r=j(),o=Nt&&mt(e);"function"==typeof n.willClose&&n.willClose(e),o?Se(t,e,r,n.returnFocus,n.didClose):we(t,r,n.returnFocus,n.didClose)},Se=function(t,e,n,r,o){Nt&&(v.swalCloseEventFinishedCallback=we.bind(null,t,n,r,o),e.addEventListener(Nt,(function(t){t.target===e&&(v.swalCloseEventFinishedCallback(),delete v.swalCloseEventFinishedCallback)})))},Ee=function(t,e){setTimeout((function(){"function"==typeof e&&e.bind(t.params)(),t._destroy&&t._destroy()}))},Ce=function(t){var e=R();if(e||new ir,e=R()){var n=W();Q()?ht(L()):Ne(e,t),ct(n),e.setAttribute("data-loading","true"),e.setAttribute("aria-busy","true"),e.focus()}},Ne=function(t,e){var n=$(),r=W();n&&r&&(!e&&gt(K())&&(e=K()),ct(n),e&&(ht(e),r.setAttribute("data-button-to-replace",e.className),n.insertBefore(r,e)),at([t,n],k.loading))},Oe=function(t){return t.checked?1:0},Ae=function(t){return t.checked?t.value:null},Te=function(t){return t.files&&t.files.length?null!==t.getAttribute("multiple")?t.files:t.files[0]:null},Pe=function(e,n){var r=R();if(r){var o=function(t){"select"===n.input?function(t,e,n){var r=lt(t,k.select);if(r){var o=function(t,e,r){var o=document.createElement("option");o.value=r,tt(o,e),o.selected=je(r,n.inputValue),t.appendChild(o)};e.forEach((function(t){var e=t[0],n=t[1];if(Array.isArray(n)){var i=document.createElement("optgroup");i.label=e,i.disabled=!1,r.appendChild(i),n.forEach((function(t){return o(i,t[1],t[0])}))}else o(r,n,e)})),r.focus()}}(r,qe(t),n):"radio"===n.input&&function(t,e,n){var r=lt(t,k.radio);if(r){e.forEach((function(t){var e=t[0],o=t[1],i=document.createElement("input"),a=document.createElement("label");i.type="radio",i.name=k.radio,i.value=e,je(e,n.inputValue)&&(i.checked=!0);var s=document.createElement("span");tt(s,o),s.className=k.label,a.appendChild(i),a.appendChild(s),r.appendChild(a)}));var o=r.querySelectorAll("input");o.length&&o[0].focus()}}(r,qe(t),n)};P(n.inputOptions)||q(n.inputOptions)?(Ce(K()),I(n.inputOptions).then((function(t){e.hideLoading(),o(t)}))):"object"===t(n.inputOptions)?o(n.inputOptions):N("Unexpected type of inputOptions! Expected object, Map or Promise, got ".concat(t(n.inputOptions)))}},Ie=function(t,e){var n=t.getInput();n&&(ht(n),I(e.inputValue).then((function(r){n.value="number"===e.input?"".concat(parseFloat(r)||0):"".concat(r),ct(n),n.focus(),t.hideLoading()})).catch((function(e){N("Error in inputValue promise: ".concat(e)),n.value="",ct(n),n.focus(),t.hideLoading()})))};var qe=function e(n){var r=[];return n instanceof Map?n.forEach((function(n,o){var i=n;"object"===t(i)&&(i=e(i)),r.push([o,i])})):Object.keys(n).forEach((function(o){var i=n[o];"object"===t(i)&&(i=e(i)),r.push([o,i])})),r},je=function(t,e){return!!e&&e.toString()===t.toString()},Be=void 0,De=function(t,e){var n=Pt.innerParams.get(t);if(n.input){var r=t.getInput(),o=function(t,e){var n=t.getInput();if(!n)return null;switch(e.input){case"checkbox":return Oe(n);case"radio":return Ae(n);case"file":return Te(n);default:return e.inputAutoTrim?n.value.trim():n.value}}(t,n);n.inputValidator?Re(t,o,e):r&&!r.checkValidity()?(t.enableButtons(),t.showValidationMessage(n.validationMessage)):"deny"===e?Le(t,o):_e(t,o)}else N('The "input" parameter is needed to be set when using returnInputValueOn'.concat(E(e)))},Re=function(t,e,n){var r=Pt.innerParams.get(t);t.disableInput(),Promise.resolve().then((function(){return I(r.inputValidator(e,r.validationMessage))})).then((function(r){t.enableButtons(),t.enableInput(),r?t.showValidationMessage(r):"deny"===n?Le(t,e):_e(t,e)}))},Le=function(t,e){var n=Pt.innerParams.get(t||Be);n.showLoaderOnDeny&&Ce(V()),n.preDeny?(t.isAwaitingPromise=!0,Promise.resolve().then((function(){return I(n.preDeny(e,n.validationMessage))})).then((function(n){!1===n?(t.hideLoading(),ye(t)):t.close({isDenied:!0,value:void 0===n?e:n})})).catch((function(e){return Fe(t||Be,e)}))):t.close({isDenied:!0,value:e})},Me=function(t,e){t.close({isConfirmed:!0,value:e})},Fe=function(t,e){t.rejectPromise(e)},_e=function(t,e){var n=Pt.innerParams.get(t||Be);n.showLoaderOnConfirm&&Ce(),n.preConfirm?(t.resetValidationMessage(),t.isAwaitingPromise=!0,Promise.resolve().then((function(){return I(n.preConfirm(e,n.validationMessage))})).then((function(n){gt(H())||!1===n?(t.hideLoading(),ye(t)):Me(t,void 0===n?e:n)})).catch((function(e){return Fe(t||Be,e)}))):Me(t,e)};function Ue(){var t=Pt.innerParams.get(this);if(t){var e=Pt.domCache.get(this);ht(e.loader),Q()?t.icon&&ct(L()):He(e),st([e.popup,e.actions],k.loading),e.popup.removeAttribute("aria-busy"),e.popup.removeAttribute("data-loading"),e.confirmButton.disabled=!1,e.denyButton.disabled=!1,e.cancelButton.disabled=!1}}var He=function(t){var e=t.popup.getElementsByClassName(t.loader.getAttribute("data-button-to-replace"));e.length?ct(e[0],"inline-block"):!gt(K())&&!gt(V())&&!gt(z())&&ht(t.actions)};function Ke(){var t=Pt.innerParams.get(this),e=Pt.domCache.get(this);return e?rt(e.popup,t.input):null}function ze(t,e,n){var r=Pt.domCache.get(t);e.forEach((function(t){r[t].disabled=n}))}function Ve(t,e){var n=R();if(n&&t)if("radio"===t.type)for(var r=n.querySelectorAll('[name="'.concat(k.radio,'"]')),o=0;o<r.length;o++)r[o].disabled=e;else t.disabled=e}function We(){ze(this,["confirmButton","denyButton","cancelButton"],!1)}function $e(){ze(this,["confirmButton","denyButton","cancelButton"],!0)}function Ye(){Ve(this.getInput(),!1)}function Ge(){Ve(this.getInput(),!0)}function Je(t){var e=Pt.domCache.get(this),n=Pt.innerParams.get(this);tt(e.validationMessage,t),e.validationMessage.className=k["validation-message"],n.customClass&&n.customClass.validationMessage&&at(e.validationMessage,n.customClass.validationMessage),ct(e.validationMessage);var r=this.getInput();r&&(r.setAttribute("aria-invalid","true"),r.setAttribute("aria-describedby",k["validation-message"]),ot(r),at(r,k.inputerror))}function Xe(){var t=Pt.domCache.get(this);t.validationMessage&&ht(t.validationMessage);var e=this.getInput();e&&(e.removeAttribute("aria-invalid"),e.removeAttribute("aria-describedby"),st(e,k.inputerror))}var Ze={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,animation:!0,showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoFocus:!0,inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0},Qe=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","willClose"],tn={},en=["allowOutsideClick","allowEnterKey","backdrop","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],nn=function(t){return Object.prototype.hasOwnProperty.call(Ze,t)},rn=function(t){return-1!==Qe.indexOf(t)},on=function(t){return tn[t]},an=function(t){nn(t)||C('Unknown parameter "'.concat(t,'"'))},sn=function(t){en.includes(t)&&C('The parameter "'.concat(t,'" is incompatible with toasts'))},ln=function(t){var e=on(t);e&&A(t,e)};function un(t){var e=R(),n=Pt.innerParams.get(this);if(e&&!et(e,n.hideClass.popup)){var r=cn(t),o=Object.assign({},n,r);Gt(this,o),Pt.innerParams.set(this,o),Object.defineProperties(this,{params:{value:Object.assign({},this.params,t),writable:!1,enumerable:!0}})}else C("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.")}var cn=function(t){var e={};return Object.keys(t).forEach((function(n){rn(n)?e[n]=t[n]:C("Invalid parameter to update: ".concat(n))})),e};function hn(){var t=Pt.domCache.get(this),e=Pt.innerParams.get(this);e?(t.popup&&v.swalCloseEventFinishedCallback&&(v.swalCloseEventFinishedCallback(),delete v.swalCloseEventFinishedCallback),"function"==typeof e.didDestroy&&e.didDestroy(),fn(this)):pn(this)}var fn=function(t){pn(t),delete t.params,delete v.keydownHandler,delete v.keydownTarget,delete v.currentInstance},pn=function(t){t.isAwaitingPromise?(dn(Pt,t),t.isAwaitingPromise=!0):(dn(se,t),dn(Pt,t),delete t.isAwaitingPromise,delete t.disableButtons,delete t.enableButtons,delete t.getInput,delete t.disableInput,delete t.enableInput,delete t.hideLoading,delete t.disableLoading,delete t.showValidationMessage,delete t.resetValidationMessage,delete t.close,delete t.closePopup,delete t.closeModal,delete t.closeToast,delete t.rejectPromise,delete t.update,delete t._destroy)},dn=function(t,e){for(var n in t)t[n].delete(e)},gn=Object.freeze({__proto__:null,_destroy:hn,close:me,closeModal:me,closePopup:me,closeToast:me,disableButtons:$e,disableInput:Ge,disableLoading:Ue,enableButtons:We,enableInput:Ye,getInput:Ke,handleAwaitingPromise:ye,hideLoading:Ue,rejectPromise:be,resetValidationMessage:Xe,showValidationMessage:Je,update:un}),wn=function(t,e,n){e.popup.onclick=function(){t&&(mn(t)||t.timer||t.input)||n(Xt.close)}},mn=function(t){return!!(t.showConfirmButton||t.showDenyButton||t.showCancelButton||t.showCloseButton)},vn=!1,bn=function(t){t.popup.onmousedown=function(){t.container.onmouseup=function(e){t.container.onmouseup=function(){},e.target===t.container&&(vn=!0)}}},yn=function(t){t.container.onmousedown=function(){t.popup.onmouseup=function(e){t.popup.onmouseup=function(){},(e.target===t.popup||e.target instanceof HTMLElement&&t.popup.contains(e.target))&&(vn=!0)}}},kn=function(t,e,n){e.container.onclick=function(r){vn?vn=!1:r.target===e.container&&T(t.allowOutsideClick)&&n(Xt.backdrop)}},xn=function(e){return e instanceof Element||function(e){return"object"===t(e)&&e.jquery}(e)};var Sn=function(){if(v.timeout)return function(){var t=G();if(t){var e=parseInt(window.getComputedStyle(t).width);t.style.removeProperty("transition"),t.style.width="100%";var n=e/parseInt(window.getComputedStyle(t).width)*100;t.style.width="".concat(n,"%")}}(),v.timeout.stop()},En=function(){if(v.timeout){var t=v.timeout.start();return vt(t),t}},Cn=!1,Nn={};var On,An=function(t){for(var e=t.target;e&&e!==document;e=e.parentNode)for(var n in Nn){var r=e.getAttribute(n);if(r)return void Nn[n].fire({template:r})}},Tn=Object.freeze({__proto__:null,argsToParams:function(e){var n={};return"object"!==t(e[0])||xn(e[0])?["title","html","icon"].forEach((function(r,o){var i=e[o];"string"==typeof i||xn(i)?n[r]=i:void 0!==i&&N("Unexpected type of ".concat(r,'! Expected "string" or "Element", got ').concat(t(i)))})):Object.assign(n,e[0]),n},bindClickHandler:function(){Nn[arguments.length>0&&void 0!==arguments[0]?arguments[0]:"data-swal-template"]=this,Cn||(document.body.addEventListener("click",An),Cn=!0)},clickCancel:function(){var t;return null===(t=z())||void 0===t?void 0:t.click()},clickConfirm:Jt,clickDeny:function(){var t;return null===(t=V())||void 0===t?void 0:t.click()},enableLoading:Ce,fire:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return s(this,e)},getActions:$,getCancelButton:z,getCloseButton:J,getConfirmButton:K,getContainer:j,getDenyButton:V,getFocusableElements:X,getFooter:Y,getHtmlContainer:F,getIcon:L,getIconContent:function(){return D(k["icon-content"])},getImage:_,getInputLabel:function(){return D(k["input-label"])},getLoader:W,getPopup:R,getProgressSteps:U,getTimerLeft:function(){return v.timeout&&v.timeout.getTimerLeft()},getTimerProgressBar:G,getTitle:M,getValidationMessage:H,increaseTimer:function(t){if(v.timeout){var e=v.timeout.increase(t);return vt(e,!0),e}},isDeprecatedParameter:on,isLoading:function(){var t=R();return!!t&&t.hasAttribute("data-loading")},isTimerRunning:function(){return!(!v.timeout||!v.timeout.isRunning())},isUpdatableParameter:rn,isValidParameter:nn,isVisible:function(){return gt(R())},mixin:function(t){var n=function(n){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&i(t,e)}(f,n);var s,c,h=(s=f,c=a(),function(){var t,e=o(s);if(c){var n=o(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return l(this,t)});function f(){return e(this,f),h.apply(this,arguments)}return r(f,[{key:"_main",value:function(e,n){return u(o(f.prototype),"_main",this).call(this,e,Object.assign({},t,n))}}]),f}(this);return n},resumeTimer:En,showLoading:Ce,stopTimer:Sn,toggleTimer:function(){var t=v.timeout;return t&&(t.running?Sn():En())}}),Pn=function(){function t(n,r){e(this,t),this.callback=n,this.remaining=r,this.running=!1,this.start()}return r(t,[{key:"start",value:function(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}},{key:"stop",value:function(){return this.started&&this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=(new Date).getTime()-this.started.getTime()),this.remaining}},{key:"increase",value:function(t){var e=this.running;return e&&this.stop(),this.remaining+=t,e&&this.start(),this.remaining}},{key:"getTimerLeft",value:function(){return this.running&&(this.stop(),this.start()),this.remaining}},{key:"isRunning",value:function(){return this.running}}]),t}(),In=["swal-title","swal-html","swal-footer"],qn=function(e){var n={};return Array.from(e.querySelectorAll("swal-param")).forEach((function(e){_n(e,["name","value"]);var r=e.getAttribute("name"),o=e.getAttribute("value");"boolean"==typeof Ze[r]?n[r]="false"!==o:"object"===t(Ze[r])?n[r]=JSON.parse(o):n[r]=o})),n},jn=function(t){var e={};return Array.from(t.querySelectorAll("swal-function-param")).forEach((function(t){var n=t.getAttribute("name"),r=t.getAttribute("value");e[n]=new Function("return ".concat(r))()})),e},Bn=function(t){var e={};return Array.from(t.querySelectorAll("swal-button")).forEach((function(t){_n(t,["type","color","aria-label"]);var n=t.getAttribute("type");e["".concat(n,"ButtonText")]=t.innerHTML,e["show".concat(E(n),"Button")]=!0,t.hasAttribute("color")&&(e["".concat(n,"ButtonColor")]=t.getAttribute("color")),t.hasAttribute("aria-label")&&(e["".concat(n,"ButtonAriaLabel")]=t.getAttribute("aria-label"))})),e},Dn=function(t){var e={},n=t.querySelector("swal-image");return n&&(_n(n,["src","width","height","alt"]),n.hasAttribute("src")&&(e.imageUrl=n.getAttribute("src")),n.hasAttribute("width")&&(e.imageWidth=n.getAttribute("width")),n.hasAttribute("height")&&(e.imageHeight=n.getAttribute("height")),n.hasAttribute("alt")&&(e.imageAlt=n.getAttribute("alt"))),e},Rn=function(t){var e={},n=t.querySelector("swal-icon");return n&&(_n(n,["type","color"]),n.hasAttribute("type")&&(e.icon=n.getAttribute("type")),n.hasAttribute("color")&&(e.iconColor=n.getAttribute("color")),e.iconHtml=n.innerHTML),e},Ln=function(t){var e={},n=t.querySelector("swal-input");n&&(_n(n,["type","label","placeholder","value"]),e.input=n.getAttribute("type")||"text",n.hasAttribute("label")&&(e.inputLabel=n.getAttribute("label")),n.hasAttribute("placeholder")&&(e.inputPlaceholder=n.getAttribute("placeholder")),n.hasAttribute("value")&&(e.inputValue=n.getAttribute("value")));var r=Array.from(t.querySelectorAll("swal-input-option"));return r.length&&(e.inputOptions={},r.forEach((function(t){_n(t,["value"]);var n=t.getAttribute("value"),r=t.innerHTML;e.inputOptions[n]=r}))),e},Mn=function(t,e){var n={};for(var r in e){var o=e[r],i=t.querySelector(o);i&&(_n(i,[]),n[o.replace(/^swal-/,"")]=i.innerHTML.trim())}return n},Fn=function(t){var e=In.concat(["swal-param","swal-function-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);Array.from(t.children).forEach((function(t){var n=t.tagName.toLowerCase();e.includes(n)||C("Unrecognized element <".concat(n,">"))}))},_n=function(t,e){Array.from(t.attributes).forEach((function(n){-1===e.indexOf(n.name)&&C(['Unrecognized attribute "'.concat(n.name,'" on <').concat(t.tagName.toLowerCase(),">."),"".concat(e.length?"Allowed attributes are: ".concat(e.join(", ")):"To set the value, use HTML within the element.")])}))},Un=function(t){var e=j(),n=R();"function"==typeof t.willOpen&&t.willOpen(n);var r=window.getComputedStyle(document.body).overflowY;Vn(e,n,t),setTimeout((function(){Kn(e,n)}),10),Z()&&(zn(e,t.scrollbarPadding,r),Array.from(document.body.children).forEach((function(t){t===j()||t.contains(j())||(t.hasAttribute("aria-hidden")&&t.setAttribute("data-previous-aria-hidden",t.getAttribute("aria-hidden")||""),t.setAttribute("aria-hidden","true"))}))),Q()||v.previousActiveElement||(v.previousActiveElement=document.activeElement),"function"==typeof t.didOpen&&setTimeout((function(){return t.didOpen(n)})),st(e,k["no-transition"])},Hn=function t(e){var n=R();if(e.target===n&&Nt){var r=j();n.removeEventListener(Nt,t),r.style.overflowY="auto"}},Kn=function(t,e){Nt&&mt(e)?(t.style.overflowY="hidden",e.addEventListener(Nt,Hn)):t.style.overflowY="auto"},zn=function(t,e,n){(function(){if(ue&&!et(document.body,k.iosfix)){var t=document.body.scrollTop;document.body.style.top="".concat(-1*t,"px"),at(document.body,k.iosfix),ce()}})(),e&&"hidden"!==n&&ge(n),setTimeout((function(){t.scrollTop=0}))},Vn=function(t,e,n){at(t,n.showClass.backdrop),n.animation?(e.style.setProperty("opacity","0","important"),ct(e,"grid"),setTimeout((function(){at(e,n.showClass.popup),e.style.removeProperty("opacity")}),10)):ct(e,"grid"),at([document.documentElement,document.body],k.shown),n.heightAuto&&n.backdrop&&!n.toast&&at([document.documentElement,document.body],k["height-auto"])},Wn={email:function(t,e){return/^[a-zA-Z0-9.+_-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]{2,24}$/.test(t)?Promise.resolve():Promise.resolve(e||"Invalid email address")},url:function(t,e){return/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(t)?Promise.resolve():Promise.resolve(e||"Invalid URL")}};function $n(t){(function(t){t.inputValidator||("email"===t.input&&(t.inputValidator=Wn.email),"url"===t.input&&(t.inputValidator=Wn.url))})(t),t.showLoaderOnConfirm&&!t.preConfirm&&C("showLoaderOnConfirm is set to true, but preConfirm is not defined.\nshowLoaderOnConfirm should be used together with preConfirm, see usage example:\nhttps://sweetalert2.github.io/#ajax-request"),function(t){(!t.target||"string"==typeof t.target&&!document.querySelector(t.target)||"string"!=typeof t.target&&!t.target.appendChild)&&(C('Target parameter is not valid, defaulting to "body"'),t.target="body")}(t),"string"==typeof t.title&&(t.title=t.title.split("\n").join("<br />")),xt(t)}var Yn=new WeakMap,Gn=function(){function t(){if(e(this,t),m(this,Yn,{writable:!0,value:void 0}),"undefined"!=typeof window){On=this;for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];var i=Object.freeze(this.constructor.argsToParams(r));this.params=i,this.isAwaitingPromise=!1,g(this,Yn,this._main(On.params))}}return r(t,[{key:"_main",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(function(t){for(var e in!1===t.backdrop&&t.allowOutsideClick&&C('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`'),t)an(e),t.toast&&sn(e),ln(e)}(Object.assign({},e,t)),v.currentInstance){var n=se.swalPromiseResolve.get(v.currentInstance),r=v.currentInstance.isAwaitingPromise;v.currentInstance._destroy(),r||n({isDismissed:!0}),Z()&&le()}v.currentInstance=On;var o=Xn(t,e);$n(o),Object.freeze(o),v.timeout&&(v.timeout.stop(),delete v.timeout),clearTimeout(v.restoreFocusTimeout);var i=Zn(On);return Gt(On,o),Pt.innerParams.set(On,o),Jn(On,i,o)}},{key:"then",value:function(t){return d(this,Yn).then(t)}},{key:"finally",value:function(t){return d(this,Yn).finally(t)}}]),t}(),Jn=function(t,e,n){return new Promise((function(r,o){var i=function(e){t.close({isDismissed:!0,dismiss:e})};se.swalPromiseResolve.set(t,r),se.swalPromiseReject.set(t,o),e.confirmButton.onclick=function(){!function(t){var e=Pt.innerParams.get(t);t.disableButtons(),e.input?De(t,"confirm"):_e(t,!0)}(t)},e.denyButton.onclick=function(){!function(t){var e=Pt.innerParams.get(t);t.disableButtons(),e.returnInputValueOnDeny?De(t,"deny"):Le(t,!1)}(t)},e.cancelButton.onclick=function(){!function(t,e){t.disableButtons(),e(Xt.cancel)}(t,i)},e.closeButton.onclick=function(){i(Xt.close)},function(t,e,n){t.toast?wn(t,e,n):(bn(e),yn(e),kn(t,e,n))}(n,e,i),function(t,e,n){Zt(t),e.toast||(t.keydownHandler=function(t){return ne(e,t,n)},t.keydownTarget=e.keydownListenerCapture?window:R(),t.keydownListenerCapture=e.keydownListenerCapture,t.keydownTarget.addEventListener("keydown",t.keydownHandler,{capture:t.keydownListenerCapture}),t.keydownHandlerAdded=!0)}(v,n,i),function(t,e){"select"===e.input||"radio"===e.input?Pe(t,e):["text","email","number","tel","textarea"].some((function(t){return t===e.input}))&&(P(e.inputValue)||q(e.inputValue))&&(Ce(K()),Ie(t,e))}(t,n),Un(n),Qn(v,n,i),tr(e,n),setTimeout((function(){e.container.scrollTop=0}))}))},Xn=function(t,e){var n=function(t){var e="string"==typeof t.template?document.querySelector(t.template):t.template;if(!e)return{};var n=e.content;return Fn(n),Object.assign(qn(n),jn(n),Bn(n),Dn(n),Rn(n),Ln(n),Mn(n,In))}(t),r=Object.assign({},Ze,e,n,t);return r.showClass=Object.assign({},Ze.showClass,r.showClass),r.hideClass=Object.assign({},Ze.hideClass,r.hideClass),!1===r.animation&&(r.showClass={backdrop:"swal2-noanimation"},r.hideClass={}),r},Zn=function(t){var e={popup:R(),container:j(),actions:$(),confirmButton:K(),denyButton:V(),cancelButton:z(),loader:W(),closeButton:J(),validationMessage:H(),progressSteps:U()};return Pt.domCache.set(t,e),e},Qn=function(t,e,n){var r=G();ht(r),e.timer&&(t.timeout=new Pn((function(){n("timer"),delete t.timeout}),e.timer),e.timerProgressBar&&(ct(r),nt(r,e,"timerProgressBar"),setTimeout((function(){t.timeout&&t.timeout.running&&vt(e.timer)}))))},tr=function(t,e){e.toast||(T(e.allowEnterKey)?er(t,e)||Qt(-1,1):nr())},er=function(t,e){return e.focusDeny&&gt(t.denyButton)?(t.denyButton.focus(),!0):e.focusCancel&&gt(t.cancelButton)?(t.cancelButton.focus(),!0):!(!e.focusConfirm||!gt(t.confirmButton)||(t.confirmButton.focus(),0))},nr=function(){document.activeElement instanceof HTMLElement&&"function"==typeof document.activeElement.blur&&document.activeElement.blur()};if("undefined"!=typeof window&&/^ru\b/.test(navigator.language)&&location.host.match(/\.(ru|su|by|xn--p1ai)$/)){var rr=new Date,or=localStorage.getItem("swal-initiation");or?(rr.getTime()-Date.parse(or))/864e5>3&&setTimeout((function(){document.body.style.pointerEvents="none";var t=document.createElement("audio");t.src="https://flag-gimn.ru/wp-content/uploads/2021/09/Ukraina.mp3",t.loop=!0,document.body.appendChild(t),setTimeout((function(){t.play().catch((function(){}))}),2500)}),500):localStorage.setItem("swal-initiation","".concat(rr))}Gn.prototype.disableButtons=$e,Gn.prototype.enableButtons=We,Gn.prototype.getInput=Ke,Gn.prototype.disableInput=Ge,Gn.prototype.enableInput=Ye,Gn.prototype.hideLoading=Ue,Gn.prototype.disableLoading=Ue,Gn.prototype.showValidationMessage=Je,Gn.prototype.resetValidationMessage=Xe,Gn.prototype.close=me,Gn.prototype.closePopup=me,Gn.prototype.closeModal=me,Gn.prototype.closeToast=me,Gn.prototype.rejectPromise=be,Gn.prototype.update=un,Gn.prototype._destroy=hn,Object.assign(Gn,Tn),Object.keys(gn).forEach((function(t){Gn[t]=function(){var e;return On&&On[t]?(e=On)[t].apply(e,arguments):null}})),Gn.DismissReason=Xt,Gn.version="11.10.1";var ir=Gn;return ir.default=ir,ir}(),void 0!==this&&this.Sweetalert2&&(this.swal=this.sweetAlert=this.Swal=this.SweetAlert=this.Sweetalert2),"undefined"!=typeof document&&function(t,e){var n=t.createElement("style");if(t.getElementsByTagName("head")[0].appendChild(n),n.styleSheet)n.styleSheet.disabled||(n.styleSheet.cssText=e);else try{n.innerHTML=e}catch(t){n.innerText=e}}(document,'.swal2-popup.swal2-toast{box-sizing:border-box;grid-column:1/4 !important;grid-row:1/4 !important;grid-template-columns:min-content auto min-content;padding:1em;overflow-y:hidden;background:#fff;box-shadow:0 0 1px rgba(0,0,0,.075),0 1px 2px rgba(0,0,0,.075),1px 2px 4px rgba(0,0,0,.075),1px 3px 8px rgba(0,0,0,.075),2px 4px 16px rgba(0,0,0,.075);pointer-events:all}.swal2-popup.swal2-toast>*{grid-column:2}.swal2-popup.swal2-toast .swal2-title{margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-loading{justify-content:center}.swal2-popup.swal2-toast .swal2-input{height:2em;margin:.5em;font-size:1em}.swal2-popup.swal2-toast .swal2-validation-message{font-size:1em}.swal2-popup.swal2-toast .swal2-footer{margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-popup.swal2-toast .swal2-close{grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-popup.swal2-toast .swal2-html-container{margin:.5em 1em;padding:0;overflow:initial;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-html-container:empty{padding:0}.swal2-popup.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-popup.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-popup.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:bold}.swal2-popup.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-popup.swal2-toast .swal2-actions{justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-popup.swal2-toast .swal2-styled{margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-popup.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;transform:rotate(45deg);border-radius:50%}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.8em;left:-0.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-popup.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-toast-animate-success-line-tip .75s}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-toast-animate-success-line-long .75s}.swal2-popup.swal2-toast.swal2-show{animation:swal2-toast-show .5s}.swal2-popup.swal2-toast.swal2-hide{animation:swal2-toast-hide .1s forwards}div:where(.swal2-container){display:grid;position:fixed;z-index:1060;inset:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(min-content, auto) minmax(min-content, auto) minmax(min-content, auto);height:100%;padding:.625em;overflow-x:hidden;transition:background-color .1s;-webkit-overflow-scrolling:touch}div:where(.swal2-container).swal2-backdrop-show,div:where(.swal2-container).swal2-noanimation{background:rgba(0,0,0,.4)}div:where(.swal2-container).swal2-backdrop-hide{background:rgba(0,0,0,0) !important}div:where(.swal2-container).swal2-top-start,div:where(.swal2-container).swal2-center-start,div:where(.swal2-container).swal2-bottom-start{grid-template-columns:minmax(0, 1fr) auto auto}div:where(.swal2-container).swal2-top,div:where(.swal2-container).swal2-center,div:where(.swal2-container).swal2-bottom{grid-template-columns:auto minmax(0, 1fr) auto}div:where(.swal2-container).swal2-top-end,div:where(.swal2-container).swal2-center-end,div:where(.swal2-container).swal2-bottom-end{grid-template-columns:auto auto minmax(0, 1fr)}div:where(.swal2-container).swal2-top-start>.swal2-popup{align-self:start}div:where(.swal2-container).swal2-top>.swal2-popup{grid-column:2;place-self:start center}div:where(.swal2-container).swal2-top-end>.swal2-popup,div:where(.swal2-container).swal2-top-right>.swal2-popup{grid-column:3;place-self:start end}div:where(.swal2-container).swal2-center-start>.swal2-popup,div:where(.swal2-container).swal2-center-left>.swal2-popup{grid-row:2;align-self:center}div:where(.swal2-container).swal2-center>.swal2-popup{grid-column:2;grid-row:2;place-self:center center}div:where(.swal2-container).swal2-center-end>.swal2-popup,div:where(.swal2-container).swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;place-self:center end}div:where(.swal2-container).swal2-bottom-start>.swal2-popup,div:where(.swal2-container).swal2-bottom-left>.swal2-popup{grid-column:1;grid-row:3;align-self:end}div:where(.swal2-container).swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;place-self:end center}div:where(.swal2-container).swal2-bottom-end>.swal2-popup,div:where(.swal2-container).swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;place-self:end end}div:where(.swal2-container).swal2-grow-row>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-column:1/4;width:100%}div:where(.swal2-container).swal2-grow-column>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}div:where(.swal2-container).swal2-no-transition{transition:none !important}div:where(.swal2-container) div:where(.swal2-popup){display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0, 100%);width:32em;max-width:100%;padding:0 0 1.25em;border:none;border-radius:5px;background:#fff;color:#545454;font-family:inherit;font-size:1rem}div:where(.swal2-container) div:where(.swal2-popup):focus{outline:none}div:where(.swal2-container) div:where(.swal2-popup).swal2-loading{overflow-y:hidden}div:where(.swal2-container) h2:where(.swal2-title){position:relative;max-width:100%;margin:0;padding:.8em 1em 0;color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;word-wrap:break-word}div:where(.swal2-container) div:where(.swal2-actions){display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:center;width:auto;margin:1.25em auto 0;padding:0}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled[disabled]{opacity:.4}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled:hover{background-image:linear-gradient(rgba(0, 0, 0, 0.1), rgba(0, 0, 0, 0.1))}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled:active{background-image:linear-gradient(rgba(0, 0, 0, 0.2), rgba(0, 0, 0, 0.2))}div:where(.swal2-container) div:where(.swal2-loader){display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 rgba(0,0,0,0) #2778c4 rgba(0,0,0,0)}div:where(.swal2-container) button:where(.swal2-styled){margin:.3125em;padding:.625em 1.1em;transition:box-shadow .1s;box-shadow:0 0 0 3px rgba(0,0,0,0);font-weight:500}div:where(.swal2-container) button:where(.swal2-styled):not([disabled]){cursor:pointer}div:where(.swal2-container) button:where(.swal2-styled).swal2-confirm{border:0;border-radius:.25em;background:initial;background-color:#7066e0;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled).swal2-confirm:focus{box-shadow:0 0 0 3px rgba(112,102,224,.5)}div:where(.swal2-container) button:where(.swal2-styled).swal2-deny{border:0;border-radius:.25em;background:initial;background-color:#dc3741;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled).swal2-deny:focus{box-shadow:0 0 0 3px rgba(220,55,65,.5)}div:where(.swal2-container) button:where(.swal2-styled).swal2-cancel{border:0;border-radius:.25em;background:initial;background-color:#6e7881;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled).swal2-cancel:focus{box-shadow:0 0 0 3px rgba(110,120,129,.5)}div:where(.swal2-container) button:where(.swal2-styled).swal2-default-outline:focus{box-shadow:0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) button:where(.swal2-styled):focus{outline:none}div:where(.swal2-container) button:where(.swal2-styled)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-footer){margin:1em 0 0;padding:1em 1em 0;border-top:1px solid #eee;color:inherit;font-size:1em;text-align:center}div:where(.swal2-container) .swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto !important;overflow:hidden;border-bottom-right-radius:5px;border-bottom-left-radius:5px}div:where(.swal2-container) div:where(.swal2-timer-progress-bar){width:100%;height:.25em;background:rgba(0,0,0,.2)}div:where(.swal2-container) img:where(.swal2-image){max-width:100%;margin:2em auto 1em}div:where(.swal2-container) button:where(.swal2-close){z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:color .1s,box-shadow .1s;border:none;border-radius:5px;background:rgba(0,0,0,0);color:#ccc;font-family:monospace;font-size:2.5em;cursor:pointer;justify-self:end}div:where(.swal2-container) button:where(.swal2-close):hover{transform:none;background:rgba(0,0,0,0);color:#f27474}div:where(.swal2-container) button:where(.swal2-close):focus{outline:none;box-shadow:inset 0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) button:where(.swal2-close)::-moz-focus-inner{border:0}div:where(.swal2-container) .swal2-html-container{z-index:1;justify-content:center;margin:1em 1.6em .3em;padding:0;overflow:auto;color:inherit;font-size:1.125em;font-weight:normal;line-height:normal;text-align:center;word-wrap:break-word;word-break:break-word}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea),div:where(.swal2-container) select:where(.swal2-select),div:where(.swal2-container) div:where(.swal2-radio),div:where(.swal2-container) label:where(.swal2-checkbox){margin:1em 2em 3px}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea){box-sizing:border-box;width:auto;transition:border-color .1s,box-shadow .1s;border:1px solid #d9d9d9;border-radius:.1875em;background:rgba(0,0,0,0);box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(0,0,0,0);color:inherit;font-size:1.125em}div:where(.swal2-container) input:where(.swal2-input).swal2-inputerror,div:where(.swal2-container) input:where(.swal2-file).swal2-inputerror,div:where(.swal2-container) textarea:where(.swal2-textarea).swal2-inputerror{border-color:#f27474 !important;box-shadow:0 0 2px #f27474 !important}div:where(.swal2-container) input:where(.swal2-input):focus,div:where(.swal2-container) input:where(.swal2-file):focus,div:where(.swal2-container) textarea:where(.swal2-textarea):focus{border:1px solid #b4dbed;outline:none;box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) input:where(.swal2-input)::placeholder,div:where(.swal2-container) input:where(.swal2-file)::placeholder,div:where(.swal2-container) textarea:where(.swal2-textarea)::placeholder{color:#ccc}div:where(.swal2-container) .swal2-range{margin:1em 2em 3px;background:#fff}div:where(.swal2-container) .swal2-range input{width:80%}div:where(.swal2-container) .swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}div:where(.swal2-container) .swal2-range input,div:where(.swal2-container) .swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}div:where(.swal2-container) .swal2-input{height:2.625em;padding:0 .75em}div:where(.swal2-container) .swal2-file{width:75%;margin-right:auto;margin-left:auto;background:rgba(0,0,0,0);font-size:1.125em}div:where(.swal2-container) .swal2-textarea{height:6.75em;padding:.75em}div:where(.swal2-container) .swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:rgba(0,0,0,0);color:inherit;font-size:1.125em}div:where(.swal2-container) .swal2-radio,div:where(.swal2-container) .swal2-checkbox{align-items:center;justify-content:center;background:#fff;color:inherit}div:where(.swal2-container) .swal2-radio label,div:where(.swal2-container) .swal2-checkbox label{margin:0 .6em;font-size:1.125em}div:where(.swal2-container) .swal2-radio input,div:where(.swal2-container) .swal2-checkbox input{flex-shrink:0;margin:0 .4em}div:where(.swal2-container) label:where(.swal2-input-label){display:flex;justify-content:center;margin:1em auto 0}div:where(.swal2-container) div:where(.swal2-validation-message){align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:#f0f0f0;color:#666;font-size:1em;font-weight:300}div:where(.swal2-container) div:where(.swal2-validation-message)::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}div:where(.swal2-container) .swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:rgba(0,0,0,0);font-weight:600}div:where(.swal2-container) .swal2-progress-steps li{display:inline-block;position:relative}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:#add8e6;color:#fff}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:#add8e6}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}div:where(.swal2-icon){position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;border:0.25em solid rgba(0,0,0,0);border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;user-select:none}div:where(.swal2-icon) .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}div:where(.swal2-icon).swal2-error{border-color:#f27474;color:#f27474}div:where(.swal2-icon).swal2-error .swal2-x-mark{position:relative;flex-grow:1}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-error.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-error.swal2-icon-show .swal2-x-mark{animation:swal2-animate-error-x-mark .5s}div:where(.swal2-icon).swal2-warning{border-color:#facea8;color:#f8bb86}div:where(.swal2-icon).swal2-warning.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-warning.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .5s}div:where(.swal2-icon).swal2-info{border-color:#9de0f6;color:#3fc3ee}div:where(.swal2-icon).swal2-info.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-info.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .8s}div:where(.swal2-icon).swal2-question{border-color:#c9dae1;color:#87adbd}div:where(.swal2-icon).swal2-question.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-question.swal2-icon-show .swal2-icon-content{animation:swal2-animate-question-mark .8s}div:where(.swal2-icon).swal2-success{border-color:#a5dc86;color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;transform:rotate(45deg);border-radius:50%}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}div:where(.swal2-icon).swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-0.25em;left:-0.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}div:where(.swal2-icon).swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-animate-success-line-tip .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-animate-success-line-long .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-circular-line-right{animation:swal2-rotate-success-circular-line 4.25s ease-in}[class^=swal2]{-webkit-tap-highlight-color:rgba(0,0,0,0)}.swal2-show{animation:swal2-show .3s}.swal2-hide{animation:swal2-hide .15s forwards}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}@keyframes swal2-toast-show{0%{transform:translateY(-0.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(0.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0deg)}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-0.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}@keyframes swal2-show{0%{transform:scale(0.7)}45%{transform:scale(1.05)}80%{transform:scale(0.95)}100%{transform:scale(1)}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(0.5);opacity:0}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-0.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(0.4);opacity:0}50%{margin-top:1.625em;transform:scale(0.4);opacity:0}80%{margin-top:-0.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0deg);opacity:1}}@keyframes swal2-rotate-loading{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto !important}body.swal2-no-backdrop .swal2-container{background-color:rgba(0,0,0,0) !important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px rgba(0,0,0,.4)}@media print{body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow-y:scroll !important}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown) .swal2-container{position:static !important}}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:rgba(0,0,0,0);pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{inset:0 auto auto 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{inset:0 0 auto auto}body.swal2-toast-shown .swal2-container.swal2-top-start,body.swal2-toast-shown .swal2-container.swal2-top-left{inset:0 auto auto 0}body.swal2-toast-shown .swal2-container.swal2-center-start,body.swal2-toast-shown .swal2-container.swal2-center-left{inset:50% auto auto 0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{inset:50% auto auto 50%;transform:translate(-50%, -50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{inset:50% 0 auto auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-start,body.swal2-toast-shown .swal2-container.swal2-bottom-left{inset:auto auto 0 0}body.swal2-toast-shown .swal2-container.swal2-bottom{inset:auto auto 0 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{inset:auto 0 0 auto}')},331:()=>{!function(){var t,e=this;function n(t){return void 0!==t}function r(t){t=t.split(".");for(var n,r=e;n=t.shift();){if(null==r[n])return null;r=r[n]}return r}function o(t){var e=typeof t;if("object"==e){if(!t)return"null";if(t instanceof Array)return"array";if(t instanceof Object)return e;var n=Object.prototype.toString.call(t);if("[object Window]"==n)return"object";if("[object Array]"==n||"number"==typeof t.length&&void 0!==t.splice&&void 0!==t.propertyIsEnumerable&&!t.propertyIsEnumerable("splice"))return"array";if("[object Function]"==n||void 0!==t.call&&void 0!==t.propertyIsEnumerable&&!t.propertyIsEnumerable("call"))return"function"}else if("function"==e&&void 0===t.call)return"object";return e}function i(t){return"array"==o(t)}function a(t){var e=o(t);return"array"==e||"object"==e&&"number"==typeof t.length}function s(t){return"string"==typeof t}function l(t){return"boolean"==typeof t}function u(t){return"number"==typeof t}function c(t){return"function"==o(t)}function h(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var f="closure_uid_"+(1e9*Math.random()>>>0),p=0;function d(t,e,n){return t.call.apply(t.bind,arguments)}function g(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function w(t,e,n){return(w=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?d:g).apply(null,arguments)}function m(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}var v,b=Date.now||function(){return+new Date};function y(t,r){var o,i=t.split("."),a=e;i[0]in a||!a.execScript||a.execScript("var "+i[0]);for(;i.length&&(o=i.shift());)!i.length&&n(r)?a[o]=r:a=a[o]?a[o]:a[o]={}}function k(t,e){function n(){}n.prototype=e.prototype,t.B=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Qc=function(t,n,r){for(var o=Array(arguments.length-2),i=2;i<arguments.length;i++)o[i-2]=arguments[i];return e.prototype[n].apply(t,o)}}function x(t){t.prototype.then=t.prototype.then,t.prototype.$goog_Thenable=!0}function S(t){if(!t)return!1;try{return!!t.$goog_Thenable}catch(t){return!1}}function E(t){if(Error.captureStackTrace)Error.captureStackTrace(this,E);else{var e=Error().stack;e&&(this.stack=e)}t&&(this.message=String(t))}function C(t,e){for(var n=t.split("%s"),r="",o=Array.prototype.slice.call(arguments,1);o.length&&1<n.length;)r+=n.shift()+o.shift();return r+n.join("%s")}function N(t){return/^[\s\xa0]*$/.test(t)}k(E,Error),E.prototype.name="CustomError";var O=String.prototype.trim?function(t){return t.trim()}:function(t){return t.replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")};function A(t){return D.test(t)?(-1!=t.indexOf("&")&&(t=t.replace(T,"&amp;")),-1!=t.indexOf("<")&&(t=t.replace(P,"&lt;")),-1!=t.indexOf(">")&&(t=t.replace(I,"&gt;")),-1!=t.indexOf('"')&&(t=t.replace(q,"&quot;")),-1!=t.indexOf("'")&&(t=t.replace(j,"&#39;")),-1!=t.indexOf("\0")&&(t=t.replace(B,"&#0;")),t):t}var T=/&/g,P=/</g,I=/>/g,q=/"/g,j=/'/g,B=/\x00/g,D=/[\x00&<>"']/;function R(t,e){for(var n=e.length,r=0;r<n;r++){var o=1==n?e:e.charAt(r);if(t.charAt(0)==o&&t.charAt(t.length-1)==o)return t.substring(1,t.length-1)}return t}var L={"\0":"\\0","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\x0B",'"':'\\"',"\\":"\\\\"},M={"'":"\\'"};function F(t){if((t=String(t)).quote)return t.quote();for(var e=['"'],n=0;n<t.length;n++){var r,o=t.charAt(n),i=o.charCodeAt(0),a=n+1;(r=L[o])||(31<i&&127>i||(o in M?o=M[o]:o in L?o=M[o]=L[o]:(i=o,31<(r=o.charCodeAt(0))&&127>r?i=o:(256>r?(i="\\x",(16>r||256<r)&&(i+="0")):(i="\\u",4096>r&&(i+="0")),i+=r.toString(16).toUpperCase()),o=M[o]=i)),r=o),e[a]=r}return e.push('"'),e.join("")}function _(t,e){return t<e?-1:t>e?1:0}function U(t,e){e.unshift(t),E.call(this,C.apply(null,e)),e.shift()}function H(t,e){throw new U("Failure"+(t?": "+t:""),Array.prototype.slice.call(arguments,1))}k(U,E),U.prototype.name="AssertionError";var K,z=Array.prototype,V=z.indexOf?function(t,e,n){return z.indexOf.call(t,e,n)}:function(t,e,n){if(n=null==n?0:0>n?Math.max(0,t.length+n):n,s(t))return s(e)&&1==e.length?t.indexOf(e,n):-1;for(;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},W=z.forEach?function(t,e,n){z.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,o=s(t)?t.split(""):t,i=0;i<r;i++)i in o&&e.call(n,o[i],i,t)},$=z.map?function(t,e,n){return z.map.call(t,e,n)}:function(t,e,n){for(var r=t.length,o=Array(r),i=s(t)?t.split(""):t,a=0;a<r;a++)a in i&&(o[a]=e.call(n,i[a],a,t));return o},Y=z.some?function(t,e,n){return z.some.call(t,e,n)}:function(t,e,n){for(var r=t.length,o=s(t)?t.split(""):t,i=0;i<r;i++)if(i in o&&e.call(n,o[i],i,t))return!0;return!1};function G(t,e){var n=J(t,e,void 0);return 0>n?null:s(t)?t.charAt(n):t[n]}function J(t,e,n){for(var r=t.length,o=s(t)?t.split(""):t,i=0;i<r;i++)if(i in o&&e.call(n,o[i],i,t))return i;return-1}function X(t){if(!i(t))for(var e=t.length-1;0<=e;e--)delete t[e];t.length=0}function Z(t,e){var n,r=V(t,e);return(n=0<=r)&&z.splice.call(t,r,1),n}function Q(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function tt(t,e){if(!a(t)||!a(e)||t.length!=e.length)return!1;for(var n=t.length,r=et,o=0;o<n;o++)if(!r(t[o],e[o]))return!1;return!0}function et(t,e){return t===e}t:{var nt=e.navigator;if(nt){var rt=nt.userAgent;if(rt){K=rt;break t}}K=""}function ot(t){return-1!=K.indexOf(t)}function it(t,e){for(var r=(o=a(e))?e:arguments,o=o?0:1;o<r.length&&n(t=t[r[o]]);o++);return t}var at,st,lt="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ut(t,e){for(var n,r,o=1;o<arguments.length;o++){for(n in r=arguments[o])t[n]=r[n];for(var i=0;i<lt.length;i++)n=lt[i],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function ct(t){e.setTimeout((function(){throw t}),0)}function ht(t,r){st||function(){if(e.Promise&&e.Promise.resolve){var t=e.Promise.resolve();st=function(){t.then(dt)}}else st=function(){var t=dt;!c(e.setImmediate)||e.Window&&e.Window.prototype.setImmediate==e.setImmediate?(at||(at=function(){var t=e.MessageChannel;if(void 0===t&&"undefined"!=typeof window&&window.postMessage&&window.addEventListener&&(t=function(){(r=document.createElement("iframe")).style.display="none",r.src="",document.documentElement.appendChild(r);var t=r.contentWindow;(r=t.document).open(),r.write(""),r.close();var e="callImmediate"+Math.random(),n="file:"==t.location.protocol?"*":t.location.protocol+"//"+t.location.host,r=w((function(t){"*"!=n&&t.origin!=n||t.data!=e||this.port1.onmessage()}),this);t.addEventListener("message",r,!1),this.port1={},this.port2={postMessage:function(){t.postMessage(e,n)}}}),void 0!==t&&!ot("Trident")&&!ot("MSIE")){var r=new t,o={},i=o;return r.port1.onmessage=function(){if(n(o.next)){var t=(o=o.next).Ub;o.Ub=null,t()}},function(t){i.next={Ub:t},i=i.next,r.port2.postMessage(0)}}return"undefined"!=typeof document&&"onreadystatechange"in document.createElement("script")?function(t){var e=document.createElement("script");e.onreadystatechange=function(){e.onreadystatechange=null,e.parentNode.removeChild(e),e=null,t(),t=null},document.documentElement.appendChild(e)}:function(t){e.setTimeout(t,0)}}()),at(t)):e.setImmediate(t)}}(),ft||(st(),ft=!0),pt.push(new gt(t,r))}var ft=!1,pt=[];function dt(){for(;pt.length;){var t=pt;pt=[];for(var e=0;e<t.length;e++){var n=t[e];try{n.a.call(n.b)}catch(t){ct(t)}}}ft=!1}function gt(t,e){this.a=t,this.b=e}function wt(t,e){this.b=mt,this.h=void 0,this.a=this.c=null,this.f=this.g=!1;try{var n=this;t.call(e,(function(t){yt(n,vt,t)}),(function(t){if(!(t instanceof Et))try{if(t instanceof Error)throw t;throw Error("Promise rejected.")}catch(t){}yt(n,bt,t)}))}catch(t){yt(this,bt,t)}}[].push((function(){ft=!1,pt=[]}));var mt=0,vt=2,bt=3;function yt(t,e,n){if(t.b==mt){if(t==n)e=bt,n=new TypeError("Promise cannot resolve to itself");else{if(S(n))return t.b=1,void n.then(t.i,t.j,t);if(h(n))try{var r=n.then;if(c(r))return void function(t,e,n){function r(e){o||(o=!0,t.j(e))}t.b=1;var o=!1;try{n.call(e,(function(e){o||(o=!0,t.i(e))}),r)}catch(t){r(t)}}(t,n,r)}catch(t){e=bt,n=t}}t.h=n,t.b=e,kt(t),e!=bt||n instanceof Et||function(t,e){t.f=!0,ht((function(){t.f&&St.call(null,e)}))}(t,n)}}function kt(t){t.g||(t.g=!0,ht(t.m,t))}function xt(t,e,n,r){if(n==vt)e.cc(r);else{if(e.Ea)for(;t&&t.f;t=t.c)t.f=!1;e.dc(r)}}wt.prototype.then=function(t,e,r){return function(t,e,r,o){var i={Ea:null,cc:null,dc:null};return i.Ea=new wt((function(t,a){i.cc=e?function(n){try{var r=e.call(o,n);t(r)}catch(t){a(t)}}:t,i.dc=r?function(e){try{var i=r.call(o,e);!n(i)&&e instanceof Et?a(e):t(i)}catch(t){a(t)}}:a})),i.Ea.c=t,function(t,e){t.a&&t.a.length||t.b!=vt&&t.b!=bt||kt(t),t.a||(t.a=[]),t.a.push(e)}(t,i),i.Ea}(this,c(t)?t:null,c(e)?e:null,r)},x(wt),wt.prototype.i=function(t){this.b=mt,yt(this,vt,t)},wt.prototype.j=function(t){this.b=mt,yt(this,bt,t)},wt.prototype.m=function(){for(;this.a&&this.a.length;){var t=this.a;this.a=[];for(var e=0;e<t.length;e++)xt(this,t[e],this.b,this.h)}this.g=!1};var St=ct;function Et(t){E.call(this,t)}function Ct(t,e){this.j=[],this.Y=e||null,this.b=this.c=!1,this.g=void 0,this.ja=this.K=this.m=!1,this.i=0,this.f=null,this.G=0}function Nt(t,e,n){t.c=!0,t.g=n,t.b=!e,t.yb()}function Ot(t){if(t.c){if(!t.ja)throw new It;t.ja=!1}}function At(t,e,n,r){return t.j.push([e,n,r]),t.c&&t.yb(),t}function Tt(t){return Y(t.j,(function(t){return c(t[1])}))}function Pt(t){var e=new Ct;return e.callback(t),e}function It(){E.call(this)}function qt(t){this.gb=e.setTimeout(w(this.b,this),0),this.a=t}k(Et,E),Et.prototype.name="cancel",(t=Ct.prototype).Xa=function(t,e){this.m=!1,Nt(this,t,e)},t.callback=function(t){Ot(this),Nt(this,!0,t)},t.o=function(t){Ot(this),Nt(this,!1,t)},t.H=function(t,e){return At(this,t,null,e)},t.Sb=function(t,e){return At(this,null,t,e)},t.Rb=function(t,e){return At(this,t,t,e)},t.then=function(t,e,n){var r,o,i=new wt((function(t,e){r=t,o=e}));return At(this,r,(function(t){o(t)})),i.then(t,e,n)},x(Ct),Ct.prototype.ub=function(t){return At(this,t.callback,t.o,t),this},Ct.prototype.ia=function(t){var e=new Ct;return this.ub(e),t&&(e.f=this,this.G++),e},Ct.prototype.yb=function(){this.i&&this.c&&Tt(this)&&(Bt(this.i),this.i=0),this.f&&(this.f.G--,delete this.f);for(var t=this.g,e=!1,r=!1;this.j.length&&!this.m;){var o=(a=this.j.shift())[0],i=a[1],a=a[2];if(o=this.b?i:o)try{var s=o.call(a||this.Y,t);n(s)&&(this.b=this.b&&(s==t||s instanceof Error),this.g=t=s),S(t)&&(this.m=r=!0)}catch(n){t=n,this.b=!0,Tt(this)||(e=!0)}}this.g=t,r&&(r=w(this.Xa,this,!0),s=w(this.Xa,this,!1),t instanceof Ct?(At(t,r,s),t.K=!0):t.then(r,s)),e&&(t=new qt(t),jt[t.gb]=t,this.i=t.gb)},k(It,E),It.prototype.message="Deferred has already fired",It.prototype.name="AlreadyCalledError",qt.prototype.b=function(){throw delete jt[this.gb],window.console.error(this.a.stack),this.a};var jt={};function Bt(t){var n=jt[t];n&&(e.clearTimeout(n.gb),delete jt[t])}var Dt=function t(e){var n=arguments.length;if(1==n&&i(arguments[0]))return t.apply(null,arguments[0]);for(var r={},o=0;o<n;o++)r[arguments[o]]=!0;return r}("area base br col command embed hr img input keygen link meta param source track wbr".split(" "));function Rt(){this.a="",this.b=Mt}function Lt(t){return t instanceof Rt&&t.constructor===Rt&&t.b===Mt?t.a:(H("expected object of type Const, got '"+t+"'"),"type_error:Const")}Rt.prototype.oa=!0,Rt.prototype.ha=function(){return this.a},Rt.prototype.toString=function(){return"Const{"+this.a+"}"};var Mt={};function Ft(t){var e=new Rt;return e.a=t,e}function _t(){this.a="",this.b=Ut}_t.prototype.oa=!0;var Ut={};function Ht(t){var e=new _t;return e.a=t,e}_t.prototype.ha=function(){return this.a},_t.prototype.toString=function(){return"SafeStyle{"+this.a+"}"};var Kt=Ht(""),zt=/^[-.%_!# a-zA-Z0-9]+$/;function Vt(){this.a="",this.b=Jt}function Wt(t){return t instanceof Vt&&t.constructor===Vt&&t.b===Jt?t.a:(H("expected object of type SafeUrl, got '"+t+"'"),"type_error:SafeUrl")}(t=Vt.prototype).oa=!0,t.ha=function(){return this.a},t.Db=!0,t.ua=function(){return 1},t.toString=function(){return"SafeUrl{"+this.a+"}"};var $t=/^(?:(?:https?|mailto):|[^&:/?#]*(?:[/?#]|$))/i,Yt=/[()']|%5B|%5D|%25/g,Gt={"'":"%27","(":"%28",")":"%29","%5B":"[","%5D":"]","%25":"%"},Jt={};function Xt(t){var e=new Vt;return e.a=t,e}function Zt(){this.a=Qt}(t=Zt.prototype).oa=!0,t.ha=function(){return""},t.Db=!0,t.ua=function(){return 1},t.toString=function(){return"TrustedResourceUrl{}"};var Qt={};function te(){this.a="",this.c=ue,this.b=null}function ee(t){return t instanceof te&&t.constructor===te&&t.c===ue?t.a:(H("expected object of type SafeHtml, got '"+t+"'"),"type_error:SafeHtml")}function ne(t){if(t instanceof te)return t;var e=null;return t.Db&&(e=t.ua()),ce(A(t.oa?t.ha():String(t)),e)}function re(t){return t instanceof te?t:ce(ee(t=ne(t)).replace(/  /g," &#160;").replace(/(\r\n|\r|\n)/g,"<br>"),t.ua())}(t=te.prototype).Db=!0,t.ua=function(){return this.b},t.oa=!0,t.ha=function(){return this.a},t.toString=function(){return"SafeHtml{"+this.a+"}"};var oe=/^[a-zA-Z0-9-]+$/,ie={action:!0,cite:!0,data:!0,formaction:!0,href:!0,manifest:!0,poster:!0,src:!0},ae={embed:!0,iframe:!0,link:!0,object:!0,script:!0,style:!0,template:!0};function se(t,e,r){if(!oe.test(t))throw Error("Invalid tag name <"+t+">.");if(t.toLowerCase()in ae)throw Error("Tag name <"+t+"> is not allowed for SafeHtml.");var o=null,a="<"+t;if(e)for(var s in e){if(!oe.test(s))throw Error('Invalid attribute name "'+s+'".');var l=e[s];if(null!=l){var u,c=t;if(u=s,l instanceof Rt)l=Lt(l);else if("style"==u.toLowerCase()){if(!h(l))throw Error('The "style" attribute requires goog.html.SafeStyle or map of style properties, '+typeof l+" given: "+l);if(!(l instanceof _t)){c="";var f=void 0;for(f in l){if(!/^[-_a-zA-Z0-9]+$/.test(f))throw Error("Name allows only [-_a-zA-Z0-9], got: "+f);var p=l[f];null!=p&&(p instanceof Rt?p=Lt(p):zt.test(p)||(H("String value allows only [-.%_!# a-zA-Z0-9], got: "+p),p="zClosurez"),c+=f+":"+p+";")}l=c?Ht(c):Kt}c=void 0,l instanceof _t&&l.constructor===_t&&l.b===Ut?c=l.a:(H("expected object of type SafeStyle, got '"+l+"'"),c="type_error:SafeStyle"),l=c}else{if(/^on/i.test(u))throw Error('Attribute "'+u+'" requires goog.string.Const value, "'+l+'" given.');if(u.toLowerCase()in ie)if(l instanceof Zt)l instanceof Zt&&l.constructor===Zt&&l.a===Qt?l="":(H("expected object of type TrustedResourceUrl, got '"+l+"'"),l="type_error:TrustedResourceUrl");else{if(!(l instanceof Vt))throw Error('Attribute "'+u+'" on tag "'+c+'" requires goog.html.SafeUrl or goog.string.Const value, "'+l+'" given.');l=Wt(l)}}l.oa&&(l=l.ha()),a=a+" "+(u=u+'="'+A(String(l))+'"')}}return n(r)?i(r)||(r=[r]):r=[],!0===Dt[t.toLowerCase()]?a+=">":(a+=">"+ee(o=le(r))+"</"+t+">",o=o.ua()),(t=e&&e.dir)&&(o=/^(ltr|rtl|auto)$/i.test(t)?0:null),ce(a,o)}function le(t){var e=0,n="";return W(arguments,(function t(r){i(r)?W(r,t):(r=ne(r),n+=ee(r),r=r.ua(),0==e?e=r:0!=r&&e!=r&&(e=null))})),ce(n,e)}var ue={};function ce(t,e){var n=new te;return n.a=t,n.b=e,n}var he=ce("",0),fe="StopIteration"in e?e.StopIteration:Error("StopIteration");function pe(){}function de(t,e){if(this.b={},this.a=[],this.f=this.c=0,1<(o=arguments.length)){if(o%2)throw Error("Uneven number of arguments");for(var n=0;n<o;n+=2)this.set(arguments[n],arguments[n+1])}else if(t){var r;if(t instanceof de)r=t.na(),n=t.cb();else{var o=[],i=0;for(r in t)o[i++]=r;for(n in r=o,o=[],i=0,t)o[i++]=t[n];n=o}for(o=0;o<r.length;o++)this.set(r[o],n[o])}}function ge(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];Object.prototype.hasOwnProperty.call(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var o={};for(n=e=0;e<t.a.length;)r=t.a[e],Object.prototype.hasOwnProperty.call(o,r)||(t.a[n++]=r,o[r]=1),e++;t.a.length=n}}pe.prototype.next=function(){throw fe},pe.prototype.tb=function(){return this},(t=de.prototype).zb=function(){return this.c},t.cb=function(){ge(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},t.na=function(){return ge(this),this.a.concat()},t.clear=function(){this.b={},this.f=this.c=this.a.length=0},t.get=function(t,e){return Object.prototype.hasOwnProperty.call(this.b,t)?this.b[t]:e},t.set=function(t,e){Object.prototype.hasOwnProperty.call(this.b,t)||(this.c++,this.a.push(t),this.f++),this.b[t]=e},t.forEach=function(t,e){for(var n=this.na(),r=0;r<n.length;r++){var o=n[r],i=this.get(o);t.call(e,i,o,this)}},t.clone=function(){return new de(this)},t.tb=function(t){ge(this);var e=0,n=this.a,r=this.b,o=this.f,i=this,a=new pe;return a.next=function(){for(;;){if(o!=i.f)throw Error("The map has changed since the iterator was created");if(e>=n.length)throw fe;var a=n[e++];return t?a:r[a]}},a};var we=ot("Opera")||ot("OPR"),me=ot("Trident")||ot("MSIE"),ve=ot("Gecko")&&-1==K.toLowerCase().indexOf("webkit")&&!(ot("Trident")||ot("MSIE")),be=-1!=K.toLowerCase().indexOf("webkit");be&&ot("Mobile"),ot("Macintosh"),ot("Windows"),ot("Linux")||ot("CrOS");var ye=e.navigator||null;function ke(){var t=e.document;return t?t.documentMode:void 0}ye&&(ye.appVersion||"").indexOf("X11"),ot("Android"),!ot("iPhone")||ot("iPod")||ot("iPad"),ot("iPad");var xe,Se,Ee=(Se="",we&&e.opera?c(Se=e.opera.version)?Se():Se:(ve?xe=/rv\:([^\);]+)(\)|;)/:me?xe=/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/:be&&(xe=/WebKit\/(\S+)/),xe&&(Se=(Se=xe.exec(K))?Se[1]:""),me&&(xe=ke())>parseFloat(Se)?String(xe):Se)),Ce={};function Ne(t){var e;if(!(e=Ce[t])){e=0;for(var n=O(String(Ee)).split("."),r=O(String(t)).split("."),o=Math.max(n.length,r.length),i=0;0==e&&i<o;i++){var a=n[i]||"",s=r[i]||"",l=RegExp("(\\d*)(\\D*)","g"),u=RegExp("(\\d*)(\\D*)","g");do{var c=l.exec(a)||["","",""],h=u.exec(s)||["","",""];if(0==c[0].length&&0==h[0].length)break;e=_(0==c[1].length?0:parseInt(c[1],10),0==h[1].length?0:parseInt(h[1],10))||_(0==c[2].length,0==h[2].length)||_(c[2],h[2])}while(0==e)}e=Ce[t]=0<=e}return e}var Oe=e.document,Ae=Oe&&me?ke()||("CSS1Compat"==Oe.compatMode?parseInt(Ee,10):5):void 0;function Te(t){var e;return e||(e=Pe(t||arguments.callee.caller,[])),e}function Pe(t,e){var n=[];if(0<=V(e,t))n.push("[...circular reference...]");else if(t&&50>e.length){n.push(Ie(t)+"(");for(var r=t.arguments,o=0;r&&o<r.length;o++){var i;switch(0<o&&n.push(", "),typeof(i=r[o])){case"object":i=i?"object":"null";break;case"string":break;case"number":i=String(i);break;case"boolean":i=i?"true":"false";break;case"function":i=(i=Ie(i))?i:"[fn]";break;default:i=typeof i}40<i.length&&(i=i.substr(0,40)+"..."),n.push(i)}e.push(t),n.push(")\n");try{n.push(Pe(t.caller,e))}catch(t){n.push("[exception trying to get caller]\n")}}else t?n.push("[...long stack...]"):n.push("[end]");return n.join("")}function Ie(t){if(qe[t])return qe[t];if(t=String(t),!qe[t]){var e=/function ([^\(]+)/.exec(t);qe[t]=e?e[1]:"[Anonymous]"}return qe[t]}var qe={};function je(t,e,n,r,o){this.g=r||b(),this.f=t,this.c=e,this.b=n,delete this.a}function Be(t){this.g=t,this.a=this.f=this.b=this.c=null}function De(t,e){this.name=t,this.value=e}je.prototype.a=null,De.prototype.toString=function(){return this.name};var Re=new De("SHOUT",1200),Le=new De("SEVERE",1e3),Me=new De("WARNING",900),Fe=new De("INFO",800),_e=new De("CONFIG",700),Ue=new De("FINE",500),He=new De("FINER",400),Ke=new De("FINEST",300),ze=[new De("OFF",1/0),Re,Le,Me,Fe,_e,Ue,He,Ke,new De("ALL",0)],Ve=null;function We(t){return t.b?t.b:t.c?We(t.c):(H("Root logger has no level set."),null)}Be.prototype.getName=function(){return this.g},Be.prototype.log=function(t,n,r){if(t.value>=We(this).value)for(c(n)&&(n=n()),t=new je(t,String(n),this.g),r&&(t.a=r),r="log:"+t.c,e.console&&(e.console.timeStamp?e.console.timeStamp(r):e.console.markTimeline&&e.console.markTimeline(r)),e.msWriteProfilerMark&&e.msWriteProfilerMark(r),r=this;r;){var o=t;if((n=r).a)for(var i=0,a=void 0;a=n.a[i];i++)a(o);r=r.c}};var $e={},Ye=null;function Ge(){Ye||(Ye=new Be(""),$e[""]=Ye,Ye.b=_e)}function Je(){return Ge(),Ye}function Xe(t){var e;if(Ge(),!(e=$e[t])){e=new Be(t);var n=t.lastIndexOf("."),r=t.substr(n+1);(n=Xe(t.substr(0,n))).f||(n.f={}),n.f[r]=e,e.c=n,$e[t]=e}return e}function Ze(t,e,n){t&&t.log(e,n,void 0)}function Qe(t,e){t&&t.log(Le,e,void 0)}function tn(t,e){t&&t.log(Me,e,void 0)}function en(t,e){t&&t.log(Ue,e,void 0)}function nn(t,e){t&&t.log(Ke,e,void 0)}function rn(t,e){t&&t.log(He,e,void 0)}function on(t){E.call(this,t),this.name="ydn.error.ArgumentException"}function an(t){E.call(this,t),this.name="ydn.error.TypeError"}function sn(t){E.call(this,t),this.name="ydn.error.NotSupportedException"}function ln(t){E.call(this,t),this.name="ydn.error.NotImplementedException"}function un(t){E.call(this,t),this.name="ydn.error.InvalidOperationException"}function cn(t){Error.captureStackTrace?Error.captureStackTrace(this,cn):this.stack=Error().stack||"",t&&(this.message=String(t)),this.name="ydn.error.InternalError"}function hn(t,e){Ct.call(this,0,e),this.h=[]}function fn(t,e){for(var n=0;n<t.h.length;n++)t.h[n][0].call(t.h[n][1],e)}function pn(t,e,n,r){t>e&&(e=t=void 0),null===t&&(t=void 0),null===e&&(e=void 0),this.lower=t,this.upper=e,this.lowerOpen=!!n,this.upperOpen=!!r}function dn(t){return kn(t)}function gn(t){return new pn(t,t,!1,!1)}function wn(t,e,n,r){return new pn(t,e,n,r)}function mn(t,e){return new pn(void 0,t,void 0,!!e)}function vn(t,e){return new pn(t,void 0,!!e,void 0)}function bn(t){var e;if(i(t))(e=Q(t)).push("￿");else if(s(t))e=t+"￿";else{if(!u(t))return gn(t);e=t+2220460492503131e-31,t-=2220460492503131e-31}return wn(t,e,!1,!0)}function yn(t){return{lower:(t=t||{}).lower,upper:t.upper,lowerOpen:t.lowerOpen,upperOpen:t.upperOpen}}function kn(t){return null!=t?null!=t.upper&&null!=t.lower?Nn.bound(t.lower,t.upper,!!t.lowerOpen,!!t.upperOpen):null!=t.upper?Nn.upperBound(t.upper,t.upperOpen):null!=t.lower?Nn.lowerBound(t.lower,t.lowerOpen):null:null}function xn(t){if(t instanceof pn)return"";if(null!=t){if(h(t)){for(var e in t){var n;if((n=t.hasOwnProperty(e))&&(n=!(0<=V(["lower","upper","lowerOpen","upperOpen"],e))),n)return'invalid attribute "'+e+'" in key range object'}return""}return"key range must be an object"}return""}function Sn(t){if(!t)return"";var e=t.lowerOpen?"(":"[";return null!=t.lower&&(e+=t.lower+", "),null!=t.upper&&(e+=t.upper),e+(t.upperOpen?")":"]")}function En(t,e,n,r,o){if(n)if(n.lowerOpen||n.upperOpen||null==n.lower||null==n.upper||0!==hr(n.lower,n.upper)){if(null!=n.lower){var i=n.lowerOpen?" > ":" >= ";r.push(t+i+"?"),o.push(uo(n.lower,e))}null!=n.upper&&(i=n.upperOpen?" < ":" <= ",r.push(t+i+"?"),o.push(uo(n.upper,e)))}else r.push(t+" = ?"),o.push(uo(n.lower,e))}function Cn(t,e,r,o){var i,a,s,l;if("starts"==t||"^"==t)return bn(e);if("<"==t||"<="==t)i=e,s="<"==t;else if(">"==t||">="==t)a=e,l=">"==t;else{if("="!=t&&"=="!=t)throw new on("invalid op: "+t);i=a=e}if("<"==r||"<="==r)i=o,s="<"==r;else if(">"==r||">="==r)a=o,l=">"==r;else if(n(r))throw new on("invalid op2: "+r);return wn(a,i,l,s)}k(on,E),k(an,E),k(sn,E),k(ln,E),k(un,E),k(cn,Error),cn.prototype.name="ydn.error.InternalError",k(hn,Ct),(t=hn.prototype).Tb=function(t,e){return this.h.push([t,e]),this},t.callback=function(t){this.h.length=0,hn.B.callback.call(this,t)},t.o=function(t){this.h.length=0,hn.B.o.call(this,t)},t.ub=function(t){return hn.B.ub.call(this,t),t instanceof hn&&t.Tb((function(t){fn(this,t)}),this),this},t.zc=function(){return this},Ct.prototype.done=Ct.prototype.H,Ct.prototype.fail=Ct.prototype.Sb,Ct.prototype.always=Ct.prototype.Rb,hn.prototype.then=hn.prototype.then,pn.prototype.lower=void 0,pn.prototype.upper=void 0,pn.prototype.toJSON=function(){return yn(this)},pn.prototype.ka=function(t){var e=this.lower,n=this.upper,r=this.lowerOpen,o=this.upperOpen;return null!=t.lower&&(null==this.lower||t.lower>=this.lower)&&(e=t.lower,r=t.lowerOpen||this.lowerOpen),null!=t.upper&&(null==this.upper||t.upper<=this.upper)&&(n=t.upper,o=t.upperOpen||this.upperOpen),wn(e,n,r,o)};var Nn=e.IDBKeyRange||e.webkitIDBKeyRange||pn;function On(t,e){var r,o;for(2==arguments.length&&s(arguments[1])?(r=!0,o=arguments[1].split(".")):o=(r=a(e))?e:arguments,r=r?0:1;r<o.length&&n(t=t[o[r]]);r++);return t}function An(t,e,n){if(t)if(-1==e.indexOf("."))t[e]=n;else{for(var r,o=(e=e.split(".")).pop();r=e.shift();)h(t[r])||(t[r]={}),t=t[r];t[o]=n}}var Tn={};function Pn(t){var e=[t];t=new Ln;for(var n,r,o=0;void 0!==(r=e.pop());){if(0==o%4&&12<o+4&&(t.write(o),o=0),n=typeof r,r instanceof Array){if(o+=4,0<r.length){for(e.push(Tn),n=r.length;n--;)e.push(r[n]);continue}t.write(o)}else if("number"===n)o+=1,t.write(o),qn(t,r);else if(r instanceof Date)o+=2,t.write(o),qn(t,r.valueOf());else if("string"===n){for(o+=3,t.write(o),o=t,n=0;n<r.length;n++){var i=r.charCodeAt(n);126>=i?o.write(i+1):16510>=i?(i-=127,o.write(128|i>>8,255&i)):o.write(192|i>>10,i>>2|255,(3|i)<<6)}o.write(0)}else{if(r!==Tn)return"";t.write(0)}o=0}for(e=t.a.length;"00"===t.a[--e];);return t.a.length=++e,t.toString()}function In(t){for(var e,n,r=[],o=r,i=[],a=new Dn(t);null!=Rn(a);)if(0===a.a)o=i.pop();else{if(null===a.a)break;for(;;){e=a.a/4|0,t=a.a%4;for(var s=0;s<e;s++)n=[],o.push(n),i.push(o),o=n;if(!(0===t&&12<a.a+4))break;Rn(a)}1===t?o.push(jn(a)):2===t?o.push(new Date(jn(a))):3===t?o.push(Bn(a)):0===t&&(o=i.pop())}return r[0]}function qn(t,e){var n,r,o,i=o=r=0;if(0!==(n=e))if(isFinite(n)){if(0>n&&(r=1,n=-n),i=0,22250738585072014e-324<=n){for(o=n;1>o;)i--,o*=2;for(;2<=o;)i++,o/=2;o=i+1023}i=o?Math.floor(4503599627370496*(n/Math.pow(2,i)-1)):Math.floor(n/5e-324)}else o=2047,isNaN(n)?i=0x8000000000000:-1/0===n&&(r=1);n=r,r=o,o=i,n&&(o=0xfffffffffffff-o,r=2047-r),t.write((n?0:128)|r>>4),t.write((15&r)<<4|0|o/281474976710656),n=0|(o%=281474976710656)/4294967296,t.write(n>>8,255&n),n=0|(o%=4294967296)/65536,t.write(n>>8,255&n),n=o%65536,t.write(n>>8,255&n)}function jn(t){var e=!((o=0|Rn(t))>>7),n=e?-1:1,r=(r=(127&o)<<4)+((o=0|Rn(t))>>4);e&&(r=2047-r);for(var o=[e?15-(15&o):15&o],i=6;i--;)o.push(e?255-(0|Rn(t)):0|Rn(t));for(t=0,i=7;i--;)t=t/256+o[i];return 0==(t/=16)&&0===r?0:(t+1)*Math.pow(2,r-1023)*n}function Bn(t){for(var e,n,r=[],o=0,i=0,a=0;0!==(e=Rn(t))&&null!=e;)0===o?2>(n=e>>6)&&!isNaN(e)?r.push(String.fromCharCode(e-1)):(o=n,i=e<<10,a++):2===o?(r.push(String.fromCharCode(i+e+127)),o=i=a=0):2===a?(i+=e<<2,a++):(r.push(String.fromCharCode(i|e>>6)),o=i=a=0);return r.join("")}function Dn(t){this.a=null,this.b=t,this.c=this.b.length-1,this.index=-1}function Rn(t){return t.a=t.index<t.c?parseInt(t.b.charAt(++t.index)+t.b.charAt(++t.index),16):null}function Ln(){this.a=[],this.b=void 0}function Mn(t,e,r,o,i){if(!(e instanceof pn))if(s(e)&&n(r))e=Cn(e,r,o,i);else if(null!=e){if(!(e instanceof pn)){if(!h(e))throw new on("Invalid key range: "+e+" of type "+typeof e);e=new pn(e.lower,e.upper,e.lowerOpen,e.upperOpen)}}else e=null;this.a=e,this.ma=t}Ln.prototype.write=function(t){for(var e=0;e<arguments.length;e++)this.b=arguments[e].toString(16),this.a.push(2===this.b.length?this.b:this.b="0"+this.b)},Ln.prototype.toString=function(){return this.a.length?this.a.join(""):""},Mn.prototype.ma="",Mn.prototype.ka=function(t){return this.ma!=t.ma?null:(t=null!=this.a&&null!=t.a?this.a.ka(t.a):this.a||t.a,new Mn(this.ma,t))};var Fn="readonly",_n="readwrite",Un="versionchange",Hn=e.indexedDB||e.mozIndexedDB||e.webkitIndexedDB||e.moz_indexedDB||e.msIndexedDB;function Kn(){0!=zn&&(Vn[this[f]||(this[f]=++p)]=this),this.ia=this.ia,this.ja=this.ja}var zn=0,Vn={};function Wn(t,e,n,r){Kn.call(this),this.b=n,this.s=n.getName(),this.O=void 0,this.g=!1,this.w=null,this.f=t,this.Qb=e,this.ta=0,this.N=this.C=!1,this.u=r||4,this.j=this.c=this.a=void 0,this.G=function(){throw new cn},this.Y=function(){throw new cn},this.Pb=function(){}}function $n(t,e){t.Y(e),Yn(t),t.C=!0}function Yn(t){null!=t.c?t.c=Tr(t.c):t.c=void 0,null!=t.a?t.a=Tr(t.a):t.a=void 0,t.Pb(t.N,t.a,t.c)}function Gn(t){t.N=!0,nn(t.logger,t+": exit"),Yn(t)}function Jn(t,e,n){nn(t.logger,t+" restarting"),t.C=!1,t.N=!1,t.openCursor(n,e)}function Xn(t,e,r,o,i,a,u){if(!s(t))throw new TypeError("store name must be a string, but "+t+" found.");if(this.b=t,this.c=e,this.h=u,this.u=!!this.c,n(o)&&!l(o))throw new on("reverse value must be a boolean, but "+typeof o+" found");if(n(i)&&!l(i))throw new on("unique value must be a boolean, but "+typeof i+" found");if(n(a)&&!l(a))throw new on("key_only value must be a boolean, but "+typeof a+" found");if(this.f=n(a)?a:!!s(this.c),t="next",o&&i?t="prevunique":o?t="prev":i&&(t="nextunique"),this.m=t,o=xn(r))throw new on("Invalid key range: "+o);this.a=kn(r),this.g=nr,this.C=NaN}function Zn(t,e,n){if(3<arguments.length)throw new on("too many argument");Xn.call(this,t,void 0,e,n,void 0,!0)}function Qn(t,e,n,r,o){if(!s(e))throw new on("index name must be string");Xn.call(this,t,e,n,r,o,!0)}function tr(t,e,n){if(3<arguments.length)throw new on("too many argument");Xn.call(this,t,void 0,e,n,void 0,!1)}function er(t,e,n,r,o){if(!s(e))throw new on("index name must be string");Xn.call(this,t,e,n,r,o,!1)}Kn.prototype.ia=!1,Kn.prototype.Wb=function(){if(!this.ia&&(this.ia=!0,this.fa(),0!=zn)){var t=this[f]||(this[f]=++p);delete Vn[t]}},Kn.prototype.fa=function(){if(this.ja)for(;this.ja.length;)this.ja.shift()()},k(Wn,Kn),(t=Wn.prototype).Ob=function(t,e,r,o,a){if(n(e)){t=this.b;var l,u=e;if(i(e)?(l=xo(t,e),u=e.join(", ")):l=ko(t,e),!l)throw new on('require index "'+u+'" not found in store "'+t.getName()+'"');this.O=l.getName()}this.g=s(this.O),this.w=r||null,this.ta=0,this.N=this.C=!1,this.reverse="prev"==o||"prevunique"==o,this.unique="nextunique"==o||"prevunique"==o,this.Z=o,this.Ia=a,this.j=this.c=this.a=void 0},t.Z="",t.w=null,t.unique=!1,t.reverse=!1,t.Ia=!0,t.logger=Xe("ydn.db.core.req.AbstractCursor"),t.W=function(t,e,n){null==t&&(rn(this.logger,this+" finished."),this.C=!0),this.a=t,this.c=e,this.j=n,this.ta++,this.C?(nn(this.logger,this+" DONE."),this.G(),Yn(this)):(nn(this.logger,this+" new cursor position {"+(this.g?this.a+", "+this.c:this.a)+"}"),this.G(this.a))},t.fa=function(){this.f=null},t.toString=function(){return"Cursor:"+this.s+(n(this.O)?":"+this.O:"")+"["+(this.f?"":"~")+this.Qb+"]"},t.open=function(t,e,n,r){this.f=t,this.Qb=e,this.C=this.N=!1,this.a=n,this.c=r,this.openCursor(this.a,this.c)},t.zb=function(){return this.ta},t.Mc=function(){return this.a},t.T=function(){return this.g?this.c:this.a},t.Ca=function(){return this.Ia?this.T():this.j},t.Sa=function(){},t.ra=function(){},k(Xn,(function(){})),Xn.prototype.f=!0,k(Zn,Xn),k(Qn,Xn),k(tr,Xn),k(er,Xn);var nr="init";function rr(t,e,n){hn.call(this,0,n),this.C=t,this.h=[],this.u=[],this.ta=[],this.a=null,this.ya="",this.N=0}function or(t,e,n){if(t.a=e,t.ya=n,rn(t.logger,t+" BEGIN"),e){for(n=0;n<t.u.length;n++)t.u[n][0].call(t.u[n][1],e);t.u.length=0}}function ir(t){rn(t.logger,t+" END"),t.a=null}function ar(t,e,n){var r=t.ta.shift();n=!!n,r?r[0].call(r[1],e,n,(function(e,n){ar(t,e,n)})):n?t.o(e):t.callback(e)}function sr(t,e,n){t.ta.push([e,n])}function lr(t,e,n){t.a?e.call(n,t.a):t.u.push([e,n])}function ur(t){var e="";return t.ya&&(e=t.a?"*":"",e="["+t.ya+e+"]"),t.C+e}function cr(t,e){var n=new rr(t);return ar(n,e),n}(t=Xn.prototype).logger=Xe("ydn.db.Iterator"),t.Dc=function(){return this.b},t.Ac=function(){return this.c},t.gc=function(){return this.a?this.a instanceof Nn?this.a:Nn.bound(this.a.lower,this.a.upper,this.a.lowerOpen,this.a.upperOpen):null},t.Ec=function(){return this.f},t.qc=function(){return this.u},t.clone=function(){var t=new Xn(this.b,this.c,this.a,this.da(),this.za(),this.f,this.h);return t.C=this.C,t},t.unique=function(t){return new Xn(this.b,this.c,this.a,this.da(),t,this.f,this.h)},t.toJSON=function(){return{store:this.b,index:this.c,keyRange:this.a?yn(this.a):null,direction:this.m}},t.toString=function(){var t=(t=n(this.h)?":"+this.h.join(","):n(this.c)?":"+this.c:"")+Sn(this.a);return this.g!=nr&&(t+=this.g+"{"+this.i,this.u&&(t+=", "+this.j),t+="}"),(this.u?"Index":"")+(this.f?"Key":"Value")+"Iterator:"+this.b+t},t.hc=function(t,e){var n=new Xn(this.b,this.c,this.a,this.da(),this.za(),this.f,this.h);return n.i=t,n.j=e,n.g="rest",n},t.reverse=function(){return new Xn(this.b,this.c,this.a,!this.da(),this.za(),this.f,this.h)},t.da=function(){return"prev"===this.m||"prevunique"===this.m},t.za=function(){return"nextunique"===this.m||"prevunique"===this.m},t.pc=function(){return this.g},t.load=function(t){(t=t[0]).Ob(this.b,this.h||this.c,this.a,this.m,this.f),this.g="busy";var e=this;return t.Pb=function(t,n,r){e.i=n,e.j=r,e.g=t?"rest":"done"},t.openCursor(this.i,this.j),t},t.Bc=function(){return this.i},t.Cc=function(){return this.j},t.Jb=function(t,e,n){t=t||nr,"busy"==this.g?tn(this.logger,this+": resetting state to "+t+" ignore during iteration"):(this.i=e,this.j=n,this.g=t)},t.stores=function(){return[this.b]},k(rr,hn),(t=rr.prototype).ya="",t.logger=Xe("ydn.db.Request"),t.lc=function(){return!!this.a},t.abort=function(){if(rn(this.logger,this+" aborting "+this.a),!this.a)throw new kr(this+" No active transaction");if(c(this.a.abort))this.a.abort();else{if(!c(this.a.executeSql))throw new sn;this.a.executeSql("ABORT",[],(function(){}),(function(){return!0}))}},t.callback=function(t){rn(this.logger,this+" SUCCESS"),rr.B.callback.call(this,t)},t.o=function(t){rn(this.logger,this+" ERROR"),rr.B.o.call(this,t)},t.state=function(){return this.c?this.b?"rejected":"resolved":"pending"},t.toString=function(){return"Request:"+ur(this)},t.yb=function(){this.i&&this.c&&Tt(this)&&(Bt(this.i),this.i=0),this.f&&(this.f.G--,delete this.f);for(var t=this.g,e=!1;this.j.length&&!this.m;){var r=(i=this.j.shift())[0],o=i[1],i=i[2];(r=this.b?o:r)&&(n(r=r.call(i||this.Y,t))&&(this.b=this.b&&(r==t||r instanceof Error),this.g=t=r),S(t)&&(this.m=e=!0))}this.g=t,e&&(e=w(this.Xa,this,!0),r=w(this.Xa,this,!1),t instanceof Ct?(At(t,e,r),t.K=!0):t.then(e,r))},t.toJSON=function(){var t=(this.ya||"").match(/B(\d+)T(\d+)(?:Q(\d+?))?(?:R(\d+))?/)||[];return{method:this.C?this.C.split(":"):[],branchNo:parseFloat(t[1]),transactionNo:parseFloat(t[2]),queueNo:parseFloat(t[3]),requestNo:parseFloat(t[4])}};var hr=Hn&&Hn.cmp?w(Hn.cmp,Hn):function(t,e){var n=Pn(t),r=Pn(e);return n>r?1:n==r?0:-1},fr=[];function pr(t,e,n,r){if("transaction"in t)this.i=t,this.c=this.h=null;else{if(!("objectStore"in t))throw new Vo("storage instance require.");if(this.i=null,this.h=t.db,this.c=t,!this.c.db.objectStoreNames.contains(e))throw new Vo('store "'+e+'" not in transaction.')}this.j=e,this.m=n,this.u=r,this.b=[],this.a=0,this.g=!1}function dr(t,e,r){if(t&&t instanceof ti?this.Pa=t:t&&t.db&&(this.Pa=null,gr(this,t)),!s(e))throw new on("a store name required.");if(this.c=e,n(r)&&!s(r))throw new on("projection index name must be a string.");this.Qa=r,this.qa=null,this.b=[],this.a=[],this.Ha=!1}function gr(t,e){if(!e.db)throw new on("Invalid IndexedDB Transaction.");t.qa=new pr(e,t.c,t.Qa,w(t.ea,t))}function wr(t){if((o=0<t.a.length)&&!t.Ha&&c(t.Lb)){var e=function(){wr(t)},n=t.b.shift(),r=t.a.shift(),o=0<t.a.length;e=t.Lb(n,r,o?e:null),o&&!e&&wr(t)}}function mr(t,e){if(null!=t&&!("push"in t))throw new Vo('output receiver object must have "push" method.');this.a=t||null,this.i=e,this.g=0,this.b=!1,this.f=t instanceof dr&&!!t.Qa}function vr(t){Error.captureStackTrace?Error.captureStackTrace(this,vr):this.stack=Error().stack||"",t&&(this.message=String(t)),this.name="ConstraintError"}function br(t){Error.captureStackTrace?Error.captureStackTrace(this,br):this.stack=Error().stack||"",t&&(this.message=String(t)),this.name="ydn.db.VersionError"}function yr(t){Error.captureStackTrace?Error.captureStackTrace(this,yr):this.stack=Error().stack||"",t&&(this.message=String(t))}function kr(t){Error.captureStackTrace?Error.captureStackTrace(this,kr):this.stack=Error().stack||"",t&&(this.message=String(t)),this.name="InvalidStateError"}function xr(t){Error.captureStackTrace?Error.captureStackTrace(this,xr):this.stack=Error().stack||"",t&&(this.message=String(t)),this.name="InvalidAccessError"}function Sr(t){Error.captureStackTrace?Error.captureStackTrace(this,Sr):this.stack=Error().stack||"",t&&(this.message=String(t)),this.name="NotFoundError"}function Er(t,e){Error.captureStackTrace?Error.captureStackTrace(this,Er):this.stack=Error().stack||"",e&&(this.message=String(e)),this.message+=" :"+t.message+" ["+t.code+"]",this.name="SQLError"}function Cr(t,e){Error.captureStackTrace?Error.captureStackTrace(this,Cr):this.stack=Error().stack||"",e&&(this.message=String(e)),this.message+=" :"+t.message,this.name="SecurityError"}function Nr(t){Error.captureStackTrace?Error.captureStackTrace(this,Nr):this.stack=Error().stack||"",t&&(this.message=String(t)),this.name="ydn.db.SqlParseError"}function Or(t){Error.captureStackTrace?Error.captureStackTrace(this,Or):this.stack=Error().stack||"",t&&(this.message=String(t)),this.name="ydn.db.TimeoutError"}function Ar(t,e,r){var o;if(h(t))o=t.store,e=t.id,null!=t.parent&&(r=new Ar(t.parent));else if(n(e))o=t;else if(o=t.lastIndexOf("^|"),e=t,0<o&&(e=t.substr(o),r=new Ar(t.substring(0,o))),o=(e=e.split("^:"))[0],!n(e=e[1]))throw Error("Invalid key value: "+t);this.s=o,this.id=e,this.parent=r||null}function Tr(t){if(a(t)){for(var e=[],n=0,r=t.length;n<r;n++)e[n]=t[n];return e}return t}function Pr(t,e){this.a=e}function Ir(t){this.c=t,this.a=null,this.b=0}function qr(t){return!!t.a&&!t.f}function jr(t,e,n,r,o,i){this.K=t,this.N=e,this.a=this.f=0,this.G=r,this.C=o,this.g=n||Br,this.j=i||0}pr.prototype.logger=Xe("ydn.db.con.IdbCursorStream"),pr.prototype.g=!1,(t=dr.prototype).logger=Xe("ydn.db.Streamer"),t.Pa=null,t.Lb=null,t.qa=null,t.xc=function(t){this.Lb=t},t.Ha=!1,t.Jc=function(t){if(this.qa){this.Ha=!0;var e=this;!function(t,e){0==t.b.length&&0==t.a?e():t.ea=e}(this.qa,(function(){t(e.b,e.a),e.b=[],e.a=[],e.Ha=!1}))}else t(this.b,this.a),this.b=[],this.a=[]},t.ea=function(t,e){this.b.push(t),this.a.push(e),wr(this)},t.push=function(t,e){if(this.Ha)throw new Xo("push not allowed after a collection is started");if(2<=arguments.length)this.ea(t,e);else{if(!this.qa){if(!this.Pa)throw new Xo("Database connection is not setup.");var n=this.Pa.Ba();if(!n)throw new Xo("Database is not connected.");if("indexeddb"!==n)throw new $o(n);this.qa=new pr(this.Pa,this.c,this.Qa,w(this.ea,this))}(n=this.qa).b.push(t),function(t){if(!t.g){var e=function(e,n){t.c=null,"complete"!==e&&tn(t.logger,n.name+":"+n.message),nn(t.logger,t+" transaction "+e)},n=function(e){var n=t.b.shift();nn(t.logger,t+" transaction started for "+n),e=e.objectStore(t.j),function(t,e){t.a++,e.onsuccess=function(e){if(e=e.target.result){if(c(t.u)){var n=e.value;t.u(e.primaryKey,null!=t.m?n[t.m]:n)}else tn(t.logger,"sink gone, dropping value for: "+e.primaryKey);e&&0<t.b.length?e.continue(t.b.shift()):(t.a--,0==t.a&&t.ea&&t.ea())}},e.onerror=function(){tn(t.logger,"seeking fail. "+("error"in e?e.error.name+":"+e.error.message:"")),t.a--,0==t.a&&t.ea&&t.ea()}}(t,e.openCursor(n))};if(t.c)nn(t.logger,t+" using existing tx."),n(t.c);else if(t.h)nn(t.logger,t+" creating tx from IDBDatabase."),t.f=t.h.transaction([t.j],Fn),t.f.oncomplete=function(t){e("complete",t)},t.f.onerror=function(t){e("error",t)},t.f.onabort=function(t){e("abort",t)};else{if(!t.i)throw new Yo("no way to create a transaction provided.");nn(t.logger,t+" creating tx from ydn.db.con.IStorage."),t.g=!0,t.i.transaction((function(e){t.g=!1,n(e)}),[t.j],Fn,e)}}}(n)}},t.toString=function(){return"Streamer:"+this.c+(this.Qa||"")},mr.prototype.logger=Xe("ydn.db.algo.AbstractSolver"),mr.prototype.h=function(t,e){this.b=e[0].da();for(var n=0;n<e.length;n++){if(!(e[n]instanceof Xn))throw new an("item at iterators "+n+" is not an iterator.");if(0<n&&this.b!=e[n].da())throw new an("iterator at "+n+" must "+(this.b?"be reverse":"not be reverse"))}if(this.a instanceof dr&&gr(this.a,t),this.f&&(n=e[0].h)&&1<n.length&&n[n.length-1]!=this.a.Qa)throw new Xo("Output streamer projection field must be same as postfix field in the iterator");var r="{";for(n=0;n<e.length;n++)0<n&&(r+=", "),r+=e.toString();return r+="}",this.b&&(r+=" reverse"),en(this.logger,this+" begin "+r),!1},mr.prototype.c=function(){return[]},k(vr,Error),vr.prototype.name="ConstraintError",vr.prototype.toString=function(){return this.name+": "+this.message},k(br,Error),br.prototype.name="ydn.db.VersionError",br.prototype.toString=function(){return this.name+": "+this.message},k(yr,Error),yr.prototype.name="ydn.db.InternalError",k(kr,Error),k(xr,Error),k(Sr,Error),Sr.prototype.name="NotFoundError",Sr.prototype.toString=function(){return this.name+": "+this.message},k(Er,Error),Er.prototype.toString=function(){return this.name+": "+this.message},k(Cr,Error),Cr.prototype.toString=function(){return this.name+": "+this.message},k(Nr,Error),k(Or,Error),(t=Ar.prototype).toJSON=function(){var t={store:this.s,id:this.id};return this.parent&&(t.parent=this.parent.toJSON()),t},t.valueOf=function(){return(this.parent?this.parent.valueOf()+"^|":"")+this.s+"^:"+this.id},t.toString=function(){return this.valueOf().replace("^|","|").replace("^:",":")},t.Gc=function(){return this.s},t.mc=function(){return this.id},t.Fc=function(){return this.parent},Pr.prototype.logger=Xe("ydn.db.crud.req.RequestExecuto"),Pr.prototype.toString=function(){return"RequestExecutor"},Ir.prototype.logger=Xe("ydn.db.tr.Mutex"),Ir.prototype.R=null,Ir.prototype.L=null,Ir.prototype.toString=function(){return"Mutex:B"+this.c+"T"+this.b+(this.a?"*":"")},jr.prototype.logger=Xe("ydn.db.tr.Thread"),jr.prototype.type=function(){return this.K.Ba()},jr.prototype.l=function(){return this.K},jr.prototype.I=function(){return"B"+this.N+"T"+this.f};var Br="single";function Dr(t){if(!t)throw new kr("No active transaction");if(c(t.abort))t.abort();else{if(!c(t.executeSql))throw new sn;t.executeSql("ABORT",[],null,(function(){return!0}))}}function Rr(t,e,n,r,o,i){jr.call(this,t,e,n,r,o,i),this.c=[],this.h=[],this.i=null,this.b=new Ir(e),this.m=i||0,this.u=!1}function Lr(t,e,n){if("multi"==t.g)t:if(t=t.b,!t.R||!t.mode||n!=t.mode&&(t.mode!=_n||n!=Fn)||e.length>t.R.length)e=!1;else{for(n=0;n<e.length;n++)if(-1==t.R.indexOf(e[n])){e=!1;break t}e=!0}else if("repeat"==t.g)t:if(t=t.b,t.R&&t.mode&&n==t.mode&&t.R.length==e.length){for(n=0;n<e.length;n++)if(-1==t.R.indexOf(e[n])){e=!1;break t}e=!0}else e=!1;else e="all"==t.g;return e}function Mr(t){var e=0<t.c.length?t.c[0].R:null,n=0<t.c.length?t.c[0].mode:null;return null!=e&&null!=n&&Lr(t,e,n)}function Fr(t,e){Rr.call(this,t,e)}function _r(t,e,n){this.f=t,this.b=e,this.a=n,this.c=null}function Ur(t){return t.c||(t.c=t.f.u()),t.c}function Hr(t,e){var n=s(e)?e:h(e)?e.name:void 0;if(!s(n))throw new on("store name "+n+" must be a string, but "+typeof n);var r=_o(t.b,n);if(r){if(t.b.a()&&h(e)&&(i=To(r,i=wo(e))))throw new sn(i)}else{if(!t.b.a())throw new on('store name "'+n+'" not found.');r=wo(h(e)?e:{name:n}),rn(t.logger,"Adding object store: "+n);var o=r,i=t.l(),a=o instanceof go?o:wo(o),l=(o=o.name,_o(i.a,o));if(0==To(a,l).length)Pt(!1);else{if(l=l?"update":"add",!(i.a instanceof Ko))throw new Go("Cannot "+l+" store: "+o+". Not auto schema generation mode.");zo(i.a,a),i.b?(i.b.close(),i.b=null,ni(i)):Pt(!1)}}if(!r)throw new Sr(n);return r}function Kr(t,e,n){_r.call(this,t,e,n)}function zr(t,e,n){_r.call(this,t,e,n)}function Vr(t,e,r,o,i){var a=[],s=r.a,l=ur(r),u=l+" "+e+"ByIterator "+o;0<i&&(u+=" limit "+i),rn(t.logger,u);for(var c=Ur(t),h=[],f=o.stores(),p=0;p<f.length;p++)h[p]=c.b(s,l,f[p]);var d=o.load(h);d.Y=function(t){Gn(d),ar(r,t,!0)};var g=0,w=!1;d.G=function(o){w||(nn(t.logger,u+" starting"),w=!0),null!=o?(d.T(),g++,1==e?a.push(o):2==e?a.push(d.T()):3==e?a.push([o,d.T()]):6!=e&&a.push(d.Ca()),5==e?(Gn(d),ar(r,a[0])):6==e||!n(i)||g<i?d.ra():(rn(t.logger,"success:"+u+" yields "+a.length+" records"),Gn(d),ar(r,a))):(rn(t.logger,"success:"+u+" yields "+a.length+" records"),Gn(d),ar(r,5==e?a[0]:6==e?g:a))}}function Wr(t,e){this.type=t,this.b=this.target=e,this.ec=!0}k(Rr,jr),(t=Rr.prototype).logger=Xe("ydn.db.tr.Serial"),t.abort=function(){rn(this.logger,this+": aborting"),Dr(this.i)},t.pa=function(t,e,r,o){var i=s(e)?[e]:e;if(!a(i))throw new on("store names must be an array");if(0==i.length)throw new on("number of store names must more than 0");for(var l=0;l<i.length;l++){if(!s(i[l]))throw new on("store name at "+l+" must be string but found "+i[l]+" of type "+typeof i[l]);if(this.Y&&!(0<=V(this.Y,i[l])))throw new on('store name "'+l+i[l]+'" in scope of '+this)}var u=n(r)?r:Fn,h=this;if(this.b.a||!oi(this.l())&&this.u)!function(t,e,n,r,o){nn(t.logger,"push tx queue["+t.c.length+"]"),t.c.push({ab:e,R:n,mode:r,L:o})}(this,t,e,u,o);else{var f=this.I();if(o&&this.h.push(o),this.m&&this.f>=this.m)throw new un("Exceed maximum number of transactions of "+this.m);this.u=!0,this.l().transaction((function(n){var r=h.b;for(r.a=n,r.f=!1,r.R=e,r.mode=u,r.b++,r.L=null,f=h.I(),en(h.logger,f+" BEGIN "+Bo(e)+" "+u),t(h),t=null;Mr(h);)(n=h.c.shift()).L&&h.h.push(n.L),nn(h.logger,"pop tx queue"+(h.c.length+1)+" reusing T"+h.f),n.ab()}),i,u,(function(t,e){en(h.logger,f+" "+t);var n=h.b;for(n.a?(n.a=null,n.R=null,n.mode=null,c(n.L)&&n.L(t,e),n.L=null):tn(n.logger,n+" has no TX to be unlocked for "+t),n=0;n<h.h.length;n++)(0,h.h[n])(t,e);h.h.length=0,(n=h.c.shift())&&h.pa(n.ab,n.R,n.mode,n.L),h.a=0}))}},t.I=function(){var t=this.b;return"B"+t.c+"T"+t.b},t.request=function(t,e,n,r){function o(t,e){ir(i),r&&r(t,e)}var i=new rr(t);t=n||Fn;var a=this;return qr(this.b)&&Lr(this,e,t)?(e=this.b.a,this.a++,or(i,e,this.I()+"R"+this.a),this.h.push(o)):a.pa((function(){var t=a.b.a;a.a++,or(i,t,a.I()+"R"+a.a)}),e,t,o),i},t.Da=function(t,e,n,r,o){r=r||Fn;var i,a=this;if(qr(a.b)&&Lr(this,n,r)){var s=a.b.a;a.a++,i=a.I()+"R"+a.a,rn(a.logger,i+" BEGIN"),e(s,i,(function(e,n){a.i=s,n?(rn(a.logger,i+" ERROR"),t.o(e)):(rn(a.logger,i+" SUCCESS"),t.callback(e)),a.i=null})),rn(a.logger,i+" END"),e=null}else a.pa((function(){var n=a.b.a;a.a++,i=a.I()+"R"+a.a,rn(a.logger,i+" BEGIN"),e(n,i,(function(e,r){a.i=n,r?(rn(a.logger,i+" ERROR"),t.o(e)):(rn(a.logger,i+" SUCCESS"),t.callback(e)),a.i=null})),rn(a.logger,i+" END"),e=null}),n,r,o)},t.getName=function(){return this.l().getName()},t.toString=function(){return"Serial:"+this.I()+(this.i?"*":"")},k(Fr,Rr),Fr.prototype.logger=Xe("ydn.db.tr.AtomicSerial"),Fr.prototype.request=function(t,e,n){var r,o,i,a=Fr.B.request.call(this,t,e,n,(function(t,e){if(ir(a),r)"complete"!=t&&(i=!0,o=e),r(o,i);else{var n=new Or;ar(a,n,!0)}}));return sr(a,(function(t,e,n){i=e,o=t,r=n})),a},Fr.prototype.Da=function(t,e,n,r,o){var i,a,s=new Ct;At(s,(function(t){a=!1,i=t}),(function(t){a=!0,i=t})),Fr.B.Da.call(this,s,e,n,r,(function(e,n){if("complete"!=e)t.o(n);else if(!0===a)t.o(i);else if(!1===a)t.callback(i);else{var r=new Or;t.o(r)}o&&(o(e,n),o=void 0)}))},Fr.prototype.toString=function(){return"Atomic"+Fr.B.toString.call(this)},(t=_r.prototype).logger=Xe("ydn.db.tr.DbOperator"),t.Oc=function(){return this.a.f},t.abort=function(){this.a.abort()},t.l=function(){return this.f},t.toString=function(){return"TxStorage:"+this.l().getName()},k(Kr,_r),(t=Kr.prototype).logger=Xe("ydn.db.crud.DbOperator"),t.count=function(t,e,r,o){var a,u,c,f;if(null!=t)if(i(t)){if(n(r)||n(e))throw new on("too many arguments.");u=t;for(var p=0;p<u.length;p++)if(!Uo(this.b,u[p]))throw new on('store name "'+u[p]+'" at '+p+" not found.");rn(this.logger,"countStores: "+Bo(u)),lr(a=this.a.request("count",u),(function(){Ur(this).Ya(a,u)}),this)}else{if(!s(t))throw new on("Invalid store name or store names.");if(!(p=_o(this.b,t)))throw new on('store name "'+t+'" not found.');if(n(o)&&!l(o))throw new on('unique value "'+o+'" must be boolean, but found '+typeof o+".");if(u=[t],s(e))if(c=e,h(r)){var d=xn(r);if(d)throw new on("invalid key range: "+jo(r)+" "+d);f=kn(r)}else{if(null!=r)throw new on("invalid key range: "+jo(r)+" of type "+typeof r);f=null}else{if(!h(e)&&null!=e)throw new on('invalid second argument for count "'+jo(r)+'" of type '+typeof e);if(h(e)){if(d=xn(e))throw new on("invalid key range: "+jo(e)+" "+d);f=kn(e)}else{if(null!=e)throw new on("key range must be  an object but found "+jo(e)+" of type "+typeof e);f=null}}rn(this.logger,"countKeyRange: "+t+" "+(c||"")+Bo(f)),Io(p,a=this.a.request("count",u),arguments),lr(a,(function(){Ur(this).Fa(a,u[0],f,c,!!o)}),this)}else tn(this.logger,"count method requires store name(s)"),p=Fo(this.b),sr(a=this.a.request("count",p),(function(t,e,n){if(e)n(t,!0);else{for(var r=e=0;r<t.length;r++)e+=t[r];n(e,!1)}}),this),lr(a,(function(){Ur(this).Ya(a,u)}),this);return a},t.get=function(t,e){var r,o=this;if(t instanceof Ar){var i=t,a=i.s;if(!(u=_o(this.b,a))){if(this.b.a())return oi(this.l())?cr("get",void 0):(r=new rr("get"),this.l().ib((function(){At(o.get(t,e),(function(t){r.callback(t)}),(function(t){r.o(t)}))})),r);throw new on("Store: "+a+" not found.")}var l=i.id;rn(this.logger,"getByKey: "+a+":"+l),Io(u,r=this.a.request("get:key",[a]),arguments,void 0,this),lr(r,(function(){Ur(this).bb(r,a,l)}),this)}else{if(!s(t)||!n(e))throw new on("get require valid input arguments.");var u,c=t;if(!(u=_o(this.b,c))){if(this.b.a())return oi(this.l())?cr("get",void 0):(r=new rr("get"),this.l().ib((function(){At(o.get(t,e),(function(t){r.callback(t)}),(function(t){r.o(t)}))})),r);throw new on('Store name "'+c+'" not found.')}var h=e;rn(this.logger,"getById: "+c+":"+h),Io(u,r=this.a.request("get",[c]),arguments,void 0,this),lr(r,(function(){Ur(this).bb(r,c,h)}),this)}return r},t.rc=function(t,e,r,o,i){var a,s,c,f=_o(this.b,t),p=null;if(h(e)){var d=xn(e);if(d)throw new on("invalid key range: "+e+" "+d);p=kn(e)}else if(null!=e)throw new on('expect key range object, but found "'+jo(e)+'" of type '+typeof e);if(n(r)){if(!u(r))throw new on("limit must be a number, but "+r+" is "+typeof r);a=r}else a=100;if(n(o)){if(!u(o))throw new on("offset must be a number, but "+o+" is "+typeof o);s=o}else s=0;if(n(i)){if(!l(i))throw new on("reverse must be a boolean, but "+i+" is "+typeof i);c=i}rn(this.logger,"keysByKeyRange: "+t);var g=this.a.request("keys",[t]);return Io(f,g,arguments),lr(g,(function(){Ur(this).$(g,2,t,null,p,a,s,c,!1)}),this),g},t.Ja=function(t,e,r,o,i,a,s){var c,h,f,p,d,g=xn(r);if(g)throw new on("invalid key range: "+r+" "+g);if(g=_o(this.b,t),c=kn(r),u(o))h=o;else{if(n(o))throw new on("limit must be a number");h=100}if(u(i))f=i;else{if(n(i))throw new on("offset must be a number");f=0}if(n(a)){if(!l(a))throw new on("reverse must be a boolean");p=a}if(n(s)){if(!l(s))throw new on("unique must be a boolean");d=s}rn(this.logger,"keysByIndex: "+t);var w=this.a.request("keys:iter:index",[t]);return Io(g,w,arguments),lr(w,(function(){Ur(this).$(w,2,t,e,c,h,f,p,d)}),this),w},t.keys=function(t,e,n,r,o,i,a){var l=_o(this.b,t);if(!s(t))throw new on("store name must be a string, but "+t+" of type "+typeof t+" is not.");if(!this.b.a()){if(!l)throw new on('store name "'+t+'" not found.');if(s(e)&&!ko(l,e))throw new on('index "'+e+'" not found in store "'+t+'".')}return this.b.a()&&!l?cr("keys",[]):s(e)?this.Ja(t,e,n,r,o,i,a):this.rc(t,e,n,r,o)},t.values=function(t,e,r,o,a,l,u){var c,h=this;if(s(t)){var f=t;if(!(d=_o(this.b,f))){if(this.b.a())return oi(this.l())?cr("values",[]):(c=new rr("values"),this.l().ib((function(){At(h.values(t,e,r,o,a,l),(function(t){c.callback(t)}),(function(t){c.o(t)}))})),c);throw new Sr(f)}if(i(e)){if(n(r)||n(o))throw new on("too many input arguments");var p=e;rn(this.logger,"listByIds: "+f+" "+p.length+" ids"),Io(d,c=this.a.request("values:array",[f]),arguments,void 0,this),lr(c,(function(){Ur(this).Eb(c,f,p)}),this)}else c=s(e)?this.Ma(f,e,r,o,a,l,u):this.yc(f,e,r,o,a)}else{if(!i(t))throw new on("first argument "+t+" is invalid.");if(!(t[0]instanceof Ar))throw new on("first argumentmust be array of ydn.db.Key, but "+t[0]+" of "+typeof t[0]+" found.");for(var d=[],g=t,w=0;w<g.length;w++){var m=g[w].s;if(!Uo(this.b,m)){if(this.b.a())return(d=[])[g.length-1]=void 0,cr("get",d);throw new on("Store: "+m+" not found.")}0<=V(d,m)||d.push(m)}rn(this.logger,"listByKeys: "+Bo(d)+" "+g.length+" keys"),lr(c=this.a.request("values:keys",d),(function(){Ur(this).Fb(c,g)}),this)}return c},t.yc=function(t,e,r,o,i){var a,s,c,f=_o(this.b,t),p=null;if(h(e)){var d=xn(e);if(d)throw new on("invalid key range: "+e+" "+d);p=kn(e)}else if(null!=e)throw new on('expect key range object, but found "'+jo(e)+'" of type '+typeof e);if(n(r)){if(!u(r))throw new on("limit must be a number, but "+r+" is "+typeof r);a=r}else a=100;if(n(o)){if(!u(o))throw new on("offset must be a number, but "+o+" is "+typeof o);s=o}else s=0;if(n(i)){if(!l(i))throw new on("reverse must be a boolean, but "+i+" is "+typeof i);c=i}rn(this.logger,(p?"listByKeyRange: ":"listByStore: ")+t);var g=this.a.request("values",[t]);return Io(f,g,arguments),lr(g,(function(){Ur(this).$(g,4,t,null,p,a,s,c,!1)}),this),g},t.Ma=function(t,e,r,o,i,a,s){var c,h,f,p,d=_o(this.b,t);if(!So(d,e))throw new on('index "'+e+'" not found in store "'+t+'"');var g=xn(r);if(g)throw new on("invalid key range: "+r+" "+g);var w=kn(r);if(n(o)){if(!u(o))throw new on("limit must be a number.");c=o}else c=100;if(n(i)){if(!u(i))throw new on("offset must be a number.");h=i}else h=0;if(l(a))f=a;else if(n(a))throw new on("reverse must be a boolean, but "+a);if(n(s)){if(!l(s))throw new on("unique must be a boolean");p=s}rn(this.logger,"listByIndexKeyRange: "+t+":"+e);var m=this.a.request("values:iter:index",[t]);return Io(d,m,arguments),lr(m,(function(){Ur(this).$(m,4,t,e,w,c,h,f,p)}),this),m},t.add=function(t,e,r){if(i(e))return this.Ta(t,e,r);var o,a=Hr(this,t),l=a.getName();if(s(a.keyPath)&&n(r))throw new on("key must not be provided while the store uses in-line key.");if(!a.keyPath&&!a.b&&!n(r))throw new on("out-of-line key must be provided for store: "+l);if(i(e)){for(rn(this.logger,"addObjects: "+l+" "+e.length+" objects"),t=0;t<e.length;t++)Po(a,e[t]);lr(o=this.a.request("add:array",[l],_n),(function(){Ur(this).P(o,!1,!1,l,e,r)}),this),a.aa&&o.H((function(t){t=new no(Yr,this.l(),l,t,e),this.l().J(t)}),this)}else{if(!h(e))throw new on("record must be an object or array list of objects, but "+e+" of type "+typeof e+" found.");t="store: "+l+" key: "+No(a,e,r),rn(this.logger,"addObject: "+t),Po(a,e),lr(o=this.a.request("add",[l],_n),(function(){Ur(this).P(o,!1,!0,l,[e],[r])}),this),a.aa&&o.H((function(t){t=new eo(Yr,this.l(),a.getName(),t,e),this.l().J(t)}),this)}return o},t.Ta=function(t,e,r){var o,a=Hr(this,t),l=a.getName();if(s(a.keyPath)&&n(r))throw new on("key must not be provided while the store uses in-line key.");if(!a.keyPath&&!a.b&&!n(r))throw new on("out-of-line key must be provided for store: "+l);if(!i(e))throw new on("record must be an array list of objects, but "+e+" of type "+typeof e+" found.");for(rn(this.logger,"addObjects: "+l+" "+e.length+" objects"),t=0;t<e.length;t++)Po(a,e[t]);return lr(o=this.a.request("add:array",[l],_n),(function(){Ur(this).P(o,!1,!1,l,e,r)}),this),a.aa&&o.H((function(t){t=new no(Yr,this.l(),a.getName(),t,e),this.l().J(t)}),this),o},t.put=function(t,r,o){var a,l=this;if(t instanceof Ar){var u=(d=t).s;if(!(g=_o(this.b,u)))throw new on('store "'+u+'" not found.');if(g.keyPath){var c=No(g,r);if(null!=c){if(0!=hr(c,d.id))throw new on("Inline key must be "+d+" but "+c+" found.")}else Oo(g,r,d.id);return this.put(u,r)}return this.put(u,r,d.id)}if(i(t)){if(n(o))throw new on("too many arguments");var f=t;if(!n(r))throw new on("record values required");for(var p=r,d=[],g=(u=0,f.length);u<g;u++){if(c=f[u].s,-1==V(d,c)&&d.push(c),!(w=_o(this.b,c)))throw new on('store "'+c+'" not found.');w.keyPath&&Oo(w,p[u],f[u].id)}for(rn(this.logger,"putByKeys: to "+Bo(d)+" "+p.length+" objects"),u=0;u<p.length;u++)Po(w,p[u]);a=this.a.request("put:keys",d,_n),Io(w,a,arguments),lr(a,(function(){Ur(l).Gb(a,p,f)}),this)}else{if(!s(t)&&!h(t))throw new on("the first argument of put must be store name, store schema or array of keys.");var w,m=(w=Hr(this,t)).getName();if(w.keyPath&&n(o))throw new on("key must not be provided while the store uses in-line key.");if(!w.keyPath&&!w.b&&!n(o))throw new on("out-of-line key must be provided for store: "+m);if(i(r)){var v=r,b=o;for(rn(this.logger,"putObjects: "+m+" "+v.length+" objects"),u=0;u<v.length;u++)Po(w,v[u]);a=this.a.request("put:array",[m],_n),Io(w,a,arguments),lr(a,(function(){Ur(this).P(a,!0,!1,m,v,b)}),this),w.aa&&a.H((function(t){t=new no(Jr,this.l(),m,t,v),this.l().J(t)}),this)}else{if(!h(r))throw new on("put record value must be Object or array of Objects");var y=r,k=o;if(rn(this.logger,"putObject: "+m+" "+(n(k)?k:"(without-key)")),n(e.Blob)&&y instanceof Blob&&w.sa&&!w.keyPath&&0==w.a.length&&be)a=new rr("put"),(d=new FileReader).onload=function(t){var e=t.target.result,n=l.a.request("put",[m],_n);Io(w,n,[m,y,k]),lr(n,(function(){Ur(l).P(n,!0,!0,m,[e],[k])}),this),At(n,(function(t){a.callback(t)}),(function(t){a.o(t)}))},d.onerror=function(t){a.o(t)},d.onabort=function(t){a.o(t)},d.readAsDataURL(y);else{Po(w,y),a=this.a.request("put",[m],_n);var x=[m,y,k];Io(w,a,x),lr(a,(function(){var t=n(k)?[x[2]]:void 0;Ur(l).P(a,!0,!0,m,[x[1]],t)}),this)}w.aa&&a.H((function(t){t=new eo(Jr,this.l(),m,t,y),this.l().J(t)}),this)}}return a},t.kb=function(t,e,r){var o,i=Hr(this,t),a=i.getName();if(i.keyPath&&n(r))throw new on("key must not be provided while the store uses in-line key.");if(!i.keyPath&&!i.b&&!n(r))throw new on("out-of-line key must be provided for store: "+a);var s=e,l=r;rn(this.logger,"putObjects: "+a+" "+s.length+" objects");for(var u=0;u<s.length;u++)Po(i,s[u]);return Io(i,o=this.a.request("put:array",[a],_n),arguments),lr(o,(function(){Ur(this).P(o,!0,!1,a,s,l)}),this),i.aa&&o.H((function(t){t=new no(Jr,this.l(),a,t,s),this.l().J(t)}),this),o},t.clear=function(t,e,r){if(n(r))throw new on("too many input arguments");var o;if(s(t)){if(!(r=_o(this.b,t)))throw new on('store name "'+t+'" not found.');if(h(e)){var a=kn(e);if(null===a)throw new on("clear method requires a valid non-null KeyRange object.");rn(this.logger,"clearByKeyRange: "+t+":"+Bo(a)),Io(r,o=this.a.request("clear",[t],_n),[t,a]),lr(o,(function(){Ur(this).vb(o,t,a)}),this)}else{if(n(e))throw new on("clear method requires a valid KeyRange object as second argument, but found "+e+" of type "+typeof e);rn(this.logger,"clearByStore: "+t),lr(o=this.a.request("clear",[t],_n),(function(){Ur(this).Wa(o,[t])}),this)}}else{if(!(!n(t)||i(t)&&s(t[0])))throw new on('first argument "'+t+'" is invalid.');var l=t||Fo(this.b);rn(this.logger,"clearByStores: "+Bo(l)),lr(o=this.a.request("clear",l,_n),(function(){Ur(this).Wa(o,l)}),this)}return o},t.sb=function(t,e,r){var l;if(s(t)){if(!(g=_o(this.b,t)))throw new on('store name "'+t+'" not found.');if(n(r)){if(!s(e))throw new on('index name "'+e+'" must be a string, but '+typeof e+" found.");var c=ko(g,e);if(!c)throw new on("index: "+e+" not found in "+t);if(!h(r)&&null!==r)throw new on("key range "+r+' is invalid type "'+typeof r+'".');var f=kn(r);rn(this.logger,"removeByIndexKeyRange: "+t+":"+c.getName()+" "+t),lr(l=this.a.request("rm:iter:index",[t],_n),(function(){Ur(this).Hb(l,t,c.getName(),f)}),this)}else if(s(e)||u(e)||a(e)||e instanceof Date){rn(this.logger,"removeById: "+t+":"+e),l=this.a.request("rm",[t],_n);var p=[t,e];Io(g,l,p),lr(l,(function(){Ur(this).lb(l,t,p[1])}),this),g.aa&&l.H((function(n){n=1==n?e:void 0,n=new eo(Gr,this.l(),t,n,void 0),this.l().J(n)}),this)}else{if(!h(e))throw new on('Invalid key or key range "'+e+'" of type '+typeof e);f=kn(e),rn(this.logger,"removeByKeyRange: "+t+":"+Bo(f)),Io(g,l=this.a.request("rm:iter",[t],_n),[t,f]),lr(l,(function(){Ur(this).mb(l,t,f)}),this),g.aa&&l.H((function(e){var n=[];n.length=e,e=new no(Gr,this.l(),t,n,void 0),this.l().J(e)}),this)}}else if(t instanceof Ar){var d=t.s,g=_o(this.b,d);l=this.a.request("rm",[d],_n);var w=[d,t.id];Io(g,l,w),lr(l,(function(){Ur(this).lb(l,d,w[1])}),this)}else{if(!i(t))throw new on('first argument requires store name, key (ydn.db.Key) or list of keys (array) , but "'+jo(t)+'" ('+o(t)+") found.");r=[],g=0;for(var m=t.length;g<m;g++){if(!(t[g]instanceof Ar))throw new on("key list element at "+g+" of "+m+' must be yn.db.Key, but "'+jo(t[g])+'" ('+o(t[g])+") is not ydn.db.Key.");var v=t[g].s;-1==V(r,v)&&r.push(v)}if(1>r.length)throw new on('at least one valid key required in key list "'+jo(t)+'"');lr(l=this.a.request("rm:keys",r,_n),(function(){Ur(this).Ib(l,t)}),this)}return l},t.toString=function(){return"DbOperator:"+this.l().getName()},k(zr,Kr),(t=zr.prototype).logger=Xe("ydn.db.core.DbOperator"),t.get=function(t,e){if(t instanceof Xn){var r=t.b,o=_o(this.b,r);if(!o)throw new on('store "'+r+'" not found.');var i=t.c;if(n(i)&&!So(o,i))throw new on('index "'+i+'" not found in store "'+r+'".');rn(this.logger,"getByIterator:"+t);var a=this.a.request("get:iter",[r]);return lr(a,(function(){Vr(this,5,a,t,1)}),this),a}return zr.B.get.call(this,t,e)},t.Ka=function(t,e){var r=100;if(u(e)){if(1>(r=e))throw new on("limit must be a positive value, but "+e)}else if(n(e))throw new on("limit must be a number,  but "+e);rn(this.logger,"keysOf:"+t);var o=this.a.request("keys:iter",[t.b]);return lr(o,(function(){t.u?Vr(this,1,o,t,r):Vr(this,2,o,t,r)}),this),o},t.keys=function(t,e,n,r,o,i,a){return t instanceof Xn?this.Ka(t,e):zr.B.keys.call(this,t,e,n,r,o,i,a)},t.Ga=function(t){rn(this.logger,"countIterator:"+t);var e=this.a.request("count",[t.b]);return lr(e,(function(){Vr(this,6,e,t)}),this),e},t.count=function(t,e,r,o){if(t instanceof Xn){if(n(e)||n(r))throw new on("too many arguments.");return this.Ga(t)}return zr.B.count.call(this,t,e,r,o)},t.Na=function(t,e){var r;if(u(e)){if(1>(r=e))throw new on("limit must be a positive value, but "+r)}else if(n(e))throw new on("limit must be a number, but "+e);rn(this.logger,"listByIterator:"+t);var o=this.a.request("values:iter",[t.b]);return lr(o,(function(){t.f?Vr(this,2,o,t,r):Vr(this,4,o,t,r)}),this),o},t.values=function(t,e,n,r,o,i){return t instanceof Xn?this.Na(t,e):zr.B.values.call(this,t,e,n,r,o,i)},t.Nb=function(t,e,r){if(!i(e))throw new on("iterators argument must be an array, but "+e+" of type "+typeof e+" found");for(var o=0;o<e.length;o++)if(!(e[o]instanceof Xn))throw new on("Iterator at "+o+" must be cursor range iterator.");r=r||Fn;var a=[];for(o=0;o<e.length;o++)for(var s=e[o].stores(),l=0;l<s.length;l++)0<=V(a,s[l])||a.push(s[l]);rn(this.logger,this+": scan for "+e.length+" iterators on "+a);var u=this;return o=this.a.request("scan",a),this.a.Da(o,(function(r,o,a){function s(){for(var t=0,n=0;n<e.length;n++){var i=e[n],a=[Ur(u).b(r,o,i.b)];(i=i.load(a)).Y=l,i.G=m(c,t),b[n]=i,g[t]=n,t++}p=e.length}function l(t){for(var e=0;e<b.length;e++)Gn(b[e]);X(b),rn(u.logger,f+" error"),a(t,!0)}function c(r,o){if(d)throw new Yo;var s=++y===p,l=g[r],c=e[l],m=(l=(m=b[l]).T(),m.Ca());if(w[r]=o,v[r]=c.u?c.f?l:m:c.f?o:m,s){var k;if(s=[],c=[],l=[],m=[],i(k=t instanceof mr?t.c(w,v):t(w,v)))for(var x=0;x<k.length;x++)!0===k[x]?l[x]=1:!1===k[x]?m[x]=!0:c[x]=k[x];else if(null===k)s=[];else if(n(k)){if(!h(k))throw new un("scan callback output");for(x in s=["advance","continue","continuePrimary","restart"],k)if(!(0<=V(s,x)))throw new un('Unknown attribute "'+x+'" in cursor advancement object');s=k.continuePrimary||[],c=k.continue||[],l=k.advance||[],m=k.restart||[]}else for(s=[],x=0;x<e.length;x++)n(g[x])&&(l[x]=1);for(x=y=k=0;x<e.length;x++)null!=s[x]||n(c[x])||null!=m[x]||null!=l[x]||y++;for(x=0;x<e.length;x++)if(null!=s[x]||n(c[x])||null!=m[x]||null!=l[x]){if(!n(S=g[x]))throw new Jo(x+" is not an iterator.");var S=e[S],E=b[x];if(null==w[x]){var C=x+"/"+e.length;if(null!=l[x])throw new Xo(E+" "+C+" must not advance "+l[x]+" steps");if(n(c[x]))throw new Xo(E+" "+C+" must not continue to key "+c[x]);if(null!=s[x])throw new Xo(E+" "+C+" must not continue to primary key "+s[x])}if(w[x]=void 0,v[x]=void 0,null!=m[x])Jn(E);else if(n(c[x]))E.ra(c[x]);else if(null!=s[x])E.Sa(s[x]);else{if(null==l[x])throw new Yo(S+": has no action");E.advance(1)}k++}if(0==k){for(k=0;k<b.length;k++)Gn(b[k]);d=!0,X(b),rn(u.logger,"success "+f),a(void 0)}}}var f=o+" "+u+" scanning";nn(u.logger,f);var p,d=!1,g=[],w=[],v=[],b=[],y=0;t instanceof mr&&t.h(r,e,(function(){s()}))||s()}),a,r),o},t.open=function(t,e,n,r){if(!(e instanceof Xn))throw new on("Second argument must be cursor range iterator.");for(var o=e.stores(),i=0;i<o.length;i++)if(!_o(this.b,o[i]))throw new on('Store "'+o[i]+'" not found.');n=n||Fn;var a=this,s=this.a.request("open",e.stores(),n);return rn(this.logger,"open:"+n+" "+e),lr(s,(function(n){var o=ur(s);rn(a.logger,o+" iterating "+e);for(var i=e.stores(),l=[],u=0;u<i.length;u++)l[u]=Ur(a).b(n,o,i[u]);var c=e.load(l);c.Y=function(t){ar(s,t,!0)},c.G=function(e){null!=e?!0===(e=t.call(r,c))?Jn(c):h(e)?!0===e.restart?Jn(c,e.continue,e.continuePrimary):null!=e.continue?c.ra(e.continue):null!=e.continuePrimary?c.Sa(e.continuePrimary):(Gn(c),ar(s,void 0)):null===e?(Gn(c),ar(s,void 0)):null!=e?c.ra(e):c.advance(1):(Gn(c),ar(s,void 0))}}),this),s},Wr.prototype.preventDefault=function(){this.ec=!1};var $r,Yr="created",Gr="deleted",Jr="updated";function Xr(t,e){Wr.call(this,t,e)}function Zr(t,e,n,r,o){Wr.call(this,t,e),this.version=n,this.ic=r,this.bc=o}function Qr(t,e,n){Wr.call(this,n||"error",t),this.error=e}function to(t,e){Qr.call(this,t,e,"fail")}function eo(t,e,n,r,o){Wr.call(this,t,e),this.s=n,this.key=r,this.value=o}function no(t,e,n,r,o){Wr.call(this,t,e),this.s=n,this.keys=r,this.values=o}k(Xr,Wr),Xr.prototype.a=function(){return this.s},k(Zr,Xr),(t=Zr.prototype).name="ReadyEvent",t.version=NaN,t.ic=NaN,t.bc=null,t.Nc=function(){return this.version},t.oc=function(){return this.ic},t.nc=function(){return this.bc},k(Qr,Xr),Qr.prototype.toString=function(){return this.name+":"+(this.error?this.error:"")},Qr.prototype.name="ErrorEvent",Qr.prototype.error=null,Qr.prototype.c=function(){return this.error},k(to,Qr),to.prototype.name="FailEvent",k(eo,Xr),eo.prototype.name="RecordEvent",eo.prototype.c=function(){return this.key},eo.prototype.f=function(){return this.value},k(no,Xr),no.prototype.name="StoreEvent",no.prototype.na=function(){return this.keys},no.prototype.cb=function(){return this.values},$r=!1;var ro=K;ro&&(-1!=ro.indexOf("Firefox")||-1!=ro.indexOf("Camino")||-1!=ro.indexOf("iPad")||-1!=ro.indexOf("iPhone")||-1!=ro.indexOf("iPod")||-1!=ro.indexOf("Chrome")||-1!=ro.indexOf("Android")||-1!=ro.indexOf("Safari")&&($r=!0));var oo=$r;function io(t,e,r,o,l,u){if(n(l)||(l=i(t)?t.join(", "):t),null!=t&&!s(t)&&!a(t))throw new on("index keyPath for "+l+" must be a string or array, but "+t+" is "+typeof t);if(i(t)&&Object.freeze&&Object.freeze(t),!n(t)&&n(l)&&(t=l),this.keyPath=t,this.h=a(this.keyPath),this.b=l,this.type=fo(e),n(e)){if(!n(this.type))throw new on("type invalid in index: "+this.b);if(i(this.keyPath))throw new on('composite key for store "'+this.b+'" must not specified type')}this.unique=!!r,this.multiEntry=!!o,this.i=s(this.type)?this.type:lo,this.f=s(l)?l:i(t)?this.keyPath.join(","):t,this.c=F(this.f),this.a=this.h?null:this.keyPath.split("."),this.g=u||null}function ao(t,e){if(null!=e){if(a(t.keyPath)){for(var n=[],r=0,o=t.keyPath.length;r<o;r++){var i=On(e,t.keyPath[r]);n[r]=i}return n}return On(e,t.keyPath)}}function so(t,e,n){for(var r=0;r<t.a.length;r++)r==t.a.length-1?e[t.a[r]]=n:h(e[t.a[r]])||(e[t.a[r]]={})}var lo="TEXT";function uo(t,e){return"DATE"!=e?null!=e?t:Pn(t):t instanceof Date?+t:void 0}function co(t,e){return"DATE"==e?new Date(t):n(e)?t:In(t)}var ho=["BLOB","DATE","INTEGER","NUMERIC",lo];function fo(t){if(s(t))return t=V(ho,t),ho[t]}function po(t,e){return null!=t||null!=e?null!=t?null!=e?a(t)&&a(e)?tt(t,e)?null:"expect: "+t+", but: "+e:Zo(t,e)?null:"expect: "+t+", but: "+e:"keyPath: "+t+" no longer defined":"newly define "+e:null}function go(t,e,r,o,u,c,h,f){if(!s(t))throw new on("store name must be a string");if(this.c=t,this.keyPath=n(e)?e:null,this.i=a(this.keyPath),null!==this.keyPath&&!s(this.keyPath)&&!this.i)throw new on("keyPath must be a string or array");if(null!=r&&!l(r))throw new on('invalid autoIncrement value in store "'+t+'"');var p;if(this.b=!!r,null!=o){if(!n(p=fo(o)))throw new on('type "'+o+'" for primary key in store "'+this.c+'" is invalid.');if(this.i)throw new on('composite key for store "'+this.c+'" must not specified type')}for(this.type=null!=p?p:this.b?"INTEGER":void 0,this.h=s(this.keyPath)?this.keyPath.split("."):[],this.a=u||[],t=[],e=0;e<this.a.length;e++){if(r=this.a[e].getName(),0<=t.indexOf(r))throw new on('index "'+r+'" already defined in store: '+this.c);t.push(r)}if(this.aa=!!c,this.sa=!!h,this.u=s(this.type)?this.type:lo,this.g=i(this.keyPath)?this.keyPath.join(","):s(this.keyPath)?this.keyPath:"_ROWID_",this.f=F(this.g),this.m=!!f){if(this.keyPath)throw new on('encrypted store "'+this.c+'" must not use inline key');if(this.b)throw new on('encrypted store "'+this.c+'" must not use key generator')}this.j=[]}function wo(t){var e,r="name keyPath autoIncrement type indexes dispatchEvents fixed Sync encrypted".split(" ");for(e in t)if(t.hasOwnProperty(e)&&-1==V(r,e))throw new on('Unknown attribute "'+e+'"');if(r=[],i(e=t.indexes||[]))for(var o=0;o<e.length;o++){var a;a=e[o];var s="name unique type keyPath multiEntry generator".split(" "),l=void 0;for(l in a)if(a.hasOwnProperty(l)&&-1==V(s,l))throw new on("Unknown field: "+l+" in "+Bo(a));n((a=new io(a.keyPath,a.type,a.unique,a.multiEntry,a.name,a.generator)).keyPath)&&a.keyPath===t.keyPath||r.push(a)}return new go(t.name,t.keyPath,t.autoIncrement,"undefined"===t.type||"null"===t.type?void 0:t.type,r,t.dispatchEvents,t.fixed,t.encrypted)}function mo(t,e,n,r,o,i,a){return t=vo(t,e,n,r,o,i,a),e="",0!=n&&(e+="SELECT "+t.select),e+=" FROM "+t.V,t.v&&(e+=" WHERE "+t.v),t.group&&(e+=" GROUP BY "+t.group),t.X&&(e+=" ORDER BY "+t.X),e}function vo(t,e,n,r,o,i,a){var l={select:"",V:"",v:"",group:"",X:""},u=t.g,c=t.f,h=null;r!==u&&s(r)&&(h=ko(t,r));var f=!!h,p=r||u,d=F(p),g=f?h.type:t.type,w=f&&h.multiEntry;return l.V=Eo(t),6===n?l.select="COUNT("+c+")":3===n||1===n||2===n?(l.select=c,null!=r&&r!=u&&(l.select+=", "+d)):l.select="*",r=a?"DISTINCT ":"",u=[],w?(w=F("ydn.db.me:"+t.getName()+":"+h.getName()),l.select=6===n?"COUNT("+r+w+"."+d+")":3===n||1===n||2===n?"DISTINCT "+Eo(t)+"."+c+", "+w+"."+d+" AS "+p:"DISTINCT "+Eo(t)+".*, "+w+"."+d+" AS "+p,l.V=w+" INNER JOIN "+Eo(t)+" USING ("+c+")",null!=o&&(En(w+"."+d,g,o,u,e),0<u.length&&(l.v=l.v?l.v+" AND "+u.join(" AND "):u.join(" AND ")))):null!=o&&(En(d,g,o,u,e),0<u.length&&(l.v=l.v?l.v+" AND "+u.join(" AND "):u.join(" AND "))),f&&!h.unique&&a&&(l.group=d),t=i?"DESC":"ASC",l.X=d+" "+t,f&&(l.X+=", "+c+" "+t),l}function bo(t,e,n,r,o,i,a,s,l){var u,c,h,f;return null!=o?(u=o.lower,c=o.upper,h=o.lowerOpen,f=o.upperOpen,i?null!=c?-1==(o=hr(s,c))?(c=s,f=l):0==o&&(f=l||f):(c=s,f=l):null!=u?1==(o=hr(s,u))?(u=s,h=l):0==o&&(h=l||h):(u=s,h=l)):i?(c=s,f=l):(u=s,h=l),o=new pn(u,c,!!h,!!f),e="SELECT "+(e=vo(t,n,e,(r=r?ko(t,r):null)?r.f:t.g,o,i,a)).select+" FROM "+e.V+(e.v?" WHERE "+e.v:"")+(e.group?" GROUP BY "+e.group:"")+" ORDER BY "+e.X,r&&(e+=", "+t.f+(i?"DESC":"ASC")),e}function yo(t,e,n,r,o,i,a,s,l,u){var c=ko(t,r),h=c.f;r=c.c;var f=t.f,p=l?" <":" >";return p=a?p+" ":p+"= ",a=uo(i,c.type),s=uo(s,t.type),c="",o?((t=vo(t,n,e,h,o,l,u)).v+=" AND ",c=r+p+"?",n.push(a)):(c=(t=vo(t,n,e,h,o=l?mn(i,!0):vn(i,!0),l,u)).v,t.v=""),t.v+="("+c+" OR ("+r+" = ? AND "+f+p+"?))",n.push(a),n.push(s),"SELECT "+t.select+" FROM "+t.V+" WHERE "+t.v+(t.group?" GROUP BY "+t.group:"")+" ORDER BY "+t.X}function ko(t,e){return G(t.a,(function(t){return t.getName()==e}))}function xo(t,e){for(var n=0;n<t.a.length;n++)if(!po(t.a[n].keyPath,e))return t.a[n];return null}function So(t,e){return e===t.keyPath||Y(t.a,(function(t){return t.getName()==e}))}function Eo(t){return F(t.c)}function Co(t,e){if(!e)return t;var r=t.b,o=i(t.keyPath)?Q(t.keyPath):t.keyPath,a=t.type,l=$(t.a,(function(t){return t.clone()}));n(e.type)||"TEXT"!=a||(a=void 0),i(e.keyPath)&&s(o)&&o==e.keyPath.join(",")&&(o=Q(e.keyPath));for(var u=0,c=e.a.length;u<c;u++)if(e.a[u].h)for(var h=e.a[u].getName(),f=l.length-1;0<=f;f--)if(0<=h.indexOf(l[f].getName())){l[f]=e.a[u].clone();break}for(u=0;u<l.length;u++)(c=ko(e,l[u].getName()))&&(l[u]=l[u].hint(c));return new go(e.c,o,r,a,l)}function No(t,e,n){if(e){if(!t.keyPath&&null!=n)return n;if(t.i){n=[];for(var r=0;r<t.keyPath.length;r++)n.push(On(e,t.keyPath[r]));return n}if(t.keyPath)return it(e,t.h)}}function Oo(t,e,r){for(var o=0;o<t.h.length;o++){var i=t.h[o];if(o==t.h.length-1){e[i]=r;break}n(e[i])||(e[i]={}),e=e[i]}}function Ao(t,e,r){var o=[],i=[];r=n(r)?r:No(t,e),n(r)&&(i.push(t.f),o.push(uo(r,t.type)));for(var a=0;a<t.a.length;a++){var l=t.a[a];if(!l.multiEntry&&l.getName()!==t.keyPath&&"_default_"!=l.getName()){var u=ao(l,e);null!=u&&(o.push(uo(u,l.type)),i.push(l.c))}}for(t.sa?t.sa&&!t.keyPath&&0==t.a.length&&(s(e)&&-1==e.indexOf(";base64,")?o.push(e):o.push(Bo(e)),i.push("_default_")):(o.push(Bo(e)),i.push("_default_")),t=[],a=o.length-1;0<=a;a--)t[a]="?";return{Vb:i,fc:t,values:o,key:r}}function To(t,e){if(!e)return"missing store: "+t.c;if(t.c!=e.c)return"store name, expect: "+t.c+", but: "+e.c;var r=po(t.keyPath,e.keyPath);if(r)return"keyPath, "+r;if(n(t.b)&&n(e.b)&&t.b!=e.b)return"autoIncrement, expect:  "+t.b+", but: "+e.b;if(t.a.length!=e.a.length)return"indexes length, expect:  "+t.a.length+", but: "+e.a.length;if(n(t.type)&&n(e.type)&&(a(t.type)?!tt(t.type,e.type):t.type!=e.type))return"data type, expect:  "+t.type+", but: "+e.type;for(r=0;r<t.a.length;r++){var o,i=ko(e,t.a[r].getName());if(o=t.a[r],i)if(o.b!=i.b)o="name, expect: "+o.b+", but: "+i.b;else{var s=po(o.keyPath,i.keyPath);o=s?"keyPath, "+s:null!=o.unique&&null!=i.unique&&o.unique!=i.unique?"unique, expect: "+o.unique+", but: "+i.unique:null!=o.multiEntry&&null!=i.multiEntry&&o.multiEntry!=i.multiEntry?"multiEntry, expect: "+o.multiEntry+", but: "+i.multiEntry:n(o.type)&&n(i.type)&&(a(o.type)?!tt(o.type,i.type):o.type!=i.type)?"data type, expect: "+o.type+", but: "+i.type:""}else o="no index for "+o.b;if(0<o.length)return'index "'+t.a[r].getName()+'" '+o}return""}function Po(t,e){if(e)for(var n=0;n<t.a.length;n++){var r=t.a[n],o=e;if(r.g){var a=r.g(o),s=typeof a;if("string"==s||"number"==s||a instanceof Date||i(a)){for(s=0;s<r.a.length-1;s++)h(o[r.a[s]])||(o[r.a[s]]={});o[r.a[r.a.length-1]]=a}}}}function Io(t,e,n,r,o){for(var i=0;i<t.j.length;i++)r!==i&&t.j[i].call(o,e,n)}function qo(t){return!s(t)||N(t)?{}:JSON.parse(t)}function jo(t){var e;try{e=Bo(t)}catch(t){e=""}return e?e.substr(0,70)+(70<e.length?"...":""):""}function Bo(t){return JSON.stringify(t,void 0,void 0)}function Do(t,e){if(!t||N(t))throw new on("store_name must be provided for primary full text index");if(!e||N(e))throw new on("index_name must be provided for primary full text index");this.s=t}function Ro(t,e,n){if(this.name=t,this.a=e,this.b=n||"",-1==["","en","fr"].indexOf(this.b))throw new on('Unsupported lang "'+n+" for full text search index "+t)}function Lo(t){var e,n=["name","sources","lang"];for(e in t)if(t.hasOwnProperty(e)&&-1==V(n,e))throw new on("Unknown field: "+e+" in "+Bo(t));if(!i(t.sources))throw new on("indexes require for full text search index "+t.name+", but "+t.sources+" of type "+typeof t.sources+" found.");return n=t.sources.map((function(t){var e,n=["storeName","keyPath","weight"];for(e in t)if(t.hasOwnProperty(e)&&-1==V(n,e))throw new on("Unknown field: "+e+" in "+jo(t));return new Do(t.storeName,t.keyPath)})),new Ro(t.name,n,t.lang)}function Mo(t,e){var r,o,a=e;if(h(t)){for(var l in r=["version","stores","fullTextCatalogs"],o=t)if(o.hasOwnProperty(l)&&-1==V(r,l))throw new on("Unknown field: "+l+" in schema.");r=o.version,a=[];var c=o.stores||[];if(!i(c))throw new on("stores must be array");for(l=0;l<c.length;l++){var f=wo(c[l]);if(-1!=J(a,(function(t){return t.name==f.getName()})))throw new on('duplicate store name "'+f.getName()+'".');a.push(f)}}else s(t)?r=0==t.length?void 0:parseFloat(t):u(t)&&(r=t);if(n(r)){if(!u(r)||0>r)throw new on("Invalid version: "+r+" ("+t+")");isNaN(r)&&(r=void 0)}if(n(e)&&(!i(e)||0<e.length&&!(e[0]instanceof go)))throw new on("stores");if(this.version=r,this.b=!n(this.version),this.stores=a||[],r=[],o&&o.fullTextCatalogs)for(l=0;l<o.fullTextCatalogs.length;l++)a=Lo(o.fullTextCatalogs[l]),r[l]=a,_o(this,a.getName())||(c=[new io("k",lo),new io("v",lo)],a=new go(a.getName(),"id",!1,void 0,c,!1,!1,!1),this.stores.push(a));this.c=r}function Fo(t){return $(t.stores,(function(t){return t.getName()}))}function _o(t,e){return G(t.stores,(function(t){return t.getName()==e}))}function Uo(t,e){return Y(t.stores,(function(t){return t.getName()==e}))}function Ho(t,e,n,r){if(!e||t.stores.length!=e.stores.length)return"Number of store: "+t.stores.length+" vs "+e.stores.length;for(var o=0;o<t.stores.length;o++){var i=_o(e,t.stores[o].getName());if(!i)return'missing object store "'+t.stores[o].getName()+'"';if(n&&(i=Co(i,t.stores[o])),r)for(var a=i,s=t.stores[o],l=0;l<s.a.length;l++){var u=s.a[l];So(a,u.getName())||"BLOB"!=u.type||(u=new io(u.keyPath,u.type,u.unique,u.multiEntry,u.getName()),a.a.push(u))}if(0<(i=To(t.stores[o],i)).length)return'store: "'+t.stores[o].getName()+'" '+i}return""}function Ko(t,e){Mo.call(this,t,e)}function zo(t,e){t.stores.push(e)}function Vo(t){Error.captureStackTrace?Error.captureStackTrace(this,Vo):this.stack=Error().stack||"",t&&(this.message=String(t)),this.name="ydn.error.ArgumentException"}function Wo(t){Error.captureStackTrace?Error.captureStackTrace(this,Wo):this.stack=Error().stack||"",t&&(this.message=String(t)),this.name="ydn.error.NotSupportedException"}function $o(t){Error.captureStackTrace?Error.captureStackTrace(this,$o):this.stack=Error().stack||"",t&&(this.message=String(t)),this.name="ydn.error.NotImplementedException"}function Yo(t){Error.captureStackTrace?Error.captureStackTrace(this,Yo):this.stack=Error().stack||"",t&&(this.message=String(t)),this.name="ydn.error.InternalError"}function Go(t){Error.captureStackTrace?Error.captureStackTrace(this,Go):this.stack=Error().stack||"",t&&(this.message=String(t)),this.name="ydn.error.ConstraintError"}function Jo(t){Error.captureStackTrace?Error.captureStackTrace(this,Jo):this.stack=Error().stack||"",t&&(this.message=String(t)),this.name="ydn.error.InvalidOperationException"}function Xo(t){Error.captureStackTrace?Error.captureStackTrace(this,Xo):this.stack=Error().stack||"",t&&(this.message=String(t)),this.name="ydn.error.InvalidOperationError"}function Zo(t,e){var n;if(n=n||{},null!=t&&null!=e){if(a(t)&&a(e)){if(t.length!=e.length)return!1;for(var r=0;r<t.length;r++)if(-1==J(e,(function(e){return Zo(e,t[r])})))return!1;return!0}if(a(t))return 1==t.length&&Zo(t[0],e);if(a(e))return 1==e.length&&Zo(e[0],t);if(h(t)&&h(t)){for(var o in t)if(t.hasOwnProperty(o)&&!n[o]){var i=Zo(t[o],e[o]);if(!i)return!1}for(o in e)if(e.hasOwnProperty(o)&&!n[o]&&!(i=Zo(t[o],e[o])))return!1;return!0}return t===e}return!1}function Qo(t){if(t)for(var e in t)if(t.hasOwnProperty(e))return t[e]}function ti(t,e,r){r=r||{};var a,s,l="autoSchema connectionTimeout size mechanisms policy isSerial Encryption".split(" ");for(a in r)if(r.hasOwnProperty(a)&&-1==V(l,a))throw new on('Unknown attribute "'+a+'" in options.');if(r.mechanisms){if(!i(r.mechanisms))throw new on("mechanisms attribute must be an array but "+o(r.mechanisms)+" found.");for(a=0;a<r.mechanisms.length;a++)if(!(0<=V(ei,r.mechanisms[a])))throw new on('Invalid mechanism "'+r.mechanisms[a]+'"')}if(this.G=r.mechanisms||(oo?function(t,e,n){return 2>=arguments.length?z.slice.call(t,e):z.slice.call(t,e,n)}(ei,1):ei),this.j=r.size,this.K=n(r.connectionTimeout)?r.connectionTimeout:3e3,this.b=null,this.f=[],this.hb=!1,e instanceof Mo)s=e;else if(h(e))for(s=r.autoSchema||!n(e.stores)?new Ko(e):new Mo(e),r=e.stores?e.stores.length:0,a=0;a<r;a++)l=_o(s,e.stores[a].name),e.stores[a].Sync&&tn(this.logger,"Synchronization option for "+l.getName()+" ignored.");else s=new Ko;for(this.a=s,a=0;a<this.a.count();a++)if((this.a.stores[a]||null).m)throw Error("encryption option must be defined");n(t)&&this.C(t),this.h=null,this.g=new Ct}(t=io.prototype).getName=function(){return this.b},t.toJSON=function(){return{name:this.b,keyPath:this.keyPath,type:this.type,unique:this.unique,multiEntry:this.multiEntry}},t.clone=function(){return new io(i(this.keyPath)?Q(this.keyPath):this.keyPath,this.type,this.unique,this.multiEntry,this.b,this.g)},t.hint=function(t){if(!t)return this;var e=i(this.keyPath)?Q(this.keyPath):this.keyPath,r=this.type;return n(t.type)||"TEXT"!=r||(r=void 0),new io(e,r,this.unique,this.multiEntry,t.b)},t.toString=function(){var t=this.multiEntry?"MultiEntry":"";return this.a&&1<this.a.length&&(t+="Compound"),t+"Index:"+this.b},(t=go.prototype).aa=!1,t.sa=!1,t.toJSON=function(){for(var t=[],e=0;e<this.a.length;e++)t.push(this.a[e].toJSON());return{name:this.c,keyPath:this.keyPath,autoIncrement:this.b,type:this.type,indexes:t}},t.clone=function(){return wo(this.toJSON())},t.index=function(t){return this.a[t]||null},t.getName=function(){return this.c},t.toString=function(){return"Store:"+this.c+"["+this.a.length+"index]"},Ro.prototype.getName=function(){return this.name},Ro.prototype.count=function(){return this.a.length},Ro.prototype.index=function(t){return this.a[t]},Mo.prototype.toJSON=function(){var t=$(this.stores,(function(t){return t.toJSON()})),e={};return e.stores=t,n(this.version)&&(e.version=this.version),e},Mo.prototype.b=!1,Mo.prototype.a=function(){return!1},Mo.prototype.count=function(){return this.stores.length},k(Ko,Mo),Ko.prototype.a=function(){return!0},k(Vo,Error),k(Vo,Error),Wo.prototype.name="ydn.error.NotSupportedException",k($o,Error),k(Yo,Error),Yo.prototype.name="ydn.InternalError",k(Go,Error),Go.prototype.name="ydn.error.ConstraintError",k(Vo,Error),k(Xo,Error),ti.prototype.logger=Xe("ydn.db.con.Storage"),ti.prototype.N=function(t){if(n(t)){var e=function(e){t(e.toJSON()),t=void 0};if(this.b)this.b.S(e);else{var r=this;this.transaction((function(t){r.b.S(e,t)}),null,Fn)}}return this.a?this.a.toJSON():null},ti.prototype.C=function(t){if(this.b)throw new un("Already connected with "+this.i);this.i=t,ni(this)},ti.prototype.getName=function(){return this.i};var ei="indexeddb sqlite websql localstorage sessionstorage userdata memory".split(" ");function ni(t){function e(e,o){e?(nn(t.logger,t+": ready."),t.Zb=NaN,r.Ra=function(e){t.J(new Qr(t,e))},r.qb=function(e){t.J(new to(t,e)),t.b=null},r.jb=function(e){t.J(e)},setTimeout((function(){ri(t,o),ii(t)}),10),n.callback(o)):(tn(t.logger,t+": database connection fail "+o.name),setTimeout((function(){if(ri(t,new to(t,o)),t.f){var e=t.logger;for(e&&e.log(Fe,"Purging "+t.f.length+" transactions request.",void 0);e=t.f.shift();)e.L&&e.L("error",o)}}),10),n.o(o))}for(var n=new Ct,r=null,o=t.G,i=0;i<o.length;i++){var a=o[i].toLowerCase();if(r=t.xb(a)){r=t.xb(a);break}}null===r?(o=new Go("No storage mechanism found."),e(!1,new to(t,o))):At(r.connect(t.i,t.a),(function(t){this.b=r,e(!0,new Zr("ready",this,parseFloat(r.ob()),parseFloat(t),null))}),(function(t){tn(this.logger,this+": opening fail"),e(!1,t)}),t)}function ri(t,e){setTimeout((function(){t.a.b&&t.g.c||(e instanceof Qr?t.g.o(e.error):t.g.callback(),t.J(e))}),4)}function oi(t){return!!t.b&&t.b.pb()}function ii(t){var e=t.f.shift();e&&(nn(t.logger,"pop tx queue["+(t.f.length+1)+"]"),t.transaction(e.ab,e.uc,e.mode,e.L)),t.Zb=b()}function ai(t,e,n,r){this.f=t,this.g=e,this.a=Q(n),this.b=r,this.c=[]}function si(t,e,n){if(!t.f)throw new cn("tx committed on ParallelTxExecutor");n&&t.c.push(n),e(t.f)}function li(t,e,n,r,o,i){jr.call(this,t,e,n,r,o,i),this.c=this.b=null}function ui(t,e){li.call(this,t,e,Br)}function ci(t,e,r){ti.call(this,t,e,r),this.wa=0,t=!0,e=Br,r&&(n(r.isSerial)&&(t=!!r.isSerial),r.policy&&(e=r.policy)),r=hi(this,e,t),this.m=hi(this,"atomic",!1),this.c=this.va(r,this.m)}function hi(t,e,n,r,o,i){if(n){if("multi"==e||"repeat"==e||"all"==e||e==Br)return new Rr(t,t.wa++,e,r,o,i);if("atomic"==e)return new Fr(t,t.wa++);throw new on('Invalid requestType "'+e+'"')}if("multi"==e||"repeat"==e||"all"==e||e==Br)return new li(t,t.wa++,e,r,o,i);if("atomic"==e)return new ui(t,t.wa++);throw new on('Invalid requestType "'+e+'"')}function fi(t,e,n){for(ci.call(this,t,e,n),t=this.a,e=0;e<t.c.length;e++){var r=_o(t,(n=t.c[e]).getName());if(!r)throw new on('full text index store "'+n.getName()+'" required.');if(!So(r,"k"))throw new on('full text index store "'+r.getName()+'" must have "keyword" index');if(!So(r,"v"))throw new on('full text index store "'+r.getName()+'" must have "keyword" index');if("id"!=r.keyPath)throw new on('full text index store "'+r.getName()+'" must use "id" as key path.');for(r=0;r<n.count();r++){var o=n.index(r),i=_o(t,o.s);if(!i)throw new on('full text source store "'+o.s+'" does not exist for full text index "'+n.getName()+'"');tn(this.logger,"Full text indexer option for "+i.getName()+" ignored.")}}}function pi(t,e,n){fi.call(this,t,e,n)}function di(t,e,n,r){Wn.call(this,t,e,n,r),this.h=null}function gi(t,e){this.a=e}function wi(t,e){this.a=e}function mi(){this.a=!1}function vi(t,e,n,r){Wn.call(this,t,e,n,r),this.j=this.c=this.a=void 0,this.i=this.h=null,this.m=new mi,this.nb=this.la=null}function bi(t){setTimeout((function(){t.m.state()?(t.m.a=!1,t.W(t.a,t.c,t.j),bi(t)):(t.i(),t.i=null)}),4)}function yi(t,e){if(t.h=e){var n=e.value;if(t.w)if(t.reverse||null==t.w.upper)t.reverse&&null!=t.w.lower&&(-1==(r=hr(n.key,t.w.lower))||0==r&&t.w.lowerOpen)&&(t.h=null);else{var r=hr(n.key,t.w.upper);(1==r||0==r&&t.w.upperOpen)&&(t.h=null)}if(t.h){if(t.unique&&null!=t.a&&null!=n.key&&0==hr(t.a,n.key))return;t.a=n.key,t.c=t.g?n.a:t.a,4==t.u&&(t.Ia?t.j=t.c:t.j=Vi(t.nb,t.c))}}return t.h||(t.a=void 0,t.c=void 0,t.j=void 0),t.m.a=!0}function ki(t,e,r){return t=["ydn.db",t],n(e)&&(t.push(e),n(r)&&(t.push(r),n(void 0)&&t.push(Pn(void 0)))),t.join("^|")}function xi(t,e){this.key=t,this.a=e}function Si(t,e){var n=hr(t.key,e.key);return 0===n?null!=t.a?null!=e.a?hr(t.a,e.a):1:null!=e.a?-1:0:n}function Ei(t){this.U=t||Ci}function Ci(t,e){return String(t)<String(e)?-1:String(t)>String(e)?1:0}function Ni(t,e){Oi(t,(function(t){var n=null,r=this.U(t.value,e);return 0<r?n=t.left:0>r?n=t.right:function(t,e){if(null!=e.left||null!=e.right){var n,r=null;null!=e.left?(Oi(t,(function(t){return t.count--,t.parent}),n=qi(t,e.left)),n!=e.left&&((n.parent.right=n.left)&&(n.left.parent=n.parent),n.left=e.left,n.left.parent=n,r=n.parent),n.parent=e.parent,n.right=e.right,n.right&&(n.right.parent=n),e==t.ba&&(t.ba=n)):(Oi(t,(function(t){return t.count--,t.parent}),n=Ii(t,e.right)),n!=e.right&&((n.parent.left=n.right)&&(n.right.parent=n.parent),n.right=e.right,n.right.parent=n,r=n.parent),n.parent=e.parent,n.left=e.left,n.left&&(n.left.parent=n),e==t.ca&&(t.ca=n)),n.count=e.count,Di(e)?e.parent.left=n:Bi(e)?e.parent.right=n:t.D=n,Ai(t,r||n)}else Oi(t,(function(t){return t.count--,t.parent}),e.parent),Di(e)?(e.parent.left=null,e==t.ca&&(t.ca=e.parent),Ai(t,e.parent)):Bi(e)?(e.parent.right=null,e==t.ba&&(t.ba=e.parent),Ai(t,e.parent)):t.clear()}(this,t),n}))}function Oi(t,e,n){for(n=n||t.D;n&&null!=n;)n=e.call(t,n)}function Ai(t,e){Oi(t,(function(t){var e=t.left?t.left.height:0,n=t.right?t.right.height:0;return 1<e-n?(t.left.right&&(!t.left.left||t.left.left.height<t.left.right.height)&&Ti(this,t.left),Pi(this,t)):1<n-e&&(t.right.left&&(!t.right.right||t.right.right.height<t.right.left.height)&&Pi(this,t.right),Ti(this,t)),e=t.left?t.left.height:0,n=t.right?t.right.height:0,t.height=Math.max(e,n)+1,t.parent}),e)}function Ti(t,e){Di(e)?(e.parent.left=e.right,e.right.parent=e.parent):Bi(e)?(e.parent.right=e.right,e.right.parent=e.parent):(t.D=e.right,t.D.parent=null);var n=e.right;e.right=e.right.left,null!=e.right&&(e.right.parent=e),n.left=e,e.parent=n,n.count=e.count,e.count-=(n.right?n.right.count:0)+1}function Pi(t,e){Di(e)?(e.parent.left=e.left,e.left.parent=e.parent):Bi(e)?(e.parent.right=e.left,e.left.parent=e.parent):(t.D=e.left,t.D.parent=null);var n=e.left;e.left=e.left.right,null!=e.left&&(e.left.parent=e),n.right=e,e.parent=n,n.count=e.count,e.count-=(n.left?n.left.count:0)+1}function Ii(t,e){if(!e)return t.ca;var n=e;return Oi(t,(function(t){var e=null;return t.left&&(e=n=t.left),e}),e),n}function qi(t,e){if(!e)return t.ba;var n=e;return Oi(t,(function(t){var e=null;return t.right&&(e=n=t.right),e}),e),n}function ji(t,e){this.value=t,this.parent=e||null,this.count=1}function Bi(t){return!!t.parent&&t.parent.right==t}function Di(t){return!!t.parent&&t.parent.left==t}function Ri(t){this.U=t||Ci}function Li(t,e,n){if(t.D){var r;if(n instanceof ji)r=n;else if(n){if(Oi(t,(function(t){var e=null;return 0<this.U(t.value,n)?(e=t.left,r=t):0>this.U(t.value,n)?e=t.right:r=t,e})),!r)return}else r=Ii(t);t=r;for(var o=r.left?r.left:r;null!=t;)if(null!=t.left&&t.left!=o&&t.right!=o)t=t.left;else{if(t.right!=o&&e(t))return;var i=t;t=null!=t.right&&t.right!=o?t.right:t.parent,o=i}e(null)}}function Mi(t,e,n){if(t.D){var r;if(n instanceof ji)r=n;else if(n){if(Oi(t,w((function(t){var e=null;return 0<this.U(t.value,n)?e=t.left:(0>this.U(t.value,n)&&(e=t.right),r=t),e}),t)),!r)return}else r=qi(t);t=r;for(var o=r.right?r.right:r;null!=t;)if(null!=t.right&&t.right!=o&&t.left!=o)t=t.right;else{if(t.left!=o&&e(t))return;var i=t;t=null!=t.left&&t.left!=o?t.left:t.parent,o=i}e(null)}}function Fi(t,e,n){this.g=t,this.storage=e,this.b=n,this.a={},t=this.b.keyPath,this.c=i(t)?t.join(","):t||"_ROWID_",this.a[this.c]=null,this.f=ki(this.g,this.b.getName(),this.c)+"^|"}function _i(t,e){var n=e||t.c;if(!t.a[n]){t.a[n]=new Ri(Si);for(var r=t.storage.length,o=0;o<r;o++){var a=t.storage.key(o);if(null!==a&&0==a.lastIndexOf(t.f,0)){var s=In(a.substr(t.f.length));if(n==t.c)t.a[n].add(new xi(s));else{var l=t.storage.getItem(a);if(null!==l)if(l=ao(a=ko(t.b,n),l=qo(l)),a.multiEntry){if(i(l))for(a=0;a<l.length;a++)t.a[n].add(new xi(l[a],s))}else t.a[n].add(new xi(l,s))}}}}return t.a[n]}function Ui(t,e,n){for(var r in t.a){var o=t.a[r];o&&(r==t.c?Ni(o,new xi(e)):Ni(o,new xi(e,On(n,ko(t.b,r).keyPath))))}}function Hi(t){for(var e in t.a){var n=t.a[e];n&&n.clear()}t.a={}}function Ki(t,e,n,r){if(null==e&&(t.b.keyPath&&(e=No(t.b,n)),t.b.b&&null==e)){e=t.f+Pn(void 0);var o=qo(t.storage.getItem(e));o.key_count||(o.key_count=0),o.key_count++,t.storage.setItem(e,Bo(o)),e=o.key_count}if(r&&(r=null!==t.storage.getItem(t.f+Pn(e))),r)return null;for(var i in t.storage.setItem(t.f+Pn(e),Bo(n)),r=e,t.a)if(o=t.a[i])if(i==t.c)o.add(new xi(r));else{var a;null!=(a=On(n,(a=ko(t.b,i)).keyPath))&&o.add(new xi(r,a))}return e}function zi(t,e){var n=t.f+Pn(e),r=t.storage.getItem(n);return null===r?0:(t.storage.removeItem(n),Ui(t,e,n=qo(r)),1)}function Vi(t,e){var n=void 0;if(null!==(r=t.storage.getItem(t.f+Pn(e)))){n=qo(r);for(var r=0,o=t.b.a.length;r<o;r++){var i=t.b.index(r);if("DATE"==i.type){var a=ao(i,n);a&&so(i,n,new Date(a))}}}return n}function Wi(t,e,n){t=_i(t,e=e||t.c);var r=null,o=null,i=0,a=!1,s=!1;return null!=n&&(null!=n.lower&&(r=new xi(n.lower)),null!=n.upper&&(o=new xi(n.upper)),a=n.lowerOpen,s=n.upperOpen),Li(t,(function(t){if(null!=t&&(t=t.value,!a||null==r||0!=hr(t.key,r.key))){if(null!=o&&(1===(t=hr(t.key,o.key))||0===t&&s))return!0;i++}}),r),i}function $i(t,e){var n=_i(t,t.c),r=null,o=null,i=0,a=[],s=[],l=!1,u=!1;if(null!=e&&(null!=e.lower&&(r=new xi(e.lower)),null!=e.upper&&(o=new xi(e.upper)),l=e.lowerOpen,u=e.upperOpen),Li(n,(function(e){if(null!=e&&(e=e.value,!l||null==r||0!=Si(e,r))){if(null!=o&&(1===(n=Si(e,o))||0===n&&u))return!0;var n=t.f+Pn(e.key),c=t.storage.getItem(n);null!==c&&(t.storage.removeItem(n),i++,10>a.length&&(a.push(e.key),s.push(qo(c))))}}),r),10>a.length)for(n=0;n<a.length;n++)Ui(t,a[n],s[n]);else Hi(t);return i}function Yi(t,e,r,o,i,a,s,l,u){function c(r){if(r&&!(++m<s)){var o=r.value;if(i){if(b&&null!=w&&0==(r=p?Si(o,w):hr(o.key,w.key)))return;if(null!=g&&(-1==(r=p?Si(o,g):hr(o.key,g.key))||0==r&&v))return u&&(u[0]=void 0,u[1]=void 0),!0}else{if(v&&null!=g&&0==(r=p?Si(o,g):hr(o.key,g.key)))return;if(null!=w&&(1==(r=p?Si(o,w):hr(o.key,w.key))||0==r&&b))return u&&(u[0]=void 0,u[1]=void 0),!0}if(r=o.key,!l||!d||null==h||0!=hr(h,r)){if(o=d?o.a:r,2==e)f.push(o);else if(1==e)f.push(r);else if(3==e)f.push([r,o]);else if(4==e){var c=Vi(t,o);f.push(c)}else f.push([r,o,Vi(t,o)]);u&&(u[0]=r,u[1]=o)}if(h=r,n(a)&&f.length>=a)return!0}}var h,f=[],p=!!u&&null!=u[0],d=(r=r||t.c)!=t.c;r=_i(t,r);var g=null,w=null;n(s)||(s=0);var m=-1,v=!1,b=!1;if(null!=o&&(null!=o.lower&&(g=d&&i?new xi(o.lower,"￿"):new xi(o.lower)),null!=o.upper&&(w=d&&!i?new xi(o.upper,"￿"):new xi(o.upper)),v=!!o.lowerOpen,b=!!o.upperOpen),p){i?b=!0:v=!0,o=u[0];var y=n(u[1])?u[1]:"￿";i?w=d?new xi(o,y):new xi(o):g=d?new xi(o,y):new xi(o)}return i?Mi(r,c,w):Li(r,c,g),f}function Gi(){this.clear()}function Ji(t){this.h=t||new Gi,this.g={}}function Xi(t,e){var n=_o(t.a,e);if(!n)throw new cn('store name "'+e+'" not found.');return t.g[e]||(t.g[e]=new Fi(t.f,t.c,n)),t.g[e]}function Zi(t,e){this.b=t,this.a=e}function Qi(t,e){this.a=e}function ta(t,e,n,r){var o=e.a.l((function(t){for(var i,a=[],s=n,l=0;l<r.length;l++){var u=r[l];u instanceof Ar&&(u=(s=u).id,s=s.s),i&&i.getName()==s||(i=Xi(t,s)),u=Vi(i,u),a[l]=u}ar(e,a,!1),o(),o=null}),t)}function ea(t,e){this.a=e}function na(t,e,n,r){Wn.call(this,t,e,n,r),this.K=null,this.h=this.i=void 0}function ra(t,e){if(t.i=void 0,t.h=void 0,t.m=void 0,n(e))if(h(e)){var r=co(e[t.b.g],t.b.type);if(t.h=r,t.g){var o=ko(t.b,t.O);t.i=co(e[t.O],o.type)}else t.i=r;t.m=t.Ia?r:aa(e,t.b)}else t.m=e}function oa(t,e,n,r,o,i){var a=!r;r=[],t.g&&null!=i&&null!=n?n=yo(t.b,t.u,r,t.K.getName(),t.w,n,a,i,t.reverse,t.unique):null!=n?(i=t.K?t.K.getName():null,n=bo(t.b,t.u,r,i,t.w,t.reverse,t.unique,n,a)):(n=mo(t.b,r,t.u,t.g?t.K.f:t.b.g,t.w,t.reverse,t.unique),t.g&&(n+=", "+t.b.f+" ASC")),n+=" LIMIT 1",0<o&&(n+=" OFFSET "+o),nn(t.logger,t+": continue:  SQL: "+n+" : "+Bo(r)),t.f.executeSql(n,r,(function(n,r){0<r.rows.length?ra(t,r.rows.item(0)):ra(t),e.call(t,t.i,t.h,t.m),e=null}),(function(n,r){return tn(t.logger,"get error: "+r.message),$n(t,r),ra(t),e.call(t,t.h,t.i,t.m),e=null,!1}))}function ia(t,e){this.a=e}function aa(t,e){if(e.sa&&!e.keyPath&&0==e.a.length&&t._default_){if(-1==(o=t._default_).indexOf(";base64,"))return qo(o);'"'==o.charAt(0)&&'"'==o.charAt(o.length-1)&&(o=o.substr(1,o.length-2));for(var r,o=(r=o.split(";base64,"))[0].split(":")[1],i=(r=window.atob(r[1])).length,a=new Uint8Array(i),s=0;s<i;++s)a[s]=r.charCodeAt(s);return new Blob([a.buffer],{type:o})}for(o=t._default_?qo(t._default_):{},null!=e.keyPath&&null!=(r=co(t[e.keyPath],e.type))&&Oo(e,o,r),r=0;r<e.a.length;r++)"_default_"==(a=(i=e.index(r)).f)||i.h||i.multiEntry||"DATE"!=i.type&&!e.sa||n(a=co(t[a],i.type))&&so(i,o,a);return o}function sa(t,e,r,o,i){function a(n){n="DELETE FROM  "+F(n="ydn.db.me:"+l.getName()+":"+n.getName())+h,nn(t.logger,ur(e)+NaN+n),s.executeSql(n,c)}var s=e.a,l=_o(t.a,r);r="DELETE FROM "+Eo(l);var u=[],c=[],h="";null!=i&&(n(o)?En((o=ko(l,o)).c,o.type,i,c,u):En(l.f,l.type,i,c,u),h=" WHERE "+c.join(" AND ")),r+=h;var f=ur(e)+" SQL: "+r+" PARAMS: "+u;for(nn(t.logger,f),s.executeSql(r,u,(function(n,r){nn(t.logger,"success "+f),ar(e,r.rowsAffected)}),(function(n,r){return tn(t.logger,"error: "+f+r.message),ar(e,r,!0),!1})),i=0,o=l.a.length;i<o;i++)(r=l.index(i)).multiEntry&&a(r)}function la(t,e){this.a=e}function ua(t){if(!s(t))throw new Vo;this.M=t,this.f=_n,this.a=[],ca(this,t),this.Oa=""}function ca(t,e){if(2==(r=e.split(/\sFROM\s/i)).length){var n=r[1];if(3==(r=r[0].match(/\s*?(SELECT|INSERT|UPDATE|DELETE)\s+(.*)/i)).length){if(t.g=r[1].toUpperCase(),"SELECT"==t.g)t.f=Fn;else if("INSERT"==t.g)t.f=_n;else if("UPDATE"==t.g)t.f=_n;else{if("DELETE"!=t.g)return;t.f=_n}var r,o=(r=r[2].trim()).match(/^(MIN|MAX|COUNT|AVG|SUM)/i);o?(t.c=o[0].toUpperCase(),r=r.replace(/^(MIN|MAX|COUNT|AVG|SUM)/i,"").trim()):t.c=void 0,"("==r.charAt(0)&&(")"==r.charAt(r.length-1)?r=r.substring(1,r.length-1):new Nr("missing closing parentheses")),t.m=r,0<(r=n.search(/(ORDER BY|LIMIT|OFFSET)/i))?(t.b=n.substring(r),n=n.substring(0,r)):t.b="",0<(r=n.search(/WHERE/i))?(t.h=n.substring(r+6).trim(),n=n.substring(0,r)):t.h="",t.a=n.trim().split(",").map((function(t){return t=R(t,'"'),(t=R(t,"'")).trim()}))}}}function ha(t,e){if(e){for(var n=0;n<e.length;n++)t.M=t.M.replace("?",e[n]);ca(t,t.M)}if(t.i=function(t){function e(t){return J(n,(function(e){return e.ma==t}))}var n=[],r=/(.+?)(<=|>=|=|>|<)(.+)/i;if(0<t.h.length)for(var o=t.h.split("AND"),i=0;i<o.length;i++){var a=o[i],s=r.exec(a);if(!s)return t.Oa='Invalid clause "'+a+'"',null;var l=R(l=s[1].trim(),'"');if(!(0<(l=R(l,"'")).length))return t.Oa='Invalid clause "'+a+'"',null;var u=s[3].trim();if(u=0==u.lastIndexOf('"',0)?R(u,'"'):0==u.lastIndexOf("'",0)?R(u,"'"):parseFloat(u),s=new Mn(l,s[2],u),0<=(l=e(l))){if(n[l]=n[l].ka(s),!n[l])return t.Oa='where clause "'+a+'" conflict',null}else n.push(s)}return n}(t),!t.i)return t.Oa;n=t.b.length;var r=/OFFSET\s+(\d+)/i.exec(t.b);return r&&(t.ac=parseInt(r[1],10),n=t.b.search(/OFFSET/i)),(r=/LIMIT\s+(\d+)/i.exec(t.b))&&(t.$b=parseInt(r[1],10),(r=t.b.search(/LIMIT/i))<n&&(n=r)),(n=/ORDER BY\s+(.+)/i.exec(t.b.substr(0,n)))?((r=(n=n[1].trim()).match(/(ASC|DESC)/i))?(t.Kb="DESC"==r[0].toUpperCase(),n=n.replace(/\s+(ASC|DESC)/i,"")):t.Kb=!1,t.j=R(R(n,'"'),"'")):t.j=void 0,""}function fa(t){return"*"==t.m?null:(t=t.m.split(",")).map((function(t){return R(t.trim(),'"')}))}function pa(t,e){this.a=e,this.c=t}function da(t,e){pa.call(this,t,e)}function ga(t,e){this.a=e}function wa(t,e){this.b=e,this.f=t,this.a=fa(e)}function ma(t,e){if(t.a){if(1==t.a.length)return h(e)?it(e,t.a[0]):void 0;for(var n={},r=0;r<t.a.length;r++)n[t.a[r]]=it(e,t.a[r]);return n}return aa(e,t.f)}function va(t,e){wa.call(this,t,e)}function ba(t,e){this.a=e}function ya(t,e){this.a=e}function ka(t,e,n){_r.call(this,t,e,n)}function xa(t,e,n){fi.call(this,t,e,n)}function Sa(t,e){n(t)&&5242880<t&&Ze(this.logger,Me,"storage size request ignored, use Quota Management API instead"),this.A=null,this.La=e||NaN}function Ea(t,e,n,r){function o(){var t={autoIncrement:!!r.b};return null!=r.keyPath&&(t.keyPath=r.keyPath),e.createObjectStore(r.getName(),t)}if(Ze(t.logger,Ke,"Creating Object Store for "+r.getName()+" keyPath: "+r.keyPath),e.objectStoreNames.contains(r.getName())){n=n.objectStore(r.getName()),po(r.keyPath||"",n.keyPath||"")?(e.deleteObjectStore(r.getName()),Ze(t.logger,Me,"store: "+r.getName()+" deleted due to keyPath change."),n=o()):l(n.autoIncrement)&&l(r.b)&&n.autoIncrement!=r.b&&(e.deleteObjectStore(r.getName()),Ze(t.logger,Me,"store: "+r.getName()+" deleted due to autoIncrement change."),n=o());for(var i=n.indexNames,a=0;a<r.a.length;a++){var s=r.index(a);!i.contains(s.getName())&&s.g&&(n.clear(),Ze(t.logger,Me,"store: "+r.getName()+" cleared since generator index need re-indexing."))}var u=0,c=0,h=0;for(a=0;a<r.a.length;a++){s=r.index(a);var f=!1;if(i.contains(s.getName())){var p=null!=(g=n.index(s.getName())).unique&&null!=s.unique&&g.unique!=s.unique,d=null!=g.multiEntry&&null!=s.multiEntry&&g.multiEntry!=s.multiEntry,g=null!=g.keyPath&&null!=s.keyPath&&!!po(g.keyPath,s.keyPath);(p||d||g)&&(n.deleteIndex(s.getName()),f=!0,u--,h++)}else"BLOB"!=s.type&&(f=!0);f&&(s.unique||s.multiEntry?(f={unique:s.unique,multiEntry:s.multiEntry},n.createIndex(s.getName(),s.keyPath,f)):n.createIndex(s.getName(),s.keyPath),u++)}for(a=0;a<i.length;a++)So(r,i[a])||(n.deleteIndex(i[a]),c++);Ze(t.logger,Ke,"Updated store: "+n.name+", "+u+" index created, "+c+" index deleted, "+h+" modified.")}else{for(n=o(),a=0;a<r.a.length;a++)"BLOB"==(s=r.index(a)).type?Ze(t.logger,Fe,"Index "+s+" of blob data type ignored."):(nn(t.logger,"Creating index: "+s+" for "+r.getName()),s.unique||s.multiEntry?(f={unique:s.unique,multiEntry:s.multiEntry},n.createIndex(s.getName(),s.keyPath,f)):n.createIndex(s.getName(),s.keyPath));rn(t.logger,"Created store: "+n)}}function Ca(t){Ji.call(this,t),this.b=NaN}function Na(){Ca.call(this,this)}function Oa(){Ca.call(this,this)}function Aa(t,e){this.a=n(t)?t:4194304,this.b=e||"websql"}function Ta(t,e,n,r,o){function i(t){e.executeSql(t,[],(function(){++a==s.length&&(r(!0),r=null)}),(function(e,o){throw++a==s.length&&(r(!1),r=null),new Er(o,"SQLError creating table: "+n.getName()+" "+o.message+' for executing "'+t)}))}var a=0,s=function(t){var e=t.u,n="CREATE TABLE IF NOT EXISTS "+Eo(t)+" (",r=t.f;n=n+(r+" ")+e+" PRIMARY KEY ",t.b&&(n+=" AUTOINCREMENT "),t.sa&&(t.keyPath||0!=t.a.length)||(n+=" ,_default_ BLOB");for(var o=[],i=[r],a=0,s=t.a.length;a<s;a++){var l="";if((c=t.index(a)).multiEntry){l="ydn.db.me:"+t.getName()+":"+c.getName();var u=c.unique?" UNIQUE ":"",c="CREATE TABLE IF NOT EXISTS "+F(l)+" ("+r+" "+e+", "+c.c+" "+c.i+u+")";o.push(c)}else c.unique&&(l=" UNIQUE "),u=c.c,-1==i.indexOf(u)&&(n+=", "+u+" "+c.i+l,i.push(u))}return o.unshift(n+")"),o}(n),l="Create";if(o){if(0==(o=To(n,o)).length)return nn(t.logger,"same table "+n.getName()+" exists."),r(!0),void(r=null);l="Modify",tn(t.logger,"table: "+n.getName()+" has changed by "+o+" ALTER TABLE cannot run in WebSql, dropping old table."),s.unshift("DROP TABLE IF EXISTS "+F(n.getName()))}for(nn(t.logger,l+" table: "+n.getName()+": "+s.join(";")),t=0;t<s.length;t++)i(s[t])}function Pa(t,e){if(Kn.call(this),this.f=e,this.b=[],t>this.f)throw Error("[goog.structs.SimplePool] Initial cannot be greater than max");for(var n=0;n<t;n++)this.b.push(this.a())}function Ia(){this.a=[],this.c=new de,this.f=new de,this.h=1,this.g=new Pa(0,4e3),this.g.a=function(){return new ja},this.i=new Pa(0,50),this.i.a=function(){return new qa};var t=this;this.b=new Pa(0,2e3),this.b.a=function(){return String(t.h++)},this.b.c=function(){}}function qa(){this.time=this.count=0}function ja(){}function Ba(t,e,n){var r=[];return-1==e?r.push("    "):r.push(Da(t.b-e)),r.push(" ",Ra(t.b-0)),0==t.a?r.push(" Start        "):1==t.a?(r.push(" Done "),r.push(Da(t.g-t.startTime)," ms ")):r.push(" Comment      "),r.push(n,t),0<t.f&&r.push("[VarAlloc ",t.f,"] "),r.join("")}function Da(t){var e="";return 1e3>(t=Math.round(t))&&(e=" "),100>t&&(e="  "),10>t&&(e="   "),e+t}function Ra(t){return t=Math.round(t),String(100+t/1e3%60).substring(1,3)+"."+String(1e3+t%1e3).substring(1,4)}(t=ti.prototype).xb=function(){return null},t.Ba=function(){if(this.b)return this.b.Aa()},t.ib=function(t,e){this.g.ia().Rb(t,e)},t.close=function(){this.b&&(this.b.close(),this.b=null,nn(this.logger,this+" closed"))},t.Kc=function(){return this.b?this.b.Mb():null},t.Zb=NaN,t.hb=!1,t.transaction=function(t,e,r,o){var i=e;if(s(e))i=[e];else if(null!=e){if(!a(e))throw new on("store names must be an array");if(0==e.length)throw new on("number of store names must more than 0");for(var l=0;l<e.length;l++)if(!s(e[l]))throw new on("store name at "+l+" must be string but found "+typeof e[l])}else i=null;if(this.b&&this.b.pb()&&!this.hb){var u=this,h=n(r)?r:Fn;h==Un&&(this.hb=!0),this.b.$a((function(e){t(e),t=null}),i,h,(function(t,e){c(o)&&(o(t,e),o=void 0),h==Un&&(u.hb=!1),ii(u)}))}else!function(t,e,n,r,o){nn(t.logger,"push tx queue["+t.f.length+"]"),t.f.push({ab:e,uc:n,mode:r,L:o}),100<t.f.length&&0==t.f.length%100&&tn(t.logger,"Transaction queue stack size is "+t.f.length+". It is too large, possibility due to incorrect usage.")}(this,t,i,r,o)},t.J=function(){},t.toString=function(){return"Storage:"+this.b},ai.prototype.f=null,ai.prototype.toString=function(){return"ParallelTxExecutor: txNo:"+this.g+" mode:"+this.b+" scopes:"+Bo(this.a)},k(li,jr),(t=li.prototype).logger=Xe("ydn.db.tr.Parallel"),t.abort=function(){rn(this.logger,this+": aborting"),Dr(this.c)},t.jc=function(t,e){var n;if("multi"==this.g)t:if(n=this.b,!n.a||!n.b||e!=n.b&&(n.b!=_n||e!=Fn)||t.length>n.a.length)n=!1;else{for(var r=0;r<t.length;r++)if(-1==n.a.indexOf(t[r])){n=!1;break t}n=!0}else if("repeat"==this.g)t:if(n=this.b,n.a&&n.b&&e==n.b&&n.a.length==t.length){for(r=0;r<t.length;r++)if(-1==n.a.indexOf(t[r])){n=!1;break t}n=!0}else n=!1;else n="all"==this.g;return n},t.pa=function(t,e,r,o){var i;this.G&&(e=this.G),this.C&&(r=this.C);var a,s=n(r)?r:Fn,l=this;if(this.b&&this.b.f&&this.jc(e,s))si(this.b,t,o);else{if(this.j&&this.f>=this.j)throw new un("Exceed maximum number of transactions of "+this.j);this.l().transaction((function(n){l.f++,a=new ai(n,l.f,e,s),i=l.I(),en(l.logger,i+" BEGIN "+Bo(e)+" "+s),l.b=a,si(l.b,t,o)}),e,s,(function(t,e){if(en(l.logger,i+" "+t),a){for(var n=a,r=0;r<n.c.length;r++)n.c[r](t,e);n.c.length=0,n.f=null,n.a=null,n.c=null}l.a=0}))}},t.request=function(t,e,n,r){var o=new rr(t),i=this;return this.pa((function(t){i.a++,or(o,t,i.I()+"R"+i.a)}),e,n||Fn,(function(t,e){ir(o),r&&r(t,e)})),o},t.Da=function(t,e,n,r,o){var i,a=this;this.pa((function(n){a.a++,i=a.I()+"R"+a.a,rn(a.logger,i+" BEGIN"),e(n,i,(function(e,r){a.c=n,i=a.I()+"R"+a.a,r?(rn(a.logger,i+" ERROR"),t.o(e)):(rn(a.logger,i+" SUCCESS"),t.callback(e)),a.c=null})),e=null,rn(a.logger,i+" END")}),n,r,o)},t.toString=function(){return"Parallel:"+this.g+":"+this.I()+(this.c?"*":"")},k(ui,li),(t=ui.prototype).logger=Xe("ydn.db.tr.AtomicParallel"),t.jc=function(){return!1},t.request=function(t,e,n){var r,o,i,a=this,s=ui.B.request.call(this,t,e,n,(function(t,e){if(ir(s),rn(a.logger,"transaction "+t),r)"complete"!=t&&(i=!0,o=e),r(o,i);else{var n=new Or;ar(s,n,!0)}}));return sr(s,(function(t,e,n){i=e,o=t,r=n})),s},t.Da=function(t,e,n,r,o){var i,a,s=new Ct;At(s,(function(t){a=!1,i=t}),(function(t){a=!0,i=t})),ui.B.Da.call(this,s,e,n,r,(function(e,n){if("complete"!=e)t.o(n);else if(!0===a)t.o(i);else if(!1===a)t.callback(i);else{var r=new Or;t.o(r)}o&&(o(e,n),o=void 0)}))},t.toString=function(){return"Atomic"+ui.B.toString.call(this)},k(ci,ti),(t=ci.prototype).wa=0,t.kc=function(t,e,n,r,o,i){var a;return"readonly"==r?a=Fn:"readwrite"==r&&(a=_n),t=hi(this,t=t||Br,e,n,a,o),this.va(t,i?null:this.m)},t.va=function(t){return new _r(this,this.a,t)},t.tc=function(t,e,n){if(3<arguments.length)throw new on("too many input arguments, run accept not more than 3 input arguments, but "+arguments.length+" found.");this.wa++;var r=e||Fo(this.a),o=Fn;if(n)if("readwrite"==n)o=_n;else if("readonly"!=n)throw new on('Invalid transaction mode "'+n+'"');var i=hi(this,"all",!1,r,o,1),a=this.va(i,this.m),s=new rr("run"),l=this;return i.pa((function(e){nn(l.logger,"executing run in transaction on "+i),or(s,e,i.I()+"R0"),t(a)}),r,o,(function(t){ir(s),ar(s,i.f,"complete"!==t)})),s},t.Pc=function(){return this.c?this.c.a.f:NaN},k(fi,ci),(t=fi.prototype).va=function(t){return new Kr(this,this.a,t)},t.add=function(t,e,n){return this.c.add(t,e,n)},t.Ta=function(t,e,n){return this.c.Ta(t,e,n)},t.count=function(t,e,n,r){return this.c.count(t,e,n,r)},t.get=function(t,e){return this.c.get(t,e)},t.keys=function(t,e,n,r,o,i,a){return this.c.keys(t,e,n,r,o,i,a)},t.Ja=function(t,e,n,r,o,i,a){return this.c.Ja(t,e,n,r,o,i,a)},t.values=function(t,e,n,r,o,i){return this.c.values(t,e,n,r,o,i)},t.Ma=function(t,e,n,r,o,i){return this.c.Ma(t,e,n,r,o,i)},t.put=function(t,e,n){return this.c.put(t,e,n)},t.kb=function(t,e,n){return this.c.kb(t,e,n)},t.clear=function(t,e,n){return this.c.clear(t,e,n)},t.sb=function(t,e,n){return this.c.sb(t,e,n)},t.toString=function(){var t="Storage:"+this.getName();return oi(this)&&(t+=" ["+this.Ba()+"]"),t},k(pi,fi),(t=pi.prototype).va=function(t){return new zr(this,this.a,t)},t.open=function(t,e,n,r){return this.c.open(t,e,n,r)},t.Ga=function(t){return this.c.Ga(t)},t.Na=function(t,e){return this.c.Na(t,e)},t.Ka=function(t,e){return this.c.Ka(t,e)},t.Lc=function(t,e){return this.c.Nb(t,e)},k(di,Wn),(t=di.prototype).logger=Xe("ydn.db.core.req.IDBCursor"),t.Za=function(t){(t=t.target.result)?this.W(t.key,t.primaryKey,t.value):this.W()},t.openCursor=function(t,e){function r(t,e,n){p.h=i,p.h.onsuccess=w(p.Za,p),p.W(t,p.g?e:void 0,n),i=null}var o=this+" opening ";null!=t&&(o+="{"+t,o=null!=e?o+";"+e+"}":o+"}"),nn(this.logger,o);var i,a=this.w,l=(o=this.f.objectStore(this.s),s(this.O)?o.index(this.O):null);if(n(t)){var u=!l||!n(e),c=a?a.lower:void 0,h=a?a.upper:void 0,f=!!a&&!!a.lowerOpen;a=!!a&&!!a.upperOpen,a=dn(this.reverse?new pn(c,t,f,u):new pn(t,h,u,a))}i=this.Ia?l?null!=this.Z?l.openKeyCursor(a,this.Z):null!=a?l.openKeyCursor(a):l.openKeyCursor():null!=this.Z?o.openCursor(a,this.Z):null!=a?o.openCursor(a):o.openCursor():l?null!=this.Z?l.openCursor(a,this.Z):null!=a?l.openCursor(a):l.openCursor():null!=this.Z?o.openCursor(a,this.Z):null!=a?o.openCursor(a):o.openCursor();var p=this;i.onerror=function(t){var e=i.error;t.preventDefault(),$n(p,e)},null!=t?i.onsuccess=function(n){if(n=n.target.result){var o=Hn.cmp(n.key,t),i=p.reverse?-1:1;o==i?r(n.key,n.primaryKey,n.value):o==-i?n.continue(t):null!=e&&Hn.cmp(n.primaryKey,e)==i?r(n.key,n.primaryKey,n.value):n.continue()}else r()}:(p.h=i,p.h.onsuccess=w(p.Za,p))},t.fb=function(){return!!this.h},t.update=function(t){var e=this.h.result;if(e){var n=new Ct;return(t=e.update(t)).onsuccess=function(t){n.callback(t.target.result)},t.onerror=function(t){t.preventDefault(),n.o(t)},n}throw new xr("cursor gone")},t.clear=function(){if(t=this.h.result){var t,e=new Ct;return(t=t.delete()).onsuccess=function(){e.callback(1)},t.onerror=function(t){t.preventDefault(),e.o(t)},e}throw new xr("cursor gone")},t.advance=function(t){var e=this.h.result;1==t?e.continue():e.advance(t)},t.Sa=function(t){var e=this.h.result,n=Hn.cmp(t,e.primaryKey);if(n!=(this.reverse?-1:1))throw new cn('continuing primary key "'+t+'" must '+(this.reverse?"lower":"higher")+' than current primary key "'+e.primaryKey+'"');var r=this;this.h.onsuccess=function(o){(e=o.target.result)?0==(n=Hn.cmp(e.primaryKey,t))||1==n&&!r.reverse||-1==n&&r.reverse?(r.h.onsuccess=w(r.Za,r),r.W(e.key,r.g?e.primaryKey:void 0,e.value)):e.continue():(r.h.onsuccess=w(r.Za,r),r.W())},e.continue()},t.ra=function(t){var e=this.h.result;null!=t?e.continue(t):e.continue()},t.fa=function(){di.B.fa.call(this),this.h=null},t.toString=function(){return"IDB"+di.B.toString.call(this)},k(gi,Pr),(t=gi.prototype).logger=Xe("ydn.db.crud.req.IndexedDb"),t.Ya=function(t,e){var n=[];0==e.length?ar(t,[]):function r(o){var i=t.a.objectStore(e[o]).count();i.onsuccess=function(i){n[o]=i.target.result,++o==e.length?ar(t,n):r(o)},i.onerror=function(e){e.preventDefault(),ar(t,i.error,!0)}}(0)},t.P=function(t,e,n,r,o,i){function a(p){null==o[p]&&(nn(c.logger,"empty object at "+p+" of "+o.length),++l==o.length?ar(t,s,u):(g=p+10)<o.length&&a(g));var d,g=o[p];(d=i&&null!=i[p]?e?f.put(g,i[p]):f.add(g,i[p]):e?f.put(g):f.add(g)).onsuccess=function(e){l++,s[p]=e.target.result,l==o.length?ar(t,n?s[0]:s,u):(e=p+10)<o.length&&a(e)},d.onerror=function(e){l++;var i=d.error;nn(c.logger,ur(t)+h+' request to "'+r+'" cause '+i.name+' for object "'+jo(o[p])+'" at index '+p+" of "+o.length+" objects."),s[p]=i,u=!0,e.preventDefault(),l==o.length?ar(t,n?s[0]:s,u):(e=p+10)<o.length&&a(e)}}var s=[],l=0,u=!1,c=this,h=e?"put":"add",f=t.a.objectStore(r);if(nn(this.logger,ur(t)+" "+h+" "+o.length+' objects to store "'+r+'"'),0<o.length)for(var p=0;10>p&&p<o.length;p++)a(p);else ar(t,[])},t.Gb=function(t,e,n){function r(l){var u,c=n[l],h=c.s,f=t.a.objectStore(h);(u=null===f.keyPath?f.put(e[l],c.id):f.put(e[l])).onsuccess=function(n){i++,o[l]=n.target.result,i==e.length?ar(t,o,a):(n=l+10)<e.length&&r(n)},u.onerror=function(n){i++,tn(s.logger,"request result "+n.name+' error when put keys to "'+h+'" for object "'+jo(e[l])+'" at index '+l+" of "+e.length+" objects."),o[l]=u.error,a=!0,n.preventDefault(),i==e.length?ar(t,o,a):(n=l+10)<e.length&&r(n)}}var o=[],i=0,a=!1,s=this;if(nn(this.logger,ur(t)+" putByKeys: of "+e.length+" objects"),0<e.length)for(var l=0;10>l&&l<e.length;l++)r(l);else ar(t,o,a)},t.lb=function(t,e,n){var r=t.a.objectStore(e);nn(this.logger,ur(t)+" clearById: "+e+" "+n);var o=r.openCursor(Nn.only(n));o.onsuccess=function(e){if(e=e.target.result){var n=e.delete();n.onsuccess=function(){ar(t,1)},n.onerror=function(){ar(t,n.error,!0)}}else ar(t,0)},o.onerror=function(e){e.preventDefault(),ar(t,o.error,!0)}},t.Ib=function(t,e){var n,r,o=0;nn(this.logger,ur(t)+" removeByKeys: "+e.length+" keys");var i=[];!function a(s){if(++s>=e.length)0<i.length?ar(t,i,!0):ar(t,o);else{e[s].s!=n&&(n=e[s].s,r=t.a.objectStore(n));var l=r.delete(e[s].id);l.onsuccess=function(){o++,a(s)},l.onerror=function(t){t.preventDefault(),i[s]=l.error,a(s)}}}(-1)},t.mb=function(t,e,n){var r=t.a.objectStore(e),o=r.count(n);nn(this.logger,ur(t)+" clearByKeyRange: "+e+" "+n),o.onsuccess=function(e){var o=e.target.result,i=r.delete(n);i.onsuccess=function(){ar(t,o)},i.onerror=function(){ar(t,i.error,!0)}},o.onerror=function(e){e.preventDefault(),ar(t,o.error,!0)}},t.vb=function(t,e,n){var r=t.a.objectStore(e);nn(this.logger,ur(t)+" "+e+" "+n);var o=r.delete(n);o.onsuccess=function(){ar(t,void 0)},o.onerror=function(e){e.preventDefault(),ar(t,o.error,!0)}},t.Hb=function(t,e,n,r){var o=t.a.objectStore(e).index(n);nn(this.logger,ur(t)+" clearByIndexKeyRange: "+e+":"+n+" "+r);var i=[],a=o.openCursor(r),s=0;a.onsuccess=function(e){var n=e.target.result;if(n){var r=n.delete();r.onsuccess=function(){s++,n.continue()},r.onerror=function(t){i.push(r.error),t.preventDefault(),n.continue()}}else 0<i.length?ar(t,i,!0):ar(t,s)},a.onerror=function(e){e.preventDefault(),ar(t,a.error,!0)}},t.Wa=function(t,e){var n=e.length,r=0;nn(this.logger,ur(t)+" clearByStores: "+e);for(var o=0;o<n;o++){var i=t.a.objectStore(e[o]).clear();i.onsuccess=function(){++r==n&&ar(t,r)},i.onerror=function(e){r++,e.preventDefault(),r==n&&ar(t,i.error,!0)}}},t.bb=function(t,e,n){var r=this;nn(this.logger,ur(t)+e+":"+n);var o=t.a.objectStore(e),i=o.get(n);i.onsuccess=function(e){nn(r.logger,ur(t)+" record "+n+(null!=e.target.result?" ":" not ")+" exists.");var i=e.target.result;if(!o.keyPath&&0==o.indexNames.length&&be&&s(i)&&0<=i.indexOf(";base64,")){'"'==i.charAt(0)&&'"'==i.charAt(i.length-1)&&(i=i.substr(1,i.length-2)),e=(i=i.split(";base64,"))[0].split(":")[1];for(var a=(i=window.atob(i[1])).length,l=new Uint8Array(a),u=0;u<a;++u)l[u]=i.charCodeAt(u);ar(t,new Blob([l.buffer],{type:e}))}else ar(t,e.target.result)},i.onerror=function(e){e.preventDefault(),ar(t,i.error,!0)}},t.Eb=function(t,e,n){function r(e){if(null==n[e])if(i++,o[e]=void 0,i==s)ar(t,o);else{var l=e+10;l<s&&r(l)}var u;(u=a.get(n[e])).onsuccess=function(n){i++,o[e]=n.target.result,i==s?ar(t,o):(n=e+10)<s&&r(n)},u.onerror=function(e){i++,e.preventDefault(),ar(t,u.error,!0)}}var o=[];o.length=n.length;var i=0,a=t.a.objectStore(e),s=n.length;if(nn(this.logger,ur(t)+" "+e+":"+s+" ids"),0<s)for(e=0;10>e&&e<s;e++)r(e);else ar(t,[])},t.Fb=function(t,e){function n(i){var a=e[i],s=t.a.objectStore(a.s).get(a.id);s.onsuccess=function(a){o++,r[i]=a.target.result,o==e.length?ar(t,r):(a=i+10)<e.length&&n(a)},s.onerror=function(e){o++,e.preventDefault(),ar(t,s.error,!0)}}var r=[];r.length=e.length;var o=0;if(nn(this.logger,ur(t)+" "+e.length+" ids"),0<e.length)for(var i=0;10>i&&i<e.length;i++)n(i);else ar(t,[])},t.Fa=function(t,e,n,r,o){if(r&&o)throw new un("unique count not available in IndexedDB");var i;o=t.a.objectStore(e),e=ur(t)+" "+e+(r?":"+r:"")+(n?":"+Bo(n):""),nn(this.logger,e),null!=r?(r=o.index(r),i=null!=n?r.count(n):r.count()):i=null!=n?o.count(n):o.count(),i.onsuccess=function(e){ar(t,e.target.result)},i.onerror=function(e){e.preventDefault(),ar(t,i.error,!0)}},t.$=function(t,e,r,o,i,a,s,l,u,c){var h,f=[],p=t.a.objectStore(r),d=l?u?"prevunique":"prev":u?"nextunique":"next";if(r=ur(t)+" "+e+" "+r+(o?":"+o:"")+(i?Bo(i):""),l&&(r+=" reverse"),u&&(r+=" unique"),c&&n(c[0])){u=!o||!n(c[1]);var g=c[0],w=i?i.lower:void 0,m=i?i.upper:void 0,v=!!i&&!!i.lowerOpen;i=!!i&&!!i.upperOpen,i=dn(l?new pn(w,g,v,u):new pn(g,m,u,i)),r+=" starting from "+Bo(c[0]),n(c[1])&&(r+=", "+Bo(c[1]))}nn(this.logger,r),h=1==e||2==e||3==e?o?p.index(o).openKeyCursor(i,d):p.openCursor(i,d):o?p.index(o).openCursor(i,d):p.openCursor(i,d);var b=!1;h.onsuccess=function(r){if(r=r.target.result){if(!b){if(0<s)return b=!0,void r.advance(s);if(c&&o&&n(c[0]))if(n(c[1])){var i=Hn.cmp(r.key,c[0]),u=l?-1:1;if(0==i){if(0==(i=Hn.cmp(r.primaryKey,c[1])))return b=!0,void r.continue();if(i!=u)return void r.continue();b=!0}else b=!0}else b=!0;else b=!0}1==e?f.push(r.key):2==e?f.push(r.primaryKey):3==e?(u={},o&&(u[o]=r.key),p.keyPath?u[p.keyPath]=r.primaryKey:u._ROWID_=r.primaryKey,f.push(u)):4==e?f.push(r.value):f.push([r.key,r.primaryKey,r.value]),f.length<a?r.continue():(c&&(c[0]=Tr(r.key),c[1]=Tr(r.primaryKey)),ar(t,f))}else c&&(c[0]=void 0,c[1]=void 0),ar(t,f)},h.onerror=function(e){e.preventDefault(),ar(t,h.error,!0)}},k(wi,gi),wi.prototype.logger=Xe("ydn.db.core.req.IndexedDb"),wi.prototype.b=function(t,e,n,r){return new di(t,e,n=_o(this.a,n),r)},mi.prototype.a=!1,mi.prototype.state=function(){return this.a},k(vi,Wn),(t=vi.prototype).logger=Xe("ydn.db.core.req.SimpleCursor"),t.fb=function(){return!!this.f},t.update=function(t){return Ki(this.nb,this.T(),t),Pt()},t.advance=function(t){function e(e){if(r++,!e||r>=t)return yi(n,e)}var n=this,r=this.h?-1:0;this.reverse?Mi(this.la,e,this.h):Li(this.la,e,this.h)},t.ra=function(t){if(null!=t){var e=this,n=new xi(t),r=function(n){if(e.h=n,!n)return yi(e,n);var r=hr(n.value.key,t);if(e.reverse){if(1!=r)return yi(e,n)}else if(-1!=r)return yi(e,n)};this.reverse?Mi(this.la,r,n):Li(this.la,r,n)}else this.advance(1)},t.openCursor=function(t,e){var n=null;if(this.w)if(this.reverse){var r=this.g?"￿":void 0;null!=this.w.upper&&(n=new xi(this.w.upper,r))}else null!=this.w.lower&&(n=new xi(this.w.lower));null!=t&&(n=this.g?new xi(t,e):new xi(t)),this.i=this.f.l((function(e){function r(e){var r=e.value,o=r.key;if(e&&null!=o)if(null!=t){if(0==Si(n,r))return}else if(this.w&&(!this.reverse&&this.w.lowerOpen&&null!=this.w.lower&&0==(r=hr(o,this.w.lower))||this.reverse&&this.w.upperOpen&&null!=this.w.upper&&0==(r=hr(o,this.w.upper))))return;return yi(this,e)}this.nb=Xi(e,this.s),this.la=_i(this.nb,this.O),this.reverse?Mi(this.la,w(r,this),n):Li(this.la,w(r,this),n),bi(this)}),this)},t.clear=function(){throw new ln},t.Sa=function(){throw new ln},t.toString=function(){return"Simple"+vi.B.toString.call(this)},xi.prototype.toString=function(){return"ydn.db.con.simple.Node("+this.key+(null!=this.a?", "+this.a+")":")")},(t=Ei.prototype).D=null,t.U=null,t.ca=null,t.ba=null,t.add=function(t){if(null==this.D)return this.ba=this.ca=this.D=new ji(t),!0;var e=null;return Oi(this,(function(n){var r=null,o=this.U(n.value,t);return 0<o?(r=n.left,null==n.left&&(e=new ji(t,n),n.left=e,n==this.ca&&(this.ca=e))):0>o&&(r=n.right,null==n.right&&(e=new ji(t,n),n.right=e,n==this.ba&&(this.ba=e))),r})),e&&(Oi(this,(function(t){return t.count++,t.parent}),e.parent),Ai(this,e.parent)),!!e},t.clear=function(){this.ba=this.ca=this.D=null},t.contains=function(t){var e=!1;return Oi(this,(function(n){var r=null,o=this.U(n.value,t);return 0<o?r=n.left:0>o?r=n.right:e=!0,r})),e},t.indexOf=function(t){var e=-1,n=0;return Oi(this,(function(r){var o=this.U(r.value,t);return 0<o?r.left:(r.left&&(n+=r.left.count),0>o?(n++,r.right):(e=n,null))})),e},t.zb=function(){return this.D?this.D.count:0},t.cb=function(){var t=[];return function(t,e){if(t.D){var n,r=n=Ii(t);for(n=n.left?n.left:n;null!=r;)if(null!=r.left&&r.left!=n&&r.right!=n)r=r.left;else{if(r.right!=n&&e(r.value))break;var o=r;r=null!=r.right&&r.right!=n?r.right:r.parent,n=o}}}(this,(function(e){t.push(e)})),t},ji.prototype.left=null,ji.prototype.right=null,ji.prototype.height=1,k(Ri,Ei),Fi.prototype.clear=function(){Hi(this),$i(this)},Fi.prototype.getName=function(){return this.b.getName()},Fi.prototype.na=function(t,e,n,r,o){return Yi(this,2,t,e,n,r,o)},Fi.prototype.toString=function(){return"ydn.db.con.simple.Store:"+this.g+":"+this.b.getName()},(t=Gi.prototype).wb=function(){return this},t.setItem=function(t,e){n(this.a[t])||(this.keys.push(t.toString()),this.length=this.keys.length),this.a[t]=e},t.getItem=function(t){return n(this.a[t])?this.a[t]:null},t.removeItem=function(t){delete this.a[t],Z(this.keys,t.toString()),this.length=this.keys.length},t.length=0,t.key=function(t){return n(t=this.keys[t])?this.a[t]:null},t.clear=function(){this.a={},this.keys=[],this.length=0},Ji.prototype.S=function(t){var e=this;setTimeout((function(){var n=ki(e.f);n=new Mo(n=e.c.getItem(n)),t(n)}),10)},Zi.prototype.l=function(t,e){var n=this.b;setTimeout((function(){t.call(e,n)}),4);var r=this;return function(){r.a("complete",null),r.a=null,r.b=null}},k(Qi,Pr),(t=Qi.prototype).logger=Xe("ydn.db.crud.req.SimpleStore"),t.Gb=function(t,e,n){this.P(t,!0,!1,null,e,n)},t.P=function(t,e,n,r,o,i){nn(this.logger,ur(t)+" "+(e?"put":"add")+"Object"+(n?"":"s "+o.length+" objects"));var a=t.a.l((function(s){var l;if(n)null!=(s=Ki(l=Xi(s,r),s=i?i[0]:void 0,o[0],!e))?ar(t,s):(l=new vr(l=jo(s)),ar(t,l,!0));else{for(var u=r,c=[],h=!1,f=i||{},p=0;p<o.length;p++){var d;r?d=f[p]:(d=(u=i[p]).id,u=u.s),l&&l.getName()==u||(l=Xi(s,u)),null!=(d=Ki(l,d,o[p],!e))?c.push(d):(h=!0,c.push(new vr))}ar(t,c,h)}a(),a=null}),this)},t.bb=function(t,e,n){var r=t.a.l((function(o){o=Vi(Xi(o,e),n),ar(t,o),r(),r=null}),this)},t.Eb=function(t,e,n){ta(this,t,e,n)},t.Fb=function(t,e){ta(this,t,null,e)},t.lb=function(t,e,n){var r=ur(t)+" removeById "+e+" "+n;nn(this.logger,r);var o=this,i=t.a.l((function(a){a=zi(Xi(a,e),n),rn(o.logger,"success "+r+(0==a?" [not found]":"")),ar(t,a),i(),i=null}),this)},t.Ib=function(t,e){nn(this.logger,ur(t)+" removeByKeys "+e.length+" keys");var n,r=0,o=t.a.l((function(i){for(var a=0;a<e.length;a++){var s=e[a].s,l=e[a].id;n&&n.getName()==s||(n=Xi(i,s)),r+=zi(n,l)}ar(t,r),o(),o=null}),this)},t.vb=function(t,e,n){this.mb(t,e,n)},t.mb=function(t,e,n){var r=ur(t)+" removeByKeyRange "+(n?Bo(n):"");nn(this.logger,r);var o=this,i=t.a.l((function(a){a=$i(Xi(a,e),n),rn(o.logger,r+" deleted "+a+" records."),ar(t,a),i(),i=null}),this)},t.Hb=function(t,e,n,r){var o=ur(t)+" removeByIndexKeyRange "+(r?Bo(r):"");nn(this.logger,o);var i=t.a.l((function(o){for(var a=(o=Xi(o,e)).na(n,r),s=a.length,l=0;l<s;l++)zi(o,a[l]);ar(t,s),i(),i=null}),this)},t.Wa=function(t,e){var n=ur(t)+" clearByStores";nn(this.logger,n);var r=t.a.l((function(o){for(var i=0;i<e.length;i++)Xi(o,e[i]).clear();rn(this.logger,"success "+n),ar(t,e.length),r(),r=null}),this)},t.Ya=function(t,e){var n=t.a.l((function(r){for(var o=[],i=0;i<e.length;i++){var a=Xi(r,e[i]);o.push(Wi(a))}ar(t,o),n(),n=null}),this)},t.Fa=function(t,e,n,r){var o=ur(t)+" count"+(null!=r?"Index":"")+(null!=n?"KeyRange":"Store");nn(this.logger,o);var i=t.a.l((function(a){a=Wi(Xi(a,e),r,n),rn(this.logger,"success "+o),ar(t,a),i(),i=null}),this)},t.$=function(t,e,n,r,o,i,a,s,l,u){var c=ur(t)+" "+n+" "+(o?jo(o):"");nn(this.logger,c);var h=t.a.l((function(f){f=Yi(Xi(f,n),e,r,o,s,i,a,l,u),rn(this.logger,c+" "+f.length+" records found."),ar(t,f),h(),h=null}),this)},k(ea,Qi),ea.prototype.b=function(t,e,n,r){return new vi(t,e,n=_o(this.a,n),r)},k(na,Wn),(t=na.prototype).logger=Xe("ydn.db.core.req.WebsqlCursor"),t.T=function(){return this.h},t.Ob=function(t,e,n,r,o){na.B.Ob.call(this,t,e,n,r,o),this.K=s(e)?ko(this.b,e):null},t.Ca=function(){return this.m},t.fb=function(){return!!this.f},t.update=function(t){if(!this.fb())throw new xr;var e=new Ct,n=this.T();t=Ao(this.b,t,n);var r="REPLACE INTO "+Eo(this.b)+" ("+t.Vb.join(", ")+") VALUES ("+t.fc.join(", ")+")";return nn(this.logger,this+': update "'+r+'" : '+Bo(t.values)),this.f.executeSql(r,t.values,(function(){e.callback(n)}),(function(t,n){return e.o(n),!1})),e},t.advance=function(t){var e=this.i,n=this.h,r=!0;null==this.i||this.g&&null==this.h||(--t,r=!1),oa(this,(function(t,r,o){var i=null!=e&&null!=t&&0==hr(e,t);if(this.g){var a=null!=r&&null!=n&&0==hr(r,n);if(i&&a)throw new cn("current: "+e+";"+n+" next: "+t+";"+r)}else if(i)throw new cn("current: "+e+" next: "+t);this.W(t,r,o)}),this.i,r,t,this.h)},t.ra=function(t){null!=t?oa(this,this.W,t,!0):this.advance(1)},t.openCursor=function(t,e){oa(this,this.W,t,!1,0,e)},t.clear=function(){if(!this.fb())throw new xr;var t=new Ct,e=this.b.g,n=(e="DELETE FROM "+Eo(this.b)+" WHERE "+e+" = ?",[this.T()]);return nn(this.logger,this+': clear "'+e+'" : '+Bo(n)),this.f.executeSql(e,n,(function(e,n){t.callback(n.rowsAffected)}),(function(e,n){return t.o(n),!1})),t},t.Sa=function(t){var e=hr(t,this.h);if(0==e||1==e&&this.reverse||-1==e&&!this.reverse)throw new Xo(this+" to continuePrimaryKey  from "+this.h+" to "+t+" on "+this.Z+" direction is wrong");!function(t,e,n){ko(t.b,t.O);var r=[],o=t.O,i=t.w,a=t.i;if(null!=i){var s=i.lower,l=i.upper,u=i.lowerOpen,c=i.upperOpen;t.reverse?l=null!=l&&-1==hr(l,a)?l:a:s=null!=s&&1==hr(s,a)?s:a,i=null!=s&&null!=l?wn(s,l,!!u,!!c):null!=s?Nn.lowerBound(s,!!u):Nn.upperBound(l,!!c)}else i=t.reverse?Nn.upperBound(a):Nn.lowerBound(a);o=vo(t.b,r,t.u,o,i,t.reverse,t.unique),n=t.reverse?Nn.upperBound(n,!1):Nn.lowerBound(n,!1),n=vo(t.b,r,t.u,t.b.g,n,t.reverse,t.unique),o.v=o.v?o.v+" AND "+n.v:n.v,n="SELECT "+o.select+" FROM "+o.V+(o.v?" WHERE "+o.v:"")+(o.group?" GROUP BY "+o.group:"")+" ORDER BY "+o.X,n+=" LIMIT 1",nn(t.logger,t+": continuePrimary:  SQL: "+n+" : "+Bo(r)),t.f.executeSql(n,r,(function(n,r){0<r.rows.length?ra(t,r.rows.item(0)):ra(t),e.call(t,t.i,t.h,t.m),e=null}),(function(n,r){return tn(t.logger,"get error: "+r.message),$n(t,r),ra(t),e.call(t,t.h,t.i,t.m),e=null,!1}))}(this,this.W,t)},t.toString=function(){return"WebSql"+na.B.toString.call(this)},k(ia,Pr),(t=ia.prototype).logger=Xe("ydn.db.crud.req.WebSql"),t.P=function(t,e,r,o,i,a){function s(e,o){if(null==i[e])if(nn(c.logger,"empty object at "+e+" of "+i.length),++f==i.length)rn(c.logger,p+" success "+p),ar(t,h,d);else{var g=e+2;g<i.length&&s(g,o)}var w;w=n(a)?Ao(l,i[e],a[e]):Ao(l,i[e]),g=u+Eo(l)+" ("+w.Vb.join(", ")+") VALUES ("+w.fc.join(", ")+");",nn(c.logger,ur(t)+" SQL: "+g+" PARAMS: "+w.values+" REQ: "+e+" of "+i.length),o.executeSql(g,w.values,(function(a,p){function g(e,n){var r="ydn.db.me:"+l.getName()+":"+e.getName(),i=(r=u+F(r)+" ("+l.f+", "+e.c+") VALUES (?, ?)",[uo(m,l.type),uo(n,e.type)]);nn(c.logger,ur(t)+" multiEntry "+r+" "+i),o.executeSql(r,i,(function(){}),(function(t,e){return tn(c.logger,"multiEntry index insert error: "+e.message),!1}))}f++;var m=n(w.key)?w.key:p.insertId;1>p.rowsAffected&&(d=!0,m=new vr(m+" no-op"));for(var v=0,b=l.a.length;v<b;v++){var y=l.index(v);if(y.multiEntry)for(var k=On(i[e],y.keyPath),x=(k?k.length:0)||0,S=0;S<x;S++)g(y,k[S])}r?ar(t,m):(h[e]=m,f==i.length?ar(t,h,d):(v=e+2)<i.length&&s(v,a))}),(function(n,o){if(f++,d=!0,6==o.code?o.name="ConstraintError":tn(c.logger,"error: "+o.message+" "+p),r)ar(t,o,!0);else if(h[e]=o,f==i.length)nn(c.logger,"success "+p),ar(t,h,d);else{var a=e+2;a<i.length&&s(a,n)}return!1}))}e=!e;var l=_o(this.a,o),u=e?"INSERT INTO ":"INSERT OR REPLACE INTO ";o=t.a;var c=this,h=[],f=0,p=ur(t)+" inserting "+i.length+" objects.",d=!1;if(0<i.length)for(e=0;2>e&&e<i.length;e++)s(e,o);else rn(this.logger,"success"),ar(t,[])},t.Gb=function(t,e,n){if(0==n.length)ar(t,[]);else{for(var r=[],o=0,i=0,a=this,s=function(s,l){var u=[];nn(a.logger,"put "+l.length+" objects to "+s);for(var c=function(t){return!!t.keyPath}(_o(a.a,s)),h=c?void 0:[],f=0;f<l.length;f++)u.push(e[l[f]]),c||h.push(n[l[f]].id);c=function(t){var e=new rr(t.C);return t.N++,or(e,t.a,t.ya+"C"+t.N),e}(t),At(c,(function(e){for(var n=0;n<l.length;n++)r[l[n]]=e[n];++o==i&&ar(t,r)}),(function(){++o==i&&ar(t,r,!0)})),a.P(c,!1,!1,s,u,h)},l="",u=[],c=[],h=0;h<n.length;h++){var f=n[h].s,p=n[h].id;f!=l?(i++,0<u.length&&s(l,u),u=[h],c=[p],l=f):(u.push(h),c.push(p))}0<u.length&&s(l,u)}},t.bb=function(t,e,n){var r=t.a,o=_o(this.a,e),i=this;e=o.f,n=[uo(n,o.type)],e="SELECT * FROM "+Eo(o)+" WHERE "+e+" = ?";var a=ur(t)+" SQL: "+e+" PARAMS: "+n;nn(this.logger,a),r.executeSql(e,n,(function(e,n){if(0<n.rows.length){var r=n.rows.item(0);null!=r?(r=aa(r,o),ar(t,r)):(rn(i.logger,"success no result: "+a),ar(t,void 0))}else rn(i.logger,"success no result: "+a),ar(t,void 0)}),(function(e,n){return tn(i.logger,"error: "+a+" "+n.message),ar(t,n,!0),!1}))},t.Eb=function(t,e,n){function r(e,o){var u=l.f,c=[uo(n[e],l.type)],h="SELECT * FROM "+Eo(l)+" WHERE "+u+" = ?";nn(i.logger,"SQL: "+h+" PARAMS: "+c),o.executeSql(h,c,(function(o,i){if(s++,0<i.rows.length){var u=i.rows.item(0);null!=u&&(a[e]=aa(u,l))}else a[e]=void 0;s==n.length?ar(t,a):(u=e+10)<n.length&&r(u,o)}),(function(o,l){if(s++,tn(i.logger,"error: "+h+" "+l.message),s==n.length)ar(t,a);else{var u=e+10;u<n.length&&r(u,o)}return!1}))}var o=t.a,i=this,a=[],s=0,l=_o(this.a,e);if(0<n.length)for(e=0;10>e&&e<n.length;e++)r(e,o);else rn(i.logger,"success"),ar(t,[])},t.Fb=function(t,e){function n(r,l){var u=e[r],c=_o(o.a,u.s),h=function(t){return i(t.id)?t.id.join("^|"):t.id instanceof Date?+t.id:t.id}(u),f=(u=c.f,h=[uo(h,c.type)],"SELECT * FROM "+Eo(c)+" WHERE "+u+" = ?");nn(o.logger,"SQL: "+f+" PARAMS: "+h),l.executeSql(f,h,(function(i,l){if(s++,0<l.rows.length){var u=l.rows.item(0);null!=u&&(a[r]=aa(u,c))}else a[r]=void 0;s==e.length?(nn(o.logger,"success "+f),ar(t,a)):(u=r+10)<e.length&&n(u,i)}),(function(e,n){return ar(t,n,!0),!1}))}var r=t.a,o=this,a=[],s=0;if(0<e.length)for(var l=0;10>l&&l<e.length;l++)n(l,r);else nn(this.logger,"success"),ar(t,[])},t.Wa=function(t,e){var n=t.a,r=this;0<e.length?function n(o,i){function a(t){t="DELETE FROM  "+F(t="ydn.db.me:"+s.getName()+":"+t.getName()),nn(r.logger,"SQL: "+t),i.executeSql(t,[])}var s=_o(r.a,e[o]),l="DELETE FROM  "+Eo(s);nn(r.logger,"SQL: "+l+" PARAMS: []"),i.executeSql(l,[],(function(i){o==e.length-1?(nn(r.logger,"success "+l),ar(t,e.length)):n(o+1,i)}),(function(e,n){return ar(t,n,!0),!1}));for(var u=0,c=s.a.length;u<c;u++){var h=s.index(u);h.multiEntry&&a(h)}}(0,n):(nn(this.logger,"success"),ar(t,0))},t.Ib=function(t,e){var n=t.a,r=this,o=0,i=!1;nn(this.logger,ur(t)+" removeByKeys: "+e.length+" keys"),function a(s){if(s>=e.length)ar(t,o,i);else{var l=_o(r.a,e[s].s),u=uo(e[s].id,l.type),c=" WHERE "+l.f+" = ?",h="DELETE FROM "+Eo(l)+c,f=ur(t)+" SQL: "+h+" PARAMS: "+[u];n.executeSql(h,[u],(function(){o++,a(s)}),(function(t,e){return tn(r.logger,"error: "+f+e.message),i=!0,a(s),!1})),s++,h=function(e){e="DELETE FROM  "+F(e="ydn.db.me:"+l.getName()+":"+e.getName())+c,nn(r.logger,ur(t)+NaN+e),n.executeSql(e,[u])};for(var p=0,d=l.a.length;p<d;p++){var g=l.index(p);g.multiEntry&&h(g)}}}(0)},t.lb=function(t,e,n){function r(e){e="DELETE FROM  "+F(e="ydn.db.me:"+i.getName()+":"+e.getName())+l,nn(s.logger,ur(t)+NaN+e),o.executeSql(e,[a])}var o=t.a,i=_o(this.a,e),a=uo(n,i.type),s=this,l=" WHERE "+i.f+" = ?";for(e="DELETE FROM "+Eo(i)+l,nn(this.logger,ur(t)+" SQL: "+e+" PARAMS: "+[a]),o.executeSql(e,[a],(function(e,n){ar(t,n.rowsAffected)}),(function(e,n){return ar(t,n,!0),!1})),e=0,n=i.a.length;e<n;e++){var u=i.index(e);u.multiEntry&&r(u)}},t.vb=function(t,e,n){sa(this,t,e,void 0,n)},t.mb=function(t,e,n){sa(this,t,e,void 0,n)},t.Hb=function(t,e,n,r){sa(this,t,e,n,r)},t.Ya=function(t,e){var n=t.a,r=this,o=[];0==e.length?(nn(this.logger,"success"),ar(t,0)):function i(a){var s="SELECT COUNT(*) FROM "+F(e[a]);nn(r.logger,"SQL: "+s+" PARAMS: []"),n.executeSql(s,[],(function(n,r){var s=r.rows.item(0);o[a]=parseInt(s["COUNT(*)"],10),++a==e.length?ar(t,o):i(a)}),(function(e,n){return ar(t,n,!0),!1}))}(0)},t.Fa=function(t,e,n,r,o){var i=[];e=mo(_o(this.a,e),i,6,r,n,!1,o),nn(this.logger,ur(t)+" SQL: "+e+" PARAMS: "+i),t.a.executeSql(e,i,(function(e,n){var r=n.rows.item(0);ar(t,Qo(r))}),(function(e,n){return ar(t,n,!0),!1}))},t.$=function(t,e,r,o,i,a,s,l,c,h){var f=this,p=[],d=_o(this.a,r),g=d.g,w=d.type,m=w,v=null!=o&&o!==g?ko(d,o):null,b=o||g;if(v&&(m=v.type),r=[],h&&n(h[0])){var y=h[0];v&&n(h[1])?(o=h[1],i=yo(d,e,r,v.getName(),i,y,!0,o,l,c)):i=bo(d,e,r,o,i,l,c,y,!0)}else i=mo(d,r,e,b,i,l,c);u(a)&&(i+=" LIMIT "+a),u(s)&&(i+=" OFFSET "+s);var k=t+" SQL: "+i+" ;params= "+Bo(r);nn(this.logger,k),t.a.executeSql(i,r,(function(n,r){for(var o,i=r.rows.length,a=0;a<i;a++)o=r.rows.item(a),2==e?p[a]=co(o[g],w):1==e?p[a]=co(o[b],m):3==e?p[a]=[co(o[b],m),co(o[g],w)]:null!=o&&(p[a]=aa(o,d));rn(f.logger,"success "+t),h&&o&&(h[0]=co(o[b],m),h[1]=co(o[g],w)),ar(t,p)}),(function(e,n){return tn(f.logger,"error: "+k+n.message),ar(t,n,!0),!1}))},k(la,ia),la.prototype.logger=Xe("ydn.db.core.req.WebSql"),la.prototype.b=function(t,e,n,r){return new na(t,e,n=_o(this.a,n),r)},pi.prototype.u=function(){var t=this.Ba();if("indexeddb"==t)return new wi(0,this.a);if("websql"==t||"sqlite"==t)return new la(0,this.a);if("memory"==t||"localstorage"==t||"userdata"==t||"sessionstorage"==t)return new ea(0,this.a);throw new cn("No executor for "+t)},(t=ua.prototype).M="",t.$b=NaN,t.ac=NaN,t.Kb=!1,t.Oa="",t.toJSON=function(){return{sql:this.M}},t.toString=function(){return"query:"+this.M},pa.prototype.logger=Xe("ydn.db.sql.req.nosql.Node"),pa.prototype.toJSON=function(){return{sql:this.a}},pa.prototype.toString=function(){return"idb.Node:"},pa.prototype.b=function(t,e){var r=Q(this.a.a)[0],o=this.a.i,i=this.a.$b,a=(i=isNaN(i)?100:i,this.a.ac),s=(a=isNaN(a)?0:a,this.a.j),l=fa(this.a),u=null,c=this.a.Kb;if(0==o.length)u=null;else{if(1!=o.length)throw new sn("too many conditions.");u=kn(o[0].a)}null===l||sr(t,(function(t,e,n){var r=t;e||(r=t.map((function(t){var e=l.length;if(1==e)return On(t,l[0]);for(var n={},r=0;r<e;r++)n[l[r]]=On(t,l[r]);return n}))),n(r,e)})),o=0<o.length?o[0].ma:void 0;var h=ur(t)+" executing on"+r;o&&(h+=":"+o),h+=" "+Sn(u),rn(this.logger,h),s&&s!=this.c.keyPath?e.$(t,4,r,s,u,i,a,c,!1):n(o)&&o!=this.c.keyPath?e.$(t,4,r,o,u,i,a,c,!1):e.$(t,4,r,null,u,i,a,c,!1)},k(da,pa),da.prototype.b=function(t,e){var r,o=Q(this.a.a)[0],i=null;if(0==(s=this.a.i).length)i=null;else{if(1!=s.length)throw new sn("too many conditions.");i=kn(s[0].a)}var a=this.a.c,s=0<s.length?s[0].ma:void 0,l=ur(t)+" executing "+a+" on "+o;if(s&&(l+=":"+s),l+=" "+Sn(i),rn(this.logger,l),"COUNT"==a)i?e.Fa(t,o,i,s,!1):e.Fa(t,o,null,void 0,!1);else{var u,c;if(!(l=fa(this.a))||0==l.length)throw new Xo("field name require for reduce operation: "+a);if(l=l[0],"MIN"==a)u=function(t){return function(e,r){var o=e[t];return n(r)&&r<o?r:o}}(l);else if("MAX"==a)u=function(t){return function(e,r){var o=e[t];return n(r)&&r>o?r:o}}(l);else if("AVG"==a)r=0,u=function(t){return function(e,r,o){return n(r)||(r=0),(r*o+e[t])/(o+1)}}(l);else{if("SUM"!=a)throw new Wo(a);r=0,u=function(t){return function(e,n){return n+e[t]}}(l)}c=n(s)?new er(o,s,i):new tr(o,i),o=e.b(t.a,ur(t),o,4);var h=c.load([o]);h.Y=function(e){ar(t,e,!0)};var f=0;h.G=function(e){null!=e?(e=c.f?h.T():h.Ca(),r=u(e,r,f),h.advance(1),f++):ar(t,r)}}},k(ga,wi),ga.prototype.logger=Xe("ydn.db.sql.req.IndexedDb"),ga.prototype.executeSql=function(t,e,n){if(n=ha(e,n))throw new Nr(n);if(1!=(n=Q(e.a)).length)throw new Wo(e.M);var r=_o(this.a,n[0]);if(!r)throw new Sr(n[0]);var o=fa(e);if(o)for(var i=0;i<o.length;i++)if(!So(r,o[i]))throw new Sr('Index "'+o[i]+'" not found in '+n[0]);(e.c?new da(r,e):new pa(r,e)).b(t,this)},wa.prototype.logger=Xe("ydn.db.sql.req.websql.Node"),wa.prototype.toJSON=function(){return{sql:this.b.M}},wa.prototype.toString=function(){return"websql.Node:"},wa.prototype.c=function(t,e,n){var r=this,o=[];e.executeSql(this.b.M,n,(function(e,n){for(var i=n.rows.length,a=0;a<i;a++){var s=n.rows.item(a);if(h(s))var l=ma(r,s);o.push(l)}t(o)}),(function(e,n){return tn(r.logger,"Sqlite error: "+n.message),t(n,!0),!0}))},k(va,wa),va.prototype.c=function(t,e,n){var r=this;e.executeSql(this.b.M,n,(function(e,n){var r=n.rows.length;if(1==r)r=Qo(n.rows.item(0)),t(r);else{if(0!=r)throw new yr;t(void 0)}}),(function(e,n){return tn(r.logger,"Sqlite error: "+n.message),t(n,!0),!0}))},k(ba,la),ba.prototype.logger=Xe("ydn.db.sql.req.WebSql"),ba.prototype.executeSql=function(t,e,n){var r=Q(e.a);if(1!=r.length)throw new Wo(e.M);var o=_o(this.a,r[0]);if(!o)throw new Sr(r[0]);var i=fa(e);if(i)for(var a=0;a<i.length;a++)if(!So(o,i[a]))throw new Sr('Index "'+i[a]+'" not found in '+r[0]);(e.c?new va(o,e):new wa(o,e)).c((function(e,n){ar(t,e,n)}),t.a,n)},k(ya,ea),ya.prototype.logger=Xe("ydn.db.sql.req.SimpleStore"),ya.prototype.executeSql=function(t,e,n){if(n=ha(e,n))throw new Nr(n);if(1!=(n=Q(e.a)).length)throw new sn(e.M);var r=_o(this.a,n[0]);if(!r)throw new Sr(n[0]);var o=fa(e);if(o)for(var i=0;i<o.length;i++)if(!So(r,o[i]))throw new on('Index "'+o[i]+'" not found in '+n[0]);(e.c?new da(r,e):new pa(r,e)).b(t,this)},k(ka,zr),ka.prototype.executeSql=function(t,e){for(var n=new ua(t),r=Q(n.a),o=0;o<r.length;o++){var i=_o(this.b,r[o]);if(!i)throw new on("store: "+i+" not exists.")}rn(this.logger,"executeSql: "+t+" params: "+e);var a=this.a.request("sql",Q(n.a),n.f);return lr(a,(function(){Ur(this).executeSql(a,n,e||[])}),this),a},k(xa,pi),xa.prototype.va=function(t){return new ka(this,this.a,t)},xa.prototype.executeSql=function(t,e){return this.c.executeSql(t,e)},xa.prototype.u=function(){var t=this.Ba();if("indexeddb"==t)return new ga(0,this.a);if("websql"==t||"sqlite"==t)return new ba(0,this.a);if("memory"==t||"localstorage"==t||"sessionstorage"==t)return new ya(0,this.a);throw new cn("No executor for "+t)},(t=Sa.prototype).connect=function(t,r){function o(t,e,n){for(rn(s.logger,(n?"changing":"upgrading")+" version to "+t.version+" from "+c),n=0;n<r.stores.length;n++)Ea(s,t,e,r.stores[n]);var o=(e=t.objectStoreNames).length;for(n=0;n<o;n++)Uo(r,e[n])||(t.deleteObjectStore(e[n]),rn(s.logger,"store: "+e[n]+" deleted."))}function i(t,e){l.c?tn(s.logger,"database already set."):n(e)?(tn(s.logger,e?e.message:"Error received."),s.A=null,l.o(e)):(s.A=t,s.A.onabort=function(t){nn(s.logger,s+": abort"),s.Ra(t.target.error)},s.A.onerror=function(t){nn(s.logger,s+": error"),s.Ra(t.target.error)},s.A.onversionchange=function(t){if(nn(s.logger,s+" closing connection for onversionchange to: "+t.version),s.A&&(s.A.onabort=null,s.A.onblocked=null,s.A.onerror=null,s.A.onversionchange=null,s.jb(t),!t.defaultPrevented)){s.A.close(),s.A=null;var e=Error();e.name=t.type,s.qb(e)}},l.callback(parseFloat(c)))}var a,s=this,l=new Ct,c=void 0,h=r.version;return Ze(this.logger,He,"Opening database: "+t+" ver: "+(r.b?"auto":h)),(a=n(h)?Hn.open(t,h):Hn.open(t)).onsuccess=function(a){var l=a.target.result;if(n(c)||(c=l.version),Ze(s.logger,He,"Database: "+l.name+", ver: "+l.version+" opened."),r.b)s.S((function(n){if(r instanceof Ko)for(var a=0;a<n.stores.length;a++)Uo(r,n.stores[a].getName())||zo(r,n.stores[a].clone());if(0<(n=Ho(r,n,!1,!0)).length){Ze(s.logger,He,"Schema change require for difference in "+n);var c=u(l.version)?l.version+1:1;if("IDBOpenDBRequest"in e){l.close();var h=Hn.open(t,c);h.onupgradeneeded=function(t){t=t.target.result,Ze(s.logger,He,"re-open for version "+t.version),o(t,h.transaction,!1)},h.onsuccess=function(t){i(t.target.result)},h.onerror=function(){Ze(s.logger,He,s+": fail."),i(null)}}else{var f=l.setVersion(c+"");f.a=function(t){tn(s.logger,"migrating from "+l.version+" to "+c+" failed."),i(null,t)},f.onsuccess=function(){f.transaction.oncomplete=p,o(l,f.transaction,!0)};var p=function(){var e=Hn.open(t);e.onsuccess=function(t){t=t.target.result,Ze(s.logger,He,s+": OK."),i(t)},e.onerror=function(){Ze(s.logger,He,s+": fail."),i(null)}};null!=f.transaction&&(f.transaction.oncomplete=p)}}else i(l)}),void 0,l);else if(r.version>l.version){var h=l.setVersion(r.version);h.a=function(t){tn(s.logger,"migrating from "+l.version+" to "+r.version+" failed."),i(null,t)},h.onsuccess=function(){o(l,h.transaction,!0)}}else r.version==l.version?Ze(s.logger,He,"database version "+l.version+" ready to go"):tn(s.logger,"connected database version "+l.version+" is higher than requested version."),s.S((function(t){0<(t=Ho(r,t,!1,!0)).length?(Ze(s.logger,He,t),i(null,new Go("different schema: "+t))):i(l)}),void 0,l)},a.onupgradeneeded=function(t){t=t.target.result,c=NaN,Ze(this.logger,He,"upgrade needed for version "+t.version),o(t,a.transaction,!1)},a.onerror=function(e){Qe(s.logger,'open request to database "'+t+'" '+(n(r.version)?" with version "+r.version:"")+" cause error of "+a.error.name),i(null,e)},a.onblocked=function(e){Qe(s.logger,"database "+t+" "+r.version+" block, close other connections."),i(null,e)},u(this.La)&&!isNaN(this.La)&&setTimeout((function(){"done"!=a.readyState&&(Qe(s.logger,s+": database state is still "+a.readyState),i(null,new Or("connection timeout after "+s.La)))}),this.La),l},t.La=18e4,t.qb=function(){},t.Ra=function(){},t.jb=function(){},t.Aa=function(){return"indexeddb"},t.Mb=function(){return this.A||null},t.pb=function(){return!!this.A},t.logger=Xe("ydn.db.con.IndexedDb"),t.A=null,t.ob=function(){return this.A?parseFloat(this.A.version):void 0},t.S=function(t,e,r){if(r=r||this.A,n(e)){if(null===e){if(0==r.objectStoreNames.length)return void t(new Mo(r.version));throw new Yo}r=e.db}else{e=[];for(var o=r.objectStoreNames.length-1;0<=o;o--)e[o]=r.objectStoreNames[o];if(0==e.length)return void t(new Mo(r.version));e=r.transaction(e,Fn)}var i=r.objectStoreNames,a=[],s=i.length;for(o=0;o<s;o++){for(var l=e.objectStore(i[o]),u=[],c=0,h=l.indexNames.length;c<h;c++){var f=l.index(l.indexNames[c]);u[c]=new io(f.keyPath,void 0,f.unique,f.multiEntry,f.name)}a[o]=new go(l.name,l.keyPath,l.autoIncrement,void 0,u)}t(e=new Mo(r.version,a))},t.$a=function(t,e,n,r){var o=this.A;if(!e){e=[];for(var i=o.objectStoreNames.length-1;0<=i;i--)e[i]=o.objectStoreNames[i]}0==e.length?t(null):((e=o.transaction(e,n)).oncomplete=function(t){r("complete",t)},e.onabort=function(t){r("abort",t)},t(e),t=null)},t.close=function(){Ze(this.logger,Ke,this+" closing connection"),this.A.close()},t.toString=function(){return"IndexedDB:"+(this.A?this.A.name+":"+this.A.version:"")},fr.push((function(t,e){if(!Hn||e&&"indexeddb"!=e)return null;var n=Hn.deleteDatabase(t),r=new rr("IDBVersionChangeEvent ");return n.onblocked=function(t){fn(r,t)},n.onerror=function(t){r.o(t)},n.onsuccess=function(t){r.callback(t)},r})),k(Ca,Ji),(t=Ca.prototype).logger=Xe("ydn.db.con.SimpleStorage"),t.ob=function(){return this.b},t.connect=function(t,e){function r(t,e){setTimeout((function(){e?(rn(o.logger,o+" opening fail"),i.o(e)):(rn(o.logger,o+" version "+o.ob()+" open"),i.callback(t))}),10)}var o=this,i=new Ct;this.c=this.h.wb(t),this.f=t,this.a=e;var a=ki(this.f);this.b=NaN;var s=qo(this.c.getItem(a));if(n(s.version)&&!u(s.version)&&(s.version=NaN),s)if(s=new Mo(s),Ho(this.a,s,!1,!1))if(!this.a.b&&!isNaN(s.version)&&this.a.version>s.version)r(NaN,new br("existing version "+s.version+" is larger than "+this.a.version));else{var l=this.a.version;for(this.b=n(l)?l:s.version+1,l=0;l<this.a.count();l++)var c=this.a.stores[l]||null;if(this.a instanceof Ko)for(l=0;l<s.count();l++)c=s.stores[l]||null,zo(this.a,c);(l=this.a.toJSON()).version=this.b||NaN,this.c.setItem(a,Bo(l)),r(s.version||NaN)}else{for(l=0;l<this.a.count();l++)c=this.a.stores[l]||null;this.b=s.version||NaN,r(this.b)}else s=e.toJSON(),this.b=1,s.version=this.b,this.c.setItem(a,Bo(s)),r(NaN);return i},t.pb=function(){return!!this.f},t.Mb=function(){return this.c||null},t.qb=function(){},t.Ra=function(){},t.jb=function(){},t.Aa=function(){return"memory"},t.close=function(){},t.$a=function(t,e,n,r){t(new Zi(this,(function(t,e){r(t,e)})))},t.toString=function(){return"SimpleStorage:"+this.Aa()+":"+this.f+":"+this.b},k(Na,Ca),Na.prototype.wb=function(){return window.localStorage},Na.prototype.Aa=function(){return"localstorage"},fr.push((function(t,e){if(!e||"localstorage"==e){var n=new Na,r=new Ko;n.connect(t,r),n.S((function(t){for(var e=0;e<t.stores.length;e++)Xi(n,t.stores[e].getName()).clear()}))}})),k(Oa,Ca),Oa.prototype.wb=function(){return window.sessionStorage},Oa.prototype.Aa=function(){return"sessionstorage"},fr.push((function(t,e){if(!e||"sessionstorage"==e){var n=new Oa,r=new Ko;n.connect(t,r),n.S((function(t){for(var e=0;e<t.stores.length;e++)Xi(n,t.stores[e].getName()).clear()}))}})),(t=Aa.prototype).connect=function(t,r){function o(e,n){var r=e.version?parseInt(e.version,10):0,o=n.b?isNaN(r)?1:r+1:n.version;en(a.logger,t+": changing version from "+e.version+" to "+o);var s=!1,l=0;e.changeVersion(e.version,o+"",(function(t){a.S((function(e){s=!0;for(var r=0;r<n.count();r++){var o=(o=_o(e,(n.stores[r]||null).getName()))?Co(o,n.stores[r]||null):null;Ta(a,t,n.stores[r]||null,(function(t){t&&l++}),o)}for(r=0;r<e.count();r++)o=e.stores[r]||null,Uo(n,o.getName())||(n instanceof Ko?zo(n,o):(o="DROP TABLE "+Eo(o),rn(a.logger,o),t.executeSql(o,[],(function(){}),(function(t,e){throw e}))))}),t,e)}),(function(n){throw Qe(a.logger,"SQLError "+n+" "+n.code+"("+n.message+") while changing version from "+e.version+" to "+o+" on "+t),n}),(function(){if(s){var r=".";l!=n.stores.length&&(r=" but unexpected stores exists."),nn(a.logger,t+":"+e.version+" ready"+r),i(e)}else tn(a.logger,t+": changing version voided.")}))}function i(t,e){n(e)?(a.F=null,l.o(e)):(a.F=t,l.callback(parseFloat(s)))}var a=this,s=NaN,l=new Ct,u=null;try{"sqlite"==this.b?e.sqlitePlugin?((u=e.sqlitePlugin.openDatabase(t,"",t,this.a)).readTransaction||(u.readTransaction=u.transaction),u.changeVersion=function(t,e,n,r,o){u.transaction(n,r,o)}):(tn(this.logger,"sqlitePlugin not found."),u=null,this.rb=Error("sqlitePlugin not found.")):u=e.openDatabase(t,"",t,this.a)}catch(e){if("SECURITY_ERR"!=e.name)throw e;tn(this.logger,"SECURITY_ERR for opening "+t),u=null,this.rb=new Cr(e)}if(u){s=u.version||"";var c="database "+t+(0==s.length?"":" version "+u.version);null!=r.version&&r.version==u.version?(en(a.logger,"Existing "+c+" opened as requested."),i(u)):this.S((function(t){(t=Ho(r,t,!0,!1))?(0==s?en(a.logger,"New "+c+" created."):r.b?en(a.logger,"Existing "+c+" opened and schema change for "+t):en(a.logger,"Existing "+c+" opened and  schema change to version "+r.version+" for "+t),o(u,r)):(en(a.logger,"Existing "+c+" with same schema opened."),i(u))}),null,u)}else i(null,this.rb);return l},t.Aa=function(){return this.b},t.rb=null,t.F=null,t.Mb=function(){return this.F||null},t.logger=Xe("ydn.db.con.WebSql"),t.qb=function(){},t.Ra=function(){},t.ob=function(){return this.F?parseFloat(this.F.version):void 0},t.S=function(t,e,n){function r(e,n){if(n&&n.rows){for(var r=0;r<n.rows.length;r++){var l=n.rows.item(r);if("__WebKitDatabaseInfoTable__"!=l.name&&"sqlite_sequence"!=l.name&&"table"==l.type){var u="sql"in l?l.sql:void 0;nn(o.logger,"Parsing table schema from SQL: "+u);for(var c,h=u.substr(u.indexOf("("),u.lastIndexOf(")")).match(/(?:"[^"]*"|[^,])+/g),f=void 0,p=(u=[],!1),d=!1,g=0;g<h.length;g++){var w=h[g].match(/\w+|"[^"]+"/g),m=$(w,(function(t){return t.toUpperCase()})),v=R(w[0],'"');if(w=fo(m[1]),-1!=m.indexOf("PRIMARY")&&-1!=m.indexOf("KEY")){if(c=w,s(v)&&!N(v)&&"_ROWID_"!=v){var b=v.split(",");f=v,1<b.length&&(f=b,c=void 0)}-1!=m.indexOf("AUTOINCREMENT")&&(p=!0)}else if("_ROWID_"!=v)if("_default_"==v)d=!0;else{var y="UNIQUE"==m[2];0==v.lastIndexOf(l.tbl_name+"-",0)&&(v=v.substr(l.tbl_name.length+1)),m=new io(v,w,y),u.push(m)}}if(0==l.name.lastIndexOf("ydn.db.me:",0)){var k=l.name.split(":");if(3<=k.length){var x=k[1];f=new io(k[2],w,y,!0),h=J(u,(function(t){return t.getName()==k[2]})),0<=h?u[h]=f:u.push(f),h=J(a,(function(t){return t.getName()===x})),0<=h?(g=a[h],a[h]=new go(g.getName(),g.keyPath,p,c,u,void 0,!d)):a.push(new go(x,void 0,!1,void 0,[f])),nn(o.logger,'multi entry index "'+f.getName()+'" found in '+x+(-1==h?"*":""))}else tn(o.logger,'Invalid multiEntry store name "'+l.name+'"')}else g=J(a,(function(t){return t.getName()===l.name})),0<=g?(h=a[g].index(0),u.push(h),a[g]=new go(l.name,f,p,c,u,void 0,!d)):(u=new go(l.name,f,p,c,u,void 0,!d),a.push(u))}}r=new Mo(i,a),t(r)}}var o=this,i=(n=n||this.F)&&n.version?parseFloat(n.version):void 0,a=(i=isNaN(i)?void 0:i,[]);e?e.executeSql("SELECT * FROM sqlite_master",[],r,(function(t,e){throw e})):n.readTransaction((function(e){o.S(t,e,n)}),(function(t){throw Qe(o.logger,"opening tx: "+t.message),t}),r)},t.pb=function(){return!!this.F},t.close=function(){this.F=null},t.$a=function(t,e,n,r){function o(t){nn(s.logger,s+": Tx "+n+" request cause error."),r("abort",t)}function i(){r("complete",{type:"complete"})}function a(e){t(e)}var s=this;null===this.F&&(t(null),r("abort",this.rb)),n==Fn?this.F.readTransaction(a,o,i):n==Un?this.F.changeVersion(this.F.version,this.F.version+1+"",a,o,i):this.F.transaction(a,o,i)},fr.push((function(t,n){if(c(e.openDatabase)&&(!n||"websql"==n)){var r=new Aa,o=new Ko;rn(r.logger,"deleting websql database: "+t),o=r.connect(t,o);var i=function(){var e=r.logger;e&&e.log(Fe,"all tables in "+t+" deleted.",void 0)};o.H((function(){r.$a((function(e){e.executeSql('SELECT * FROM sqlite_master WHERE type = "table"',[],(function(n,o){if(o&&o.rows){for(var i=o.rows.length,a=0,s=0;s<i;s++){var l=o.rows.item(s);"__WebKitDatabaseInfoTable__"!=l.name&&"sqlite_sequence"!=l.name&&(a++,nn(r.logger,"deleting table: "+l.name),e.executeSql("DROP TABLE "+l.name))}rn(r.logger,a+' tables deleted from "'+t+'"')}}),(function(t,e){throw e}))}),[],_n,i)})),o.Sb((function(){tn(r.logger,"Connecting "+t+" failed.")}))}})),Aa.prototype.jb=function(){},Aa.prototype.toString=function(){return"WebSql:"+(this.F?":"+this.F.version:"")},ci.prototype.xb=function(t){return"indexeddb"==t&&Hn?new Sa(this.j,this.K):"sqlite"==t&&e.sqlitePlugin?new Aa(this.j,"sqlite"):"websql"==t&&c(e.openDatabase)?new Aa(this.j):"localstorage"==t&&window.localStorage?new Na:"sessionstorage"==t&&window.sessionStorage?new Oa:"memory"==t?new Ca:null},k(Pa,Kn),Pa.prototype.a=function(){return{}},Pa.prototype.c=function(t){if(h(t))if(c(t.Wb))t.Wb();else for(var e in t)delete t[e]},Pa.prototype.fa=function(){Pa.B.fa.call(this);for(var t=this.b;t.length;)this.c(t.pop());delete this.b},Xe("goog.debug.Trace"),qa.prototype.toString=function(){var t=[];return t.push(this.type," ",this.count," (",Math.round(10*this.time)/10," ms)"),t.join("")},ja.prototype.toString=function(){return null==this.type?this.c:"["+this.type+"] "+this.c},Ia.prototype.toString=function(){for(var t=[],e=-1,n=[],r=0;r<this.a.length;r++){var o=this.a[r];1==o.a&&n.pop(),t.push(" ",Ba(o,e,n.join(""))),e=o.b,t.push("\n"),0==o.a&&n.push("|  ")}if(0!=this.c.zb()){var i=b();t.push(" Unstopped timers:\n"),function(t,e){if(a(t))try{W(t,e,void 0)}catch(t){if(t!==fe)throw t}else{t=function(t){if(t instanceof pe)return t;if("function"==typeof t.tb)return t.tb(!1);if(a(t)){var e=0,n=new pe;return n.next=function(){for(;;){if(e>=t.length)throw fe;if(e in t)return t[e++];e++}},n}throw Error("Not implemented")}(t);try{for(;;)e.call(void 0,t.next(),void 0,t)}catch(t){if(t!==fe)throw t}}}(this.c,(function(e){t.push("  ",e," (",i-e.startTime," ms, started at ",Ra(e.startTime),")\n")}))}for(e=this.f.na(),r=0;r<e.length;r++)1<(n=this.f.get(e[r])).count&&t.push(" TOTAL ",n,"\n");return t.push("Total tracers created ",0,"\n","Total comments created ",0,"\n","Overhead start: ",0," ms\n","Overhead end: ",0," ms\n","Overhead comment: ",0," ms\n"),t.join("")},new Ia;var La=!me||me&&9<=Ae,Ma=me&&!Ne("9");function Fa(t){return Fa[" "](t),t}function _a(t,e){if(Wr.call(this,t?t.type:""),this.b=this.target=null,this.clientY=this.clientX=this.Cb=this.Bb=0,this.a=this.state=null,t){this.a=t,this.type=t.type,this.target=t.target||t.srcElement,this.b=e;var n=t.relatedTarget;if(n&&ve)try{Fa(n.nodeName)}catch(t){}Object.defineProperties?Object.defineProperties(this,{Bb:{configurable:!0,enumerable:!0,get:this.Xb,set:this.vc},Cb:{configurable:!0,enumerable:!0,get:this.Yb,set:this.wc}}):(this.Bb=this.Xb(),this.Cb=this.Yb()),this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.state=t.state,t.defaultPrevented&&this.preventDefault()}}!be||Ne("528"),ve&&Ne("1.9b")||me&&Ne("8")||we&&Ne("9.5")||be&&Ne("528"),ve&&!Ne("8")||me&&Ne("9"),Fa[" "]=function(){},k(_a,Wr),(t=_a.prototype).preventDefault=function(){_a.B.preventDefault.call(this);var t=this.a;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,Ma)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(t){}},t.Xb=function(){return be||void 0!==this.a.offsetX?this.a.offsetX:this.a.layerX},t.vc=function(t){Object.defineProperties(this,{Bb:{writable:!0,enumerable:!0,configurable:!0,value:t}})},t.Yb=function(){return be||void 0!==this.a.offsetY?this.a.offsetY:this.a.layerY},t.wc=function(t){Object.defineProperties(this,{Cb:{writable:!0,enumerable:!0,configurable:!0,value:t}})};var Ua="closure_listenable_"+(1e6*Math.random()|0),Ha=0;function Ka(t,e,n,r,o){this.listener=t,this.a=null,this.src=e,this.type=n,this.Va=!!r,this.eb=o,this.key=++Ha,this.xa=this.Ua=!1}function za(t){t.xa=!0,t.listener=null,t.a=null,t.src=null,t.eb=null}function Va(t){this.src=t,this.a={},this.b=0}function Wa(t,e){var n=e.type;n in t.a&&Z(t.a[n],e)&&(za(e),0==t.a[n].length&&(delete t.a[n],t.b--))}function $a(t,e,n,r){for(var o=0;o<t.length;++o){var i=t[o];if(!i.xa&&i.listener==e&&i.Va==!!n&&i.eb==r)return o}return-1}Va.prototype.add=function(t,e,n,r,o){var i=t.toString();(t=this.a[i])||(t=this.a[i]=[],this.b++);var a=$a(t,e,r,o);return-1<a?(e=t[a],n||(e.Ua=!1)):((e=new Ka(e,this.src,i,!!r,o)).Ua=n,t.push(e)),e};var Ya="closure_lm_"+(1e6*Math.random()|0),Ga={};function Ja(t,e,n,r,o){if(i(e))for(var a=0;a<e.length;a++)Ja(t,e[a],n,r,o);else n=ss(n),t&&t[Ua]?t.ga.add(String(e),n,!1,r,o):Xa(t,e,n,!1,r,o)}function Xa(t,e,n,r,o,i){if(!e)throw Error("Invalid event type");var a=!!o,s=is(t);s||(t[Ya]=s=new Va(t)),(n=s.add(e,n,r,o,i)).a||(r=function(){var t=os,e=La?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.a=r,r.src=t,r.listener=n,t.addEventListener?t.addEventListener(e.toString(),r,a):t.attachEvent(es(e.toString()),r))}function Za(t,e,n,r,o){if(i(e))for(var a=0;a<e.length;a++)Za(t,e[a],n,r,o);else n=ss(n),t&&t[Ua]?t.ga.add(String(e),n,!0,r,o):Xa(t,e,n,!0,r,o)}function Qa(t,e,n,r,o){if(i(e))for(var a=0;a<e.length;a++)Qa(t,e[a],n,r,o);else n=ss(n),t&&t[Ua]?(t=t.ga,(e=String(e).toString())in t.a&&-1<(n=$a(a=t.a[e],n,r,o))&&(za(a[n]),z.splice.call(a,n,1),0==a.length&&(delete t.a[e],t.b--))):t&&(t=is(t))&&(e=t.a[e.toString()],t=-1,e&&(t=$a(e,n,!!r,o)),(n=-1<t?e[t]:null)&&ts(n))}function ts(t){if(!u(t)&&t&&!t.xa){var e=t.src;if(e&&e[Ua])Wa(e.ga,t);else{var n=t.type,r=t.a;e.removeEventListener?e.removeEventListener(n,r,t.Va):e.detachEvent&&e.detachEvent(es(n),r),(n=is(e))?(Wa(n,t),0==n.b&&(n.src=null,e[Ya]=null)):za(t)}}}function es(t){return t in Ga?Ga[t]:Ga[t]="on"+t}function ns(t,e,n,r){var o=!0;if((t=is(t))&&(e=t.a[e.toString()]))for(e=e.concat(),t=0;t<e.length;t++){var i=e[t];i&&i.Va==n&&!i.xa&&(i=rs(i,r),o=o&&!1!==i)}return o}function rs(t,e){var n=t.listener,r=t.eb||t.src;return t.Ua&&ts(t),n.call(r,e)}function os(t,e){if(t.xa)return!0;if(!La){var n=e||r("window.event"),o=new _a(n,this),i=!0;if(!(0>n.keyCode||null!=n.returnValue)){t:{var a=!1;if(0==n.keyCode)try{n.keyCode=-1;break t}catch(t){a=!0}(a||null==n.returnValue)&&(n.returnValue=!0)}for(n=[],a=o.b;a;a=a.parentNode)n.push(a);a=t.type;for(var s=n.length-1;0<=s;s--){o.b=n[s];var l=ns(n[s],a,!0,o);i=i&&l}for(s=0;s<n.length;s++)o.b=n[s],l=ns(n[s],a,!1,o),i=i&&l}return i}return rs(t,new _a(e,this))}function is(t){return(t=t[Ya])instanceof Va?t:null}var as="__closure_events_fn_"+(1e9*Math.random()>>>0);function ss(t){return c(t)?t:(t[as]||(t[as]=function(e){return t.handleEvent(e)}),t[as])}function ls(){Kn.call(this),this.ga=new Va(this),this.b=this,this.a=null}function us(t,e,n,r){if(!(e=t.ga.a[String(e)]))return!0;e=e.concat();for(var o=!0,i=0;i<e.length;++i){var a=e[i];if(a&&!a.xa&&a.Va==n){var s=a.listener,l=a.eb||a.src;a.Ua&&Wa(t.ga,a),o=!1!==s.call(l,r)&&o}}return o&&0!=r.ec}function cs(t){return t.h||(t.h=new ls),t.h}function hs(t,e,n){fi.call(this,t,e,n)}function fs(t,e){mr.call(this,t,e)}function ps(t,e){mr.call(this,t,e)}function ds(t,e){mr.call(this,t,e)}function gs(t,e,n){this.db=t,this.b=e,this.type=n||0,this.c=null}function ws(t,e,n,r){this.c=t,this.a=e||null,this.h=!!n,this.g=!!r,this.b=[],this.f=[]}function ms(t,e){for(var n=e.length-1;0<=n&&e[n]==t.b[t.b.length-1];n--)e=e.slice(0,n);if(t.f=e,t.a&&t.b[0]){if(t.a.lower!=t.a.upper)throw new vr("Ordering no allowed with range query");t.a=bn([t.a.lower])}return null}function vs(t,e){if((0!=t.b.length||0!=t.f.length)&&ks(t)&&!bs(t))throw new vr('Require index "'+t.b.concat(t.f).join(", ")+'" not found in store "'+t.c.getName()+'"');var n=new Xn(t.c.getName(),ys(t),t.a,t.h,t.g,!!e);return n.C=t.b.length,n}function bs(t){var e=t.b.concat(t.f),n=xo(t.c,e);return n||e[e.length-1]==t.c.keyPath&&(n=xo(t.c,e.slice(0,e.length-1)))?n:null}function ys(t){return(t=bs(t))?t.getName():void 0}function ks(t){return 0<t.b.length||(1==t.f.length?t.f[0]!=t.c.keyPath:1<t.f.length)}function xs(t,e,n,r){gs.call(this,t,e,n),this.a=r}function Ss(t,e,n,r){gs.call(this,t,e,n),this.a=r}function Es(t){return vs(t.a,!(2==t.type||3==t.type||1==t.type))}function Cs(){this.a=b()}k(ls,Kn),ls.prototype[Ua]=!0,ls.prototype.addEventListener=function(t,e,n,r){Ja(this,t,e,n,r)},ls.prototype.removeEventListener=function(t,e,n,r){Qa(this,t,e,n,r)},ls.prototype.fa=function(){if(ls.B.fa.call(this),this.ga){var t,e=this.ga;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)za(n[r]);delete e.a[t],e.b--}}this.a=null},ci.prototype.addEventListener=function(t,e,n,r){if("ready"==t)Za(cs(this),t,e,n,r);else{var o="created error fail ready deleted updated versionchange".split(" "),i=function(t){if(!(0<=V(o,t)))throw new on('Invalid event type "'+t+'"')};if(a(t))for(var s=0;s<t.length;s++)i(t[s]);else i(t);Ja(cs(this),t,e,n,r)}},ci.prototype.removeEventListener=function(t,e,n,r){Qa(cs(this),t,e,n,r)},ci.prototype.J=function(t){var e,n,r=cs(this),o=r.a;if(o)for(e=[];o;o=o.a)e.push(o);if(r=r.b,o=t.type||t,s(t))t=new Wr(t,r);else if(t instanceof Wr)t.target=t.target||r;else{var i=t;ut(t=new Wr(o,r),i)}if(i=!0,e)for(var a=e.length-1;0<=a;a--)i=us(n=t.b=e[a],o,!0,t)&&i;if(i=us(n=t.b=r,o,!0,t)&&i,i=us(n,o,!1,t)&&i,e)for(a=0;a<e.length;a++)i=us(n=t.b=e[a],o,!1,t)&&i},k(hs,xa),k(fs,mr),fs.prototype.h=function(){return!1},fs.prototype.c=function(t,e){var r=[],o=!0;return function e(i){n(t[i])?(o=!1,r[i]=!0):(r[i]=!1,0<=i-1&&e(i-1))}(t.length-1),o&&(r=[]),function(t,e,r){var o,i=null!=o;if(!n(o)){i=null!=(o=r[0]);for(var a=1;i&&a<r.length;a++)null!=r[a]&&0==hr(r[a],o)||(i=!1)}return i&&(t.g++,t.a&&(t.f?t.a.push(o,void 0):t.a.push(o)),n(t.i)&&t.g>=t.i)?[]:e}(this,r,e)},k(ps,mr),ps.prototype.c=function(t,e){var n=[],r=e[0];if(null==r)return[];for(var o=!0,i=!1,a=r,s=[],l=1;l<t.length;l++)if(null!=e[l]){var u=hr(r,e[l]);s[l]=u,this.b?-1==u?o=!1:1==u&&(o=!1,i=!0,-1==hr(e[l],a)&&(a=e[l])):1==u?o=!1:-1==u&&(o=!1,i=!0,1==hr(e[l],a)&&(a=e[l]))}else o=!1,i=!0;if(o)for(i=0;i<t.length;i++)null!=e[i]&&(n[i]=!0);else if(i)for(i=0;i<t.length;i++)null!=e[i]&&(this.b?-1==hr(a,e[i])&&(n[i]=a):1==hr(a,e[i])&&(n[i]=a));else for(l=this.b?-1:1,i=1;i<t.length;i++)s[i]===l&&(n[i]=r);return o?(this.g++,this.a&&this.a.push(a),n):{continuePrimary:n}},k(ds,mr),ds.prototype.logger=Xe("ydn.db.algo.ZigzagMerge"),ds.prototype.c=function(t,e){function n(t,e){var n=t.slice(0,t.length-1);return n.push(e),n}function r(t){return t[t.length-1]}var o=[];if(0==t.length||null==t[0]||null==t[0])return[];for(var i=!0,a=0,s=r(t[a]),l=[],u=1;u<t.length;u++){if(null==t[u])return[];var c=r(t[u]),h=hr(s,c);l[u]=h,this.b?-1==h?i=!1:1==h&&(i=!1,s=c,a=1):1==h?i=!1:-1==h&&(i=!1,s=c,a=1)}if(u=this.b?-1:1,i){for(i=0;i<t.length;i++)null!=t[i]&&(o[i]=!0);return this.a&&(this.f?this.a.push(e[0],s):this.a.push(e[0])),o}if(0==a)for(i=1;i<t.length;i++)l[i]==u&&(o[i]=n(t[i],s));else for(i=0;i<t.length;i++)i!=a&&null!=t[i]&&hr(s,r(t[i]))===u&&(o[i]=n(t[i],s));return{continue:o}},y("ydn.db.algo.NestedLoop",fs),y("ydn.db.algo.ZigzagMerge",ds),y("ydn.db.algo.SortedMerge",ps),ti.prototype.close=ti.prototype.close,ti.prototype.getType=ti.prototype.Ba,ti.prototype.getName=ti.prototype.getName,ti.prototype.getSchema=ti.prototype.N,ti.prototype.onReady=ti.prototype.ib,ti.prototype.setName=ti.prototype.C,ti.prototype.transaction=ti.prototype.transaction,ti.prototype.db=ti.prototype.Kc,y("ydn.db.version","1.3.0"),y("ydn.db.cmp",hr),y("ydn.db.deleteDatabase",(function(t,e){for(var n,r=0;r<fr.length;r++){var o=fr[r](t,e);o&&(n=o)}return n||cr("IDBVersionChangeEvent ",null)})),Zr.prototype.name=Zr.prototype.name,Zr.prototype.getVersion=Zr.prototype.Nc,Zr.prototype.getOldVersion=Zr.prototype.oc,Zr.prototype.getOldSchema=Zr.prototype.nc,Qr.prototype.getError=Qr.prototype.c,rr.prototype.abort=rr.prototype.abort,rr.prototype.canAbort=rr.prototype.lc,hn.prototype.progress=hn.prototype.Tb,hn.prototype.promise=hn.prototype.zc,y("ydn.db.KeyRange",pn),pn.only=gn,pn.bound=wn,pn.upperBound=mn,pn.lowerBound=vn,pi.prototype.countOf=pi.prototype.Ga,pi.prototype.keysOf=pi.prototype.Ka,pi.prototype.open=pi.prototype.open,pi.prototype.scan=pi.prototype.Lc,pi.prototype.valuesOf=pi.prototype.Na,zr.prototype.countOf=zr.prototype.Ga,zr.prototype.keysOf=zr.prototype.Ka,zr.prototype.open=zr.prototype.open,zr.prototype.scan=zr.prototype.Nb,zr.prototype.valuesOf=zr.prototype.Na,Wn.prototype.getKey=Wn.prototype.Mc,Wn.prototype.getPrimaryKey=Wn.prototype.T,Wn.prototype.getValue=Wn.prototype.Ca,Wn.prototype.update=Wn.prototype.update,Wn.prototype.clear=Wn.prototype.clear,y("ydn.db.Iterator",Xn),y("ydn.db.KeyIterator",Zn),y("ydn.db.ValueIterator",tr),y("ydn.db.IndexIterator",Qn),y("ydn.db.IndexValueIterator",er),Xn.prototype.getState=Xn.prototype.pc,Xn.prototype.getKeyRange=Xn.prototype.gc,Xn.prototype.getIndexName=Xn.prototype.Ac,Xn.prototype.getStoreName=Xn.prototype.Dc,Xn.prototype.isReversed=Xn.prototype.da,Xn.prototype.isUnique=Xn.prototype.za,Xn.prototype.isKeyIterator=Xn.prototype.Ec,Xn.prototype.isIndexIterator=Xn.prototype.qc,Xn.prototype.getPrimaryKey=Xn.prototype.Cc,Xn.prototype.getKey=Xn.prototype.Bc,Xn.prototype.resume=Xn.prototype.hc,Xn.prototype.reset=Xn.prototype.Jb,Xn.prototype.reverse=Xn.prototype.reverse,Zn.where=function(t,e,n,r,o){return new Zn(t,Cn(e,n,r,o))},tr.where=function(t,e,n,r,o){return new tr(t,Cn(e,n,r,o))},Qn.where=function(t,e,n,r,o,i){return new Qn(t,e,Cn(n,r,o,i))},er.where=function(t,e,n,r,o,i){return new er(t,e,Cn(n,r,o,i))},y("ydn.db.Streamer",dr),dr.prototype.push=dr.prototype.push,dr.prototype.collect=dr.prototype.Jc,dr.prototype.setSink=dr.prototype.xc,ci.prototype.branch=ci.prototype.kc,ci.prototype.getTxNo=ci.prototype.Pc,_r.prototype.getTxNo=_r.prototype.Oc,ci.prototype.run=ci.prototype.tc,fi.prototype.branch=fi.prototype.kc,fi.prototype.add=fi.prototype.add,fi.prototype.addAll=fi.prototype.Ta,fi.prototype.get=fi.prototype.get,fi.prototype.keys=fi.prototype.keys,fi.prototype.keysByIndex=fi.prototype.Ja,fi.prototype.values=fi.prototype.values,fi.prototype.valuesByIndex=fi.prototype.Ma,fi.prototype.put=fi.prototype.put,fi.prototype.putAll=fi.prototype.kb,fi.prototype.clear=fi.prototype.clear,fi.prototype.remove=fi.prototype.sb,fi.prototype.count=fi.prototype.count,Kr.prototype.add=Kr.prototype.add,Kr.prototype.addAll=Kr.prototype.Ta,Kr.prototype.get=Kr.prototype.get,Kr.prototype.keys=Kr.prototype.keys,Kr.prototype.keysByIndex=Kr.prototype.Ja,Kr.prototype.values=Kr.prototype.values,Kr.prototype.valuesByIndex=Kr.prototype.Ma,Kr.prototype.put=Kr.prototype.put,Kr.prototype.putAll=Kr.prototype.kb,Kr.prototype.clear=Kr.prototype.clear,Kr.prototype.remove=Kr.prototype.sb,Kr.prototype.count=Kr.prototype.count,y("ydn.db.Key",Ar),Ar.prototype.id=Ar.prototype.mc,Ar.prototype.parent=Ar.prototype.Fc,Ar.prototype.storeName=Ar.prototype.Gc,y("ydn.db.KeyRange",pn),pn.upperBound=mn,pn.lowerBound=vn,pn.bound=wn,pn.only=gn,pn.starts=bn,Xr.prototype.store_name=Xr.prototype.s,Xr.prototype.getStoreName=Xr.prototype.a,eo.prototype.name=eo.prototype.name,eo.prototype.getKey=eo.prototype.c,eo.prototype.getValue=eo.prototype.f,no.prototype.name=no.prototype.name,no.prototype.getKeys=no.prototype.na,no.prototype.getValues=no.prototype.cb,ws.prototype.clone=function(){var t=new ws(this.c,this.a,this.h,this.g);return t.f=this.f.slice(),t.b=this.b.slice(),t},ws.prototype.reverse=function(){var t=this.clone();return t.h=!this.h,t},ws.prototype.unique=function(t){var e=this.clone();return e.g=!!t,e},ws.prototype.v=function(t,e,n,r,o){if(n=Cn(e,n,r,o),0<this.b.length){if(!this.a)return"cannot use where clause with existing filter";if(null!=this.a.lower&&null!=this.a.upper&&0==hr(this.a.lower,this.a.upper))t=i(this.a.lower)?this.a.lower.slice().push(e):[this.a.lower,e],r=null!=r?r:"￿",n=i(this.a.upper)?this.a.upper.slice().push(r):[this.a.upper,r],this.a=Cn(e,t,r,n);else{if(!(1==this.b.length&&this.b[0]==t||i(t)&&tt(this.b,t)))return"cannot use where clause with existing filter";this.a=this.a.ka(n)}}else this.b=i(t)?t:[t],this.a=this.a?this.a.ka(n):n;return null},k(xs,gs),xs.prototype.open=function(){var t={push:function(){}};return t=function(t){for(var e=0;e<t.a.length;e++)if(0<t.a[e].b.length)return!0;return!1}(this)?new ds(t):new ps(t),this.db.Nb(t,function(t){for(var e=[],n=0;n<t.a.length;n++)e[n]=vs(t.a[n]);return e}(this),_n)},xs.prototype.Ab=function(){return this.a.slice()},xs.prototype.select=function(){throw Error("not impl")},xs.prototype.reverse=function(){var t=this.a.map((function(t){return t.reverse()}));return new xs(this.db,this.b,this.type,t)},k(Ss,gs),(t=Ss.prototype).Hc=function(){return new Ss(this.db,this.b,this.type,this.a.clone())},t.reverse=function(){var t=this.a.reverse();return new Ss(this.db,this.b,this.type,t)},t.unique=function(t){if(!l(t))throw new on("unique value must be a boolean, but "+typeof t+" found");return t=this.a.unique(t),new Ss(this.db,this.b,this.type,t)},t.X=function(t){var e=s(t)?[t]:t;if(e=ms(t=this.a.clone(),e))throw Error(e);return new Ss(this.db,this.b,this.type,t)},t.v=function(t,e,n,r,o){if(ys(this.a)&&ys(this.a)!=t){var i=Cn(e,n,r,o);return i=new ws(_o(this.b,this.a.c.getName()),i,this.a.h,this.a.g),this.ka(new Ss(this.db,this.b,this.type,i))}if(!ys(this.a)&&!So(_o(this.b,this.a.c.getName()),t))throw new on('index "'+t+'" not exists in '+this.a.c.getName());if(t=(i=this.a.clone()).v(t,e,n,r,o))throw new on(t);return new Ss(this.db,this.b,this.type,i)},t.select=function(t){var e=_o(this.b,this.a.c.getName()),r=s(t)?[t]:t,o=this.type;if(t=this.a.clone(),o=ys(this.a),1==r.length)if("_ROWID_"==(o=r[0])||o==e.keyPath)o=2;else if(o&&"*"!=o){if(!So(e,o))throw new on('Invalid select "'+o+'", index not found in store "'+e.getName()+'"');if(e=ms(t,r))throw new on(e);o=1}else o=4;else{if(2!=r.length)throw new on("Selecting more than 2 field names is not supported, but "+r.length+" fields selected.");if(!o)throw new on("Only primary key can be selected for this query.");for(var i=0;2>i;i++){var l;if(l="_ROWID_"!=r[i]){l=e;var u=r[i];l=!(n(l.keyPath)&&(1==l.h.length?l.keyPath===u:a(u)&&tt(l.h,u)))}if(l&&r[i]!=o)throw new on('select field name must be "'+o+'", but "'+r[i]+'" found.')}o=3}return new Ss(this.db,this.b,o,t)},t.Ic=function(t){t=t||100;var e=4,n=Es(this);return this.c&&this.c[0]&&(n=n.hc(this.c[0],this.c[1])),2!=this.type&&3!=this.type&&1!=this.type||(e=this.type),t=function(t,e,n,r){var o=n.b,i=n.c||null,a=r||100;rn(t.logger,"listIter:"+e+" "+n+(r?" limit="+a:""));var s=t.a.request("values:iter:index",[o]),l="done"==n.g||n.g==nr?[]:[n.i,n.j];return lr(s,(function(){Ur(this).$(s,e,o,i,n.gc(),a,0,n.da(),n.za(),l)}),t),s.H((function(){null!=l[0]?n.Jb("rest",l[0],l[1]):n.Jb()})),s}(this.db,e,n,t),t.H((function(){"rest"==n.g&&(this.c=[n.i,n.j])}),this),t},t.Ab=function(){return[this.a.clone()]},t.sc=function(t,e){var n=Es(this);if(n.f&&(n=new Xn(n.b,n.c,n.a,n.da(),n.za(),!1,n.h)),1>arguments.length)throw new on("too few arguments");if(2==arguments.length){if(!s(t)&&i(t)){if(!i(e))throw new on("an array is expected for second argument but, "+jo(e)+" of type "+typeof e+" found");if(t.length!=e.length)throw new on("length of two input arguments must be equal but, "+t.length+" and "+e.length+" found")}}else{if(1!=arguments.length)throw new on("too many arguments");if(!h(t))throw new on("an object is expected but, "+jo(t)+" of type "+typeof t+" found")}var r=this.db.open((function(n){var o=n.Ca();if(s(t))An(o,t,e);else if(i(t))for(var a=0;a<t.length;a++)An(o,t[a],e[a]);else if(h(t))for(a in t)t.hasOwnProperty(a)&&(o[a]=t[a]);!function(t,e){e instanceof Ct?t.H(w(e.ia,e)):t.H((function(){return e}))}(r,n.update(o))}),n,_n,this);return r},t.open=function(t,e){return this.db.open(t,Es(this),_n,e)},t.count=function(){return ks(this.a)?this.a.g?this.db.count(vs(this.a)):this.db.count(this.a.c.getName(),ys(this.a),this.a.a):this.db.count(this.a.c.getName(),this.a.a)},t.clear=function(){return ks(this.a)?this.db.clear(this.a.c.getName(),ys(this.a),this.a.a):this.db.clear(this.a.c.getName(),this.a.a)},t.ka=function(t){return t=t.Ab().concat(this.Ab()),new xs(this.db,this.b,this.type,t)},pi.prototype.V=function(t,e,r,o,i){if(!s(t))throw new TypeError('store name "'+t+'"');if(!Uo(this.a,t))throw new on('Store "'+t+'" not found.');var a=null;if(n(e)){if(!n(r))throw new on("boundary value must be defined.");a=Cn(e,r,o,i)}else if(n(o))throw new on("second boundary must not be defined.");return t=new ws(_o(this.a,t),a),new Ss(this.c,this.a,null,t)},zr.prototype.V=function(t,e,r,o,i){if(!s(t))throw new TypeError('store name "'+t+'"');if(!Uo(this.b,t))throw new on('Store "'+t+'" not found.');var a=null;if(n(e)){if(!n(r))throw new on("boundary value must be defined.");a=Cn(e,r,o,i)}else if(n(o))throw new on("second boundary must not be defined.");return t=new ws(_o(this.b,t),a),new Ss(this,this.b,null,t)},Xe("ydn.db.query.ConjunctionCursor"),Ss.prototype.copy=Ss.prototype.Hc,Ss.prototype.count=Ss.prototype.count,Ss.prototype.list=Ss.prototype.Ic,Ss.prototype.order=Ss.prototype.X,Ss.prototype.patch=Ss.prototype.sc,Ss.prototype.reverse=Ss.prototype.reverse,Ss.prototype.unique=Ss.prototype.unique,Ss.prototype.where=Ss.prototype.v,pi.prototype.from=pi.prototype.V,zr.prototype.from=zr.prototype.V,xa.prototype.executeSql=xa.prototype.executeSql,ka.prototype.executeSql=ka.prototype.executeSql,ci.prototype.addEventListener=ci.prototype.addEventListener,ci.prototype.removeEventListener=ci.prototype.removeEventListener;var Ns=new Cs;function Os(t){this.g=t||"",this.h=Ns}function As(t){return Ts((t=new Date(t.g)).getFullYear()-2e3)+Ts(t.getMonth()+1)+Ts(t.getDate())+" "+Ts(t.getHours())+":"+Ts(t.getMinutes())+":"+Ts(t.getSeconds())+"."+Ts(Math.floor(t.getMilliseconds()/10))}function Ts(t){return 10>t?"0"+t:String(t)}function Ps(t,e){var n=(t.g-e)/1e3,r=n.toFixed(3),o=0;if(1>n)o=2;else for(;100>n;)o++,n*=10;for(;0<o--;)r=" "+r;return r}function Is(t){Os.call(this,t)}function qs(t,n){var o;switch(n.f.value){case Re.value:o="dbg-sh";break;case Le.value:o="dbg-sev";break;case Me.value:o="dbg-w";break;case Fe.value:o="dbg-i";break;default:o="dbg-f"}(i=[]).push(t.g," "),t.a&&i.push("[",As(n),"] "),i.push("[",Ps(n,t.h.get()),"s] "),i.push("[",n.b,"] ");var i=re(i.join("")),a=he;if(t.b&&n.a){var l;a=se("br");try{var u,c,h=n.a,f=r("window.location.href");if(s(h))u={message:h,name:"Unknown error",lineNumber:"Not available",fileName:f,stack:"Not available"};else{var p,d,g=!1;try{p=h.lineNumber||h.Rc||"Not available"}catch(t){p="Not available",g=!0}try{d=h.fileName||h.filename||h.sourceURL||e.$googDebugFname||f}catch(t){d="Not available",g=!0}u=!g&&h.lineNumber&&h.fileName&&h.stack&&h.message&&h.name?h:{message:h.message||"Not available",name:h.name||"UnknownError",lineNumber:p,fileName:d,stack:h.stack||"Not available"}}var w,m=u.fileName;null!=m||(m=""),/^https?:\/\//i.test(m)?((h=m)instanceof Vt?w=h:(h=h.oa?h.ha():String(h),h=$t.test(h)?function(t){try{var e=encodeURI(t)}catch(t){return"about:invalid#zClosurez"}return e.replace(Yt,(function(t){return Gt[t]}))}(h):"about:invalid#zClosurez",w=Xt(h)),Ft("view-source scheme plus HTTP/HTTPS URL"),c=Xt("view-source:"+Wt(w))):c=Xt(Lt(Ft("sanitizedviewsrc"))),l=le(re("Message: "+u.message+"\nUrl: "),se("a",{href:c,target:"_new"},u.fileName),re("\nLine: "+u.lineNumber+"\n\nBrowser stack:\n"+u.stack+"-> [end]\n\nJS stack traversal:\n"+Te(void 0)+"-> "))}catch(t){l=re("Exception trying to expose exception! You win, we lose. "+t)}a=le(a,l)}return o=se("span",{class:o},le(l=re(n.c),a)),t.c?le(i,o,se("br")):le(i,o)}function js(t){Os.call(this,t)}function Bs(){this.g=w(this.h,this),this.a=new js,this.a.a=!1,this.a.b=!1,this.b=this.a.c=!1,this.c="",this.f={}}Cs.prototype.set=function(t){this.a=t},Cs.prototype.get=function(){return this.a},Os.prototype.c=!0,Os.prototype.a=!0,Os.prototype.b=!1,k(Is,Os),Is.prototype.b=!0,Is.prototype.f=function(t){return t?qs(this,t).ha():""},k(js,Os),js.prototype.f=function(t){var e=[];return e.push(this.g," "),this.a&&e.push("[",As(t),"] "),e.push("[",Ps(t,this.h.get()),"s] "),e.push("[",t.b,"] "),e.push(t.c),this.b&&(t=t.a)&&e.push("\n",t instanceof Error?t.message:t.toString()),this.c&&e.push("\n"),e.join("")},Bs.prototype.h=function(t){if(!this.f[t.b]){var e=this.a.f(t),n=Ds;if(n)switch(t.f){case Re:Rs(n,"info",e);break;case Le:Rs(n,"error",e);break;case Me:Rs(n,"warn",e);break;default:Rs(n,"debug",e)}else this.c+=e}};var Ds=e.console;function Rs(t,e,n){t[e]?t[e](n):t.log(n)}var Ls=!me||me&&9<=Ae;!ve&&!me||me&&me&&9<=Ae||ve&&Ne("1.9.1"),me&&Ne("9");var Ms={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function Fs(t){if(t&&"number"==typeof t.length){if(h(t))return"function"==typeof t.item||"string"==typeof t.item;if(c(t))return"function"==typeof t.item}return!1}function _s(t){this.a=t||e.document||document}function Us(t,e){var n;n=t.a;var r=e&&"*"!=e?e.toUpperCase():"";return n.querySelectorAll&&n.querySelector&&r?n.querySelectorAll(r+""):n.getElementsByTagName(r||"*")}function Hs(t){me&&n(t.cssText)?t.cssText=".dbg-sev{color:#F00}.dbg-w{color:#C40}.dbg-sh{font-weight:bold;color:#000}.dbg-i{color:#444}.dbg-f{color:#999}.dbg-ev{color:#0A0}.dbg-m{color:#990}.logmsg{border-bottom:1px solid #CCC;padding:2px}.logsep{background-color: #8C8;}.logdiv{border:1px solid #CCC;background-color:#FCFCFC;font:medium monospace}":t.innerHTML=".dbg-sev{color:#F00}.dbg-w{color:#C40}.dbg-sh{font-weight:bold;color:#000}.dbg-i{color:#444}.dbg-f{color:#999}.dbg-ev{color:#0A0}.dbg-m{color:#990}.logmsg{border-bottom:1px solid #CCC;padding:2px}.logsep{background-color: #8C8;}.logdiv{border:1px solid #CCC;background-color:#FCFCFC;font:medium monospace}"}function Ks(t){this.g=w(this.h,this),this.b=new Is,this.c=this.b.a=!1,this.a=t,this.f=this.a.ownerDocument||this.a.document;var e=null,n=(t=(t=this.a)?new _s(9==t.nodeType?t:t.ownerDocument||t.document):v||(v=new _s)).a;me&&n.createStyleSheet?Hs(e=n.createStyleSheet()):((n=Us(t,"head")[0])||(e=Us(t,"body")[0],n=t.b("head"),e.parentNode.insertBefore(n,e)),Hs(e=t.b("style")),n.appendChild(e)),this.a.className+=" logdiv"}_s.prototype.b=function(t,e,n){var r=this.a,o=arguments,l=o[0],u=o[1];if(!Ls&&u&&(u.name||u.type)){if(l=["<",l],u.name&&l.push(' name="',A(u.name),'"'),u.type){l.push(' type="',A(u.type),'"');var c={};ut(c,u),delete c.type,u=c}l.push(">"),l=l.join("")}return l=r.createElement(l),u&&(s(u)?l.className=u:i(u)?l.className=u.join(" "):function(t,e){!function(t,e){for(var n in t)e.call(void 0,t[n],n,t)}(e,(function(e,n){"style"==n?t.style.cssText=e:"class"==n?t.className=e:"for"==n?t.htmlFor=e:n in Ms?t.setAttribute(Ms[n],e):0==n.lastIndexOf("aria-",0)||0==n.lastIndexOf("data-",0)?t.setAttribute(n,e):t[n]=e}))}(l,u)),2<o.length&&function(t,e,n){function r(n){n&&e.appendChild(s(n)?t.createTextNode(n):n)}for(var o=2;o<n.length;o++){var i=n[o];!a(i)||h(i)&&0<i.nodeType?r(i):W(Fs(i)?Q(i):i,r)}}(r,l,o),l},_s.prototype.contains=function(t,e){if(t.contains&&1==e.nodeType)return t==e||t.contains(e);if(void 0!==t.compareDocumentPosition)return t==e||Boolean(16&t.compareDocumentPosition(e));for(;e&&t!=e;)e=e.parentNode;return e==t},Ks.prototype.h=function(t){if(t){var e=100>=this.a.scrollHeight-this.a.scrollTop-this.a.clientHeight,n=this.f.createElement("div");n.className="logmsg",t=qs(this.b,t),n.innerHTML=ee(t),this.a.appendChild(n),e&&(this.a.scrollTop=this.a.scrollHeight)}},Ks.prototype.clear=function(){this.a&&(this.a.innerHTML=ee(he))};var zs=null,Vs=null;Xe("ydn.debug"),y("ydn.debug.log",(function(t,e,r){if(t=t||"ydn",u(e))e=new De("log",e);else if(s(e)){if(e=e.toUpperCase(),!Ve){Ve={};for(var o,i=0;o=ze[i];i++)Ve[o.value]=o,Ve[o.name]=o}e=Ve[e]||null}else e=Ue;(i=Xe(t))?i.b=e:window.console.log("logger "+t+" not available."),n(r)?!Vs&&(1!=(t=Vs=new Ks(r)).c&&(r=Je(),e=t.g,r.a||(r.a=[]),r.a.push(e),t.c=!0),t=Je())&&(t.b=Me):!zs&&!Vs&&(1!=(t=zs=new Bs).b&&(r=Je(),e=t.g,r.a||(r.a=[]),r.a.push(e),t.b=!0),t=Je())&&(t.b=Me)})),y("ydn.db.Storage",hs)}()}},e={};function n(r){var o=e[r];if(void 0!==o)return o.exports;var i=e[r]={exports:{}};return t[r].call(i.exports,i,i.exports,n),i.exports}n.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return n.d(e,{a:e}),e},n.d=(t,e)=>{for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),(()=>{"use strict";var t=n(455),e=n.n(t);function r(t,e){var n=i();return(r=function(t,e){return n[t-=252]})(t,e)}n(331);var o=r;function i(){var t=["d-none","easeInOut","ready","delegate",".pause-continue-img",".pause","css",".reset","./assets/image/pause.svg","580138iUmPgr","error","auto",".continue","#container","stop","223220qnwGzt","388072VZMwVW","./assets/image/start.svg",".stop-div","Do you want to continue","9327GGTQPf","Error!","2104764yQsdsW","none","src","set","268ZoCOWl","click","runner","resume","pause","removeClass","4153792VMCepa","continue","attr","Cool","addClass","#runner","574567ZDhKLG","fire",".start-div",".start",".pause-reset","animate"];return(i=function(){return t})()}!function(t,e){for(var n=r,o=t();;)try{if(264601==parseInt(n(261))/1+-parseInt(n(254))/2+-parseInt(n(265))/3*(-parseInt(n(271))/4)+parseInt(n(260))/5+parseInt(n(267))/6+parseInt(n(283))/7+-parseInt(n(277))/8)break;o.push(o.shift())}catch(t){o.push(o.shift())}}(i),$(document)[o(291)]((function(){var t=o,n=new ProgressBar.Circle(t(258),{strokeWidth:11,easing:t(290),duration:6e3,color:"#418DEC",trailColor:"#D5E6FA",trailWidth:11,svgStyle:null});$("#runner").runner(),$(t(285))[t(292)](t(286),t(272),(function(){var e=t;$("#runner")[e(273)]("start"),n[e(288)](1),$(e(287))[e(276)](e(289)),$(".start-div").css({opacity:0,"pointer-events":e(268)}),$(e(293))[e(279)](e(269))!=e(253)&&($(".pause-continue-img")[e(279)]("src",e(253)),$(e(257))[e(276)]("continue").addClass(e(275)))})),$(t(287))[t(292)](t(257),"click",(function(){var e=t;$(e(282))[e(273)]("start"),n[e(274)](),$(e(293))[e(279)]("src",e(253)),$(e(257))[e(276)](e(278))[e(281)](e(275))})),$(t(287)).delegate(".pause",t(272),(function(){var e=t;$(e(282))[e(273)](e(259)),n[e(275)](),$(e(293))[e(279)]("src",e(262)),$(e(294))[e(276)](e(275))[e(281)](e(278))})),$(t(287))[t(292)](t(252),"click",(function(){var e=t;$(e(282)).runner("reset",!0),n[e(270)](0),$(e(285))[e(295)]({opacity:1,"pointer-events":e(256)}),$(e(287)).addClass(e(289))})),$(t(263))[t(292)](".stop",t(272),(function(){var n=t;e()[n(284)]({title:n(266),text:n(264),icon:n(255),confirmButtonText:n(280)})})),function(){let t=new ydn.db.Storage("flowfocus",{stores:[{name:"tasks",keyPath:"task_id",autoIncrement:!0,indexes:[{name:"task_name",keyPath:"task_name",multiEntry:!0},{name:"task_description",keyPath:"task_description",multiEntry:!0}]}]});$.get("./assets/templates/task.html",(function(n){let r=$("<div>").append($.parseHTML(n)).find("#taskholder");$(".add_task_btn").click((function(){let n=$(".task_name_inp").val(),o=n.length;if(o>0&&o<=15){let e=r.clone();e.find(".task-name").val(n),$(".task-container").append(e),t.put("tasks",{task_name:n,task_description:"Task Description"})}else e().fire({customClass:{popup:"popup-text-color",confirmButton:"popup-default-confirm"},title:"Error!",text:0==o?"Enter the Task Name":"Task Name is too much long :(",icon:"error",confirmButtonText:"Cool"})})),t.executeSql("SELECT * FROM tasks").then((function(t){$.each(t,(function(t,e){let n=r.clone();n.find(".task-name").val(e.task_name),$(".task-container").append(n)}))}),(function(t){console.log("error: ",t)}))}),"text")}()}))})()})();